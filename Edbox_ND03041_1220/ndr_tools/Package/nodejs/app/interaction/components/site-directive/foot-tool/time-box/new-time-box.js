define(["angularAMD"],function(e){e.directive("newTimeBox",["$stateParams","ngDialog",function(e,i){return{restrict:"EA",templateUrl:"interaction/components/site-directive/foot-tool/time-box/time-box.html",scope:!1,replace:!1,link:function(t,o,n){t.isPreview=e.isPreview,t.isSample=e.isSample;var a=function(){var e=$(window).height(),i=$(window).width(),t=Math.min(900,e-50),o=Math.min(1280,i-100);return{width:o/(16/9)>t-82?16/9*(t-82):o,height:o/(16/9)>t-82?t:o/(16/9)+82}};t.openSample=function(){var o=angular.element(window).height(),n=.85*o;t.bodyStyle={width:"99%",height:n+"px",border:"0 none","vertical-align":"middle"};var l=a(),p=[window.location.protocol,"//",window.location.host,"/editor/basic-question/question.html#/import_sample?width=",l.width,"&height=",l.height];e.template||(e.template=e.question_type);for(var r in e)e.hasOwnProperty(r)&&"id"!=r&&"file_path"!=r&&"old_identifier"!=r&&"old_file_path"!=r&&(p.push("&"),p.push(r),p.push("="),p.push(encodeURIComponent(e[r]||"")));p.push("&old_identifier="+e.id),p.push("&old_file_path="+encodeURIComponent(e.file_path||"")),t.url=p.join(""),i.open({templateUrl:"interaction/components/site-directive/foot-tool/import-sample.html",scope:t,className:"bk-dialog popup-import-sample",overlay:!1})}}}}])});