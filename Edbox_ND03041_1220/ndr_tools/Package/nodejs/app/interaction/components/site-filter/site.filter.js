define(["angularAMD"],function(e){var t=function(e,t){if(t){var r=!1;if(t.indexOf("${ref-path}")>-1)t=t.replace("${ref-path}","");else{if(!(t.indexOf("${ref-base}")>-1))return t;r=!0,t=t.replace("${ref-base}","")}return"/v1.3/assets/get?is_interaction=true&from_ref_base="+r+"&question_id="+e.id+"&question_base="+(e.question_base||"")+"&filepath="+t}return""};e.filter("filterGetAPIRouteByWebRoute",["EnumsRouteQuestionType",function(e){return function(t){return t&&e[t]?e[t].api_route:""}}]).filter("filterGetAPIRouteByWebRouteV2",["EnumsRouteQuestionType",function(e){return function(t){return t&&e[t]?e[t].question_type:""}}]).filter("filterGetWebRouteByQuestionType",["EnumsRouteQuestionType",function(e){return function(t){if(t){var r="";return angular.forEach(e,function(e,n){e.question_type==t&&(r=n)}),r}return""}}]).filter("filterRefPath",["$stateParams",function(e){return function(r){return r?t(e,r):""}}]).filter("filterRefPathByOnline",["$stateParams",function(e){return function(e){if(e){var t=e.lastIndexOf("?"),r="";return t>-1&&(r=e.substring(t),e=e.substring(0,t)),encodeURIComponent(e).replace(encodeURIComponent("${ref-path}"),config.ref_path).replace(/%2F/g,"/")+r}return"interaction/styles/common/assets/images/loading.jpg"}}]).filter("filterRefPathThumb",["$stateParams",function(e){return function(r){return r?t(e,r):""}}]).filter("guesswordFilterRefPathThumb",["$stateParams",function(e){return function(r){return r?t(e,r):""}}]).filter("filterEnumCategory",[function(){return function(e){return e?{image:"filter.picture",video:"filter.video",audio:"filter.audio"}[e]:e}}]).filter("filterPreviewUrl",["$stateParams",function(e){return function(t,r){if(t){var n,i=e.question_base;return i?(i="file:///"+i.trim(),n="/"===i.charAt(i.length-1)?i+t+".pkg/main.xml":i+"/"+t+".pkg/main.xml"):n="../userdatas/edu/esp/interaction/"+t+".pkg/main.xml",t?[config.editor_host+"/player/index.html?main="+n,"&player-code=teacher&hidePage=toolbar,footer","&_lang_=",e._lang_,"&sys=",e.sys,"&rnd=",(new Date).getTime()].join(""):""}return""}}]).filter("zeroFill",[function(){return function(e){try{return e=parseInt(e,10),e<10&&e>-1?"0"+e:e}catch(e){return"0"}}}])});