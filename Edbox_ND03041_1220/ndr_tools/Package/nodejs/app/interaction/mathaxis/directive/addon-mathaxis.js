var AddonMathAxis=function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){return o.default},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),a=n(o),r=i(78),s=n(r),l=i(79),u=n(l),d=i(81),c=n(d),f=i(82),v=n(f),p=i(83),h=n(p),m=i(34),b=i(6),x=i(84),y=n(x),g=i(85),E=n(g),_=i(86),T=n(_),w=i(74),P=n(w),S=i(87),A=n(S),M=i(88),C=n(M),R=i(73),O=i(75),V=i(5),B=i(89),j=n(B),N=i(90),H=n(N),L=i(91),k=n(L);t.default={setLocationProperties:k.default,run:a.default,destroy:h.default,getState:u.default,setState:s.default,handleCallBack:v.default,setBasePath:c.default,pageShow:b.pageShow,initEditorCanvas:m.initEditorCanvas,getAxisExamModel:b.getAxisExamModel,setAxisExamModle:b.setAxisExamModle,moduleStart:b.moduleStart,initTeacherMobile:V.initTeacherMobile,initStudentMobile:V.initStudentMobile,initProjectionMobile:V.initProjectionMobile,initWeb:V.initWeb,initTeacherPc:V.initTeacherPc,getQuestionInfo:y.default,setPlayerController:E.default,onEventReceived:T.default,sendEventToCalc:P.default,sendEventToState:A.default,setUrlParams:C.default,getResult:R.getResult,getAnswerContent:R.getAnswerContent,getI18n:R.getI18n,getWrongPopup:R.getWrongPopup,registerTimer:O.registerTimer,syncTime:O.syncTime,moduleStartLoadData:b.moduleStartLoadData,_getService:j.default,saveState:H.default},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,i,n){(0,o.default)(e,t,!1,n)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=(i(4),i(6));i(9);t.default=function(e,t,i,n){o.default.model=t,o.default.view=e,o.default.scope=n,o.default.isWeb||o.default.isTeacherPc||o.default.isStudentMobile||(0,a.moduleStart)()},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5);!function(e){e&&e.__esModule}(n);t.addonName="mathaxis";t.lineColor="#333";var o={width:952,height:400,offsetLeft:199.328125,offsetTop:57.53125,frontage:850,endPosition:0};t.REAL_ESTATE=o;var a=[];t.answerValue=a;t.MAXMARKNUM=10;t.callNativePath="com.nd.pad.icr.ui.IcrJsBridge";t.eventName="NumberLine";var r=["A","B","C","D","E","F","G","H","I","J"];t.CHARACTER=r;var s={Coord_Point_Note:11,Coord_Point_Number:12,Calculate_Note:21,Calculate_Number:22};t.EXAM_TYPE=s;var l={INTEGER_SCOPE:40,NATURAL_SCOPE:20};t.SCODE_COPE=l;t.baseColor="#FF0000"},function(e,t,i){"use strict";function n(){d.default.isTeacherMobile=!1,d.default.isStudentMobile=!1,d.default.isProjectionMobile=!1,d.default.isTeacherPc=!1,d.default.isWeb=!1,d.default.isApp=!1}function o(){n(),d.default.isTeacherMobile=!0,d.default.isApp=!0}function a(){n(),d.default.isStudentMobile=!0,d.default.isApp=!0}function r(){n(),d.default.isProjectionMobile=!0,d.default.isApp=!0}function s(){n(),d.default.isWeb=!0,d.default.isApp=!1}function l(){n(),d.default.isTeacherPc=!0,d.default.isApp=!1}Object.defineProperty(t,"__esModule",{value:!0});var u=i(1),d=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default={initTeacherMobile:o,initStudentMobile:a,initProjectionMobile:r,initWeb:s,initTeacherPc:l},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){d()&&(h.default.isReEdit=!0),h.default.scope=e,r()}function a(){r(h.default.scope)}function r(){h.default.isFullPPT=!0,(h.default.isTeacherPc||h.default.isPPTShell)&&$(h.default.view).find(".com_layout").addClass("layout_whiteboard"),h.default.isTeacherMobile||h.default.isTeacherPc||h.default.isStudentMobile||h.default.isWeb||h.default.isReEdit?h.default.isTeacherMobile||h.default.isStudentMobile||h.default.isWeb||h.default.isTeacherPc?(h.default.isTeacherPc&&!h.default.isFullPPT?(x.REAL_ESTATE.width=$(h.default.view).find(".com_lay_board").width()/2,x.REAL_ESTATE.height=$(h.default.view).find(".com_lay_board").height(),$(h.default.view).find(".numberline-canvas").css({left:x.REAL_ESTATE.width/2})):h.default.isFullPPT?(x.REAL_ESTATE.width=$(h.default.view).find(".com_lay_board").width(),x.REAL_ESTATE.height=$(h.default.view).find(".com_lay_board").height()-20):(x.REAL_ESTATE.width=$(h.default.view).find(".com_lay_board").width(),x.REAL_ESTATE.height=$(h.default.view).find(".com_lay_board").height()),(0,y.threeStart)(),u()):h.default.isReEdit&&(l(),setTimeout(function(){(0,y.threeStart)()},1e3),h.default.isReEdit=!1):(h.default.isFirstTime=!0,(0,m.start)(),(0,m.showSelectTypeContainer)()),h.default.isStudentMobile&&(h.default.sendEventToCalc("show"),h.default.sendEventToCalc("notsubmit")),h.default.isStudentMobile&&(0,P.registerNativeListener)("ExamCallback",S.examCallBack),(0,C.initTimer)()}function s(){return h.default.isTeacherMobile||h.default.isStudentMobile||h.default.isWeb||h.default.isTeacherPc||h.default.isPPTShell}function l(){(0,m.start)();var e=d(),t=(0,w.parseModel)(e,!0);(0,V.enterSelectType)(t);var i=t.examType;i==x.EXAM_TYPE.Coord_Point_Note?t.create(e.valueArray):i==x.EXAM_TYPE.Coord_Point_Number?t.create(e.valueArray):i==x.EXAM_TYPE.Calculate_Note?t.create(e.valueArray,e.symbolArray):i==x.EXAM_TYPE.Calculate_Number&&t.create(e.valueArray,e.symbolArray)}function u(){if(h.default.model.question_url){c((0,w.parseModel)(h.default.model.question_url.content.examModel)),(0,b.decoData)()}}function d(){return B}function c(e){B=e}function f(){(0,R.clearCount)(),(0,O.setRegulationCount)(0),(0,m.close)(),B=null,(0,M.setToolbarStatus)(null),(0,A.resetCollection)(),(0,y.destroyThree)(),(0,P.unbindNativeListener)("ExamCallback"),(0,P.unbindNativeListener)("ExamInfoCallback"),h.default.renderer=null,C.AxisTimer&&C.AxisTimer.onDestory()}Object.defineProperty(t,"__esModule",{value:!0}),t.moduleStartLoadData=o,t.pageShow=a,t.moduleStart=r,t.isApp=s,t.getAxisExamModel=d,t.setAxisExamModle=c,t.moduleClose=f;var v=i(5),p=(n(v),i(1)),h=n(p),m=i(7),b=i(58),x=i(4),y=i(10),g=i(40),E=(n(g),i(47)),_=(n(E),i(48)),T=(n(_),i(54)),w=(n(T),i(71)),P=i(72),S=i(73),A=i(28),M=i(11),C=i(75),R=i(9),O=i(50),V=i(8),B=(i(34),void 0)},function(e,t,i){"use strict";function n(){(0,h.selectTypeDomEvent)(),(0,m.bindButtonEvent)()}function o(){}function a(){return $(p.default.view).find(".input-number-value")}function r(){$(p.default.view).find(".select-type-container").show()}function s(){$(p.default.view).find(".select-type-container").hide()}function l(){$(p.default.view).find(".mathaxis-main-container").show()}function u(){$(p.default.view).find(".mathaxis-main-container").hide()}function d(){a().empty()}function c(e){e?($(p.default.view).find(".btn_natural_num").addClass("on"),$(p.default.view).find(".btn_natural_num").addClass("pointer-events-none"),$(p.default.view).find(".btn_integer_num").removeClass("on"),$(p.default.view).find(".btn_integer_num").removeClass("pointer-events-none")):($(p.default.view).find(".btn_integer_num").addClass("on"),$(p.default.view).find(".btn_integer_num").addClass("pointer-events-none"),$(p.default.view).find(".btn_natural_num").removeClass("on"),$(p.default.view).find(".btn_natural_num").removeClass("pointer-events-none"))}function f(){$(p.default.view).find(".coordpoint_note").removeClass("on"),$(p.default.view).find(".coordpoint_number").removeClass("on"),$(p.default.view).find(".calc_note").removeClass("on"),$(p.default.view).find(".calc_number").removeClass("on")}Object.defineProperty(t,"__esModule",{value:!0}),t.start=n,t.close=o,t.getNumberBox=a,t.showSelectTypeContainer=r,t.hideSelectTypeContainer=s,t.showMainContainer=l,t.hideMainContainer=u,t.clearBuildDiv=d,t.selectTabDom=c,t.clearTypeSelect=f;var v=i(1),p=function(e){return e&&e.__esModule?e:{default:e}}(v),h=i(8),m=i(70);i(34)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){$(l.default.view).find(".select-type-container").off("click touchstart").on("click touchstart",function(e){e.preventDefault();var t=void 0,i=$(e.target).closest("a");$(i).hasClass("calculate")?($(i).addClass("pointer-events-none"),$(i).addClass("on"),$(l.default.view).find(".coord_point").removeClass("pointer-events-none"),$(l.default.view).find(".coord_point").removeClass("on"),$(l.default.view).find(".numline_choice_child_main").addClass("child_main_second")):$(i).hasClass("coord_point")?($(i).addClass("pointer-events-none"),$(i).addClass("on"),$(l.default.view).find(".calculate").removeClass("pointer-events-none"),$(l.default.view).find(".calculate").removeClass("on"),$(l.default.view).find(".numline_choice_child_main").removeClass("child_main_second")):$(i).hasClass("coordpoint_note")?t=new p.default:$(i).hasClass("coordpoint_number")?t=new m.default:$(i).hasClass("calc_note")?t=new x.default:$(i).hasClass("calc_number")&&(t=new g.default),t&&(t.create(),a(t))})}function a(e){(0,f.setAxisExamModle)(e),(0,d.hideSelectTypeContainer)(),(0,d.showMainContainer)(),(0,d.selectTabDom)(e.isInteger),l.default.renderer||(0,E.threeStart)(),l.default.renderer&&l.default.isFirstTime&&((0,c.clearCount)(),(0,w.setRegulationCount)(0),(0,T.setToolbarStatus)(null),(0,_.resetCollection)(),l.default.renderer=null,(0,E.threeStart)()),e.valueArray&&(0,P.initEditorCanvas)(!1),l.default.isReEdit?""==l.default.scope.model.title&&(l.default.scope.model.title=r(e.examType)):l.default.scope.$apply(function(t){""==t.model.title&&(t.model.title=r(e.examType))})}function r(e){return e==u.EXAM_TYPE.Coord_Point_Note?l.default.i18n.mathaxis_question1:e==u.EXAM_TYPE.Coord_Point_Number?l.default.i18n.mathaxis_question2:e==u.EXAM_TYPE.Calculate_Note?l.default.i18n.mathaxis_question3:e==u.EXAM_TYPE.Calculate_Number?l.default.i18n.mathaxis_question4:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.selectTypeDomEvent=o,t.enterSelectType=a;var s=i(1),l=n(s),u=i(4),d=i(7),c=i(9),f=(n(c),i(6)),v=i(40),p=n(v),h=i(47),m=n(h),b=i(48),x=n(b),y=i(54),g=n(y),E=i(10),_=i(28),T=i(11),w=i(50),P=i(34)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){de=0,ce=0,fe=[],ve=[],pe=0,he=0,me=1}function a(e){be=void 0==e||e}Object.defineProperty(t,"__esModule",{value:!0}),t.clearCount=o,t.setDisableEvent=a;var r=i(1),s=n(r),l=i(10),u=i(34),d=i(4),c=i(31),f=n(c),v=i(55),p=i(43),h=n(p),m=i(60),b=n(m),x=i(21),y=(n(x),i(50)),g=n(y),E=i(52),_=(n(E),i(11)),T=i(28),w=i(61),P=(n(w),i(62)),S=n(P),A=i(63),M=n(A),C=i(64),R=n(C),O=i(65),V=(n(O),i(18)),B=n(V),j=i(16),N=i(23),H=n(N),L=i(66),k=n(L),I=i(67),D=n(I),W=i(68),F=n(W),X=i(69),U=n(X),Y=i(44),G=n(Y),z=i(57),q=(i(56),i(53)),J=(n(q),i(12)),K=(n(J),i(46)),Q=(n(K),i(6)),Z=i(13),ee=n(Z),te=i(40),ie=(n(te),i(47)),ne=(n(ie),i(48)),oe=(n(ne),i(54)),ae=(n(oe),i(26)),re=n(ae),se=i(27),le=n(se),ue=i(30),de=0,ce=0,fe=[],ve=[],pe=0,he=0,me=1,be=!1,xe=null;t.default=function(){function e(e){if(!be){if(s.default.sendEventToCalc("submit"),e.targetTouches&&e.targetTouches.length>1)W=I=0;else{var t=e.targetTouches?e.targetTouches[0]:e;l.mouse.x=(t.clientX-A.offset().left)/d.REAL_ESTATE.width*2-1,l.mouse.y=-(t.clientY-A.offset().top)/d.REAL_ESTATE.height*2+1,l.raycaster.setFromCamera(l.mouse,l.camera);var n=l.raycaster.intersectObjects([V],!0);(0,S.default)(V,!1),(0,z.editeMarkPointText)(V,!1);(0,Q.getAxisExamModel)().isInteger;if(l.scene.getObjectByName("line").children[J].visible=!1,!n.length){(0,Q.getAxisExamModel)().isInteger;return l.scene.getObjectByName("line").children[J].visible=!1,s.default.renderer(),!1}if(C=n[0].object,O=l.raycaster.intersectObjects([l.plane]),O.length>0&&(P.startPoint=O[0].point,P.recordDistance=0),N=!0,"text"==C.name||"showText"==C.name){if("interval"==_.toolbarStatus._action||"regulation"==_.toolbarStatus._action||"mark"==_.toolbarStatus._action)return;if(V.getObjectByName("section")||V.getObjectByName("markPoint")||V.getObjectByName("regulation"))return;L=setTimeout(function(){(0,S.default)(V,!0)},1e3)}}w.addEventListener("mousemove",i,!1),w.addEventListener("mouseup",o,!1),w.addEventListener("mouseout",o,!1),w.addEventListener("touchmove",i,!1),w.addEventListener("touchend",o,!1),w.addEventListener("touchcancel",o,!1),w.addEventListener("touchleave",o,!1)}}function i(e){if(!be){if(l.scene.getObjectByName("line").children[J].visible=!1,e.targetTouches&&e.targetTouches.length>1)return!1;var t=e.targetTouches?e.targetTouches[0]:e;if(!C)return!1;l.mouse.x=(t.clientX-A.offset().left)/d.REAL_ESTATE.width*2-1,l.mouse.y=-(t.clientY-A.offset().top)/d.REAL_ESTATE.height*2+1,l.raycaster.setFromCamera(l.mouse,l.camera);var i=l.raycaster.intersectObjects([l.plane])[0];if(i){P.movePoint=i.point;var o=P.movePoint.x-P.startPoint.x;if(o>0?q=!0:o<0&&(Y=!0),q&&Y&&(X=!0,Y=!1,q=!1),!(Math.abs(o)<8&&Math.abs(P.movePoint.y-P.startPoint.y)<8)){N=!1;var a=null;switch(C.name){case"whiteCircle":case"redCircle":if(0!=(o=(0,D.default)(P,V))&&"mark"==_.toolbarStatus._action){-1==$(s.default.view).find(".on")[0].className.indexOf(C.parent.userData.clsName)&&($(s.default.view).find(".on").removeClass("on"),$(s.default.view).find("."+C.parent.userData.clsName).addClass("on"),(0,h.default)(C.parent.userData.clsName,16772999,16711680));if((0,z.getAllowBoolean)()){var r=(0,Q.getAxisExamModel)();if(r.examType==d.EXAM_TYPE.Coord_Point_Note){var c=100*parseInt(u.numberLine.data.pointB.x/100);if(0==r.isInteger){if(parseInt(10*C.parent.position.x)+parseInt(10*o)<=parseInt(10*c)&&parseInt(10*C.parent.position.x)+parseInt(10*o)>=parseInt(10*u.numberLine.data.pointA.x)){(0,v.moveMarkPoint)(C.parent,o,V),P.clsName=r.connectContorl.getSelectBtnClsName();var f=new THREE.Vector3;f.x=C.parent.position.x+u.offsetXY,f.y=u.offsetY,r.connectContorl.drawConnectLine(C.parent.userData.clsName,f),P.recordDistance-=o}}else if(parseInt(10*C.parent.position.x)+parseInt(10*o)<=parseInt(10*c)&&parseInt(10*C.parent.position.x)+parseInt(10*o)>=parseInt(10*u.numberLine.data.pointA.x)){(0,v.moveMarkPoint)(C.parent,o,V),P.clsName=r.connectContorl.getSelectBtnClsName();var f=new THREE.Vector3;f.x=C.parent.position.x-u.offsetX+u.offsetXY,f.y=u.offsetY,r.connectContorl.drawConnectLine(C.parent.userData.clsName,f),P.recordDistance-=o}l.scene.getObjectByName(C.parent.userData.clsName+"_cLine").position.z=C.parent.position.z}s.default.renderer()}}break;case"outCircle":case"inCircle":if(0!=(o=(0,D.default)(P,V))){var p=void 0;if("section"==C.parent.parent.name&&"interval"==_.toolbarStatus._action&&(P.activedObj||(P.activedObj=(0,U.default)(C.parent.getObjectByName("outCircle"),"0xffef87",V)),(0,M.default)(C.parent,o),P.recordDistance-=o),"regulation0"==C.parent.parent.name){if(a=C.parent.parent,"outset"==C.parent.name)break;(0,F.default)(C.parent.name,a,V,o)||(P.activedObj||(P.activedObj=(0,U.default)(C.parent.getObjectByName("outCircle"),"0xffef87",V)),P.recordDistance-=o)}else if(1==C.parent.pointCount||2==C.parent.pointCount)a=l.scene.getObjectByName("regulation0"),p=l.scene.getObjectByName("regulation1"),n(a,p,o);else if(3==C.parent.pointCount||4==C.parent.pointCount){l.scene.getObjectByName("outset4");a=l.scene.getObjectByName("regulation1"),p=l.scene.getObjectByName("regulation2"),n(a,p,o)}else if(5==C.parent.pointCount||6==C.parent.pointCount){l.scene.getObjectByName("outset6");a=l.scene.getObjectByName("regulation2"),p=l.scene.getObjectByName("regulation3"),n(a,p,o)}else 7!=C.parent.pointCount&&8!=C.parent.pointCount||(a=l.scene.getObjectByName("regulation3"),(0,F.default)("terminal",a,V,o)||(P.activedObj||(P.activedObj=(0,U.default)(C.parent.getObjectByName("outCircle"),"0xffef87",V)),P.recordDistance-=o))}s.default.renderer();break;default:s.default.renderer()}P.startPoint.copy(P.movePoint)}}}}function n(e,t,i){void 0===t?(0,F.default)("terminal",e,V,i)||(P.activedObj||(P.activedObj=(0,U.default)(C.parent.getObjectByName("outCircle"),"0xffef87",V)),P.recordDistance-=i):(0,F.default)("terminal",e,V,i,t)||(P.activedObj||(P.activedObj=(0,U.default)(C.parent.getObjectByName("outCircle"),"0xffef87",V)),P.recordDistance-=i)}function o(e){if(!be){if(l.scene.getObjectByName("line").children[J].visible=!1,C)if("clean"==_.toolbarStatus._action&&N){var t=C.parent;if("markPoint"==t.name){var n=(0,z.getAllowBoolean)();if(n){var a=t.userData.markText;(0,v.initArray)(t),t.parent.remove(t),(0,T.clear)(a),s.default.renderer()}}p(t)}else{if(N)switch((0,k.default)(P.startPoint,V),_.toolbarStatus._action){case"mark":var n=(0,z.getAllowBoolean)();l.scene.getObjectByName("group");if(n&&"whiteCircle"!==C.name&&"redCircle"!==C.name&&"group"==C.name){var r=(0,Q.getAxisExamModel)(),c=r.examType,f=l.scene.children[1],m=void 0,x=!1;if(0==r.isInteger){if(P.startPoint.x>=d.REAL_ESTATE.endPosition)break}else if(P.startPoint.x>=d.REAL_ESTATE.endPosition-u.offsetX)break;if(c==d.EXAM_TYPE.Coord_Point_Note){P.clsName=$(s.default.view).find(".on")[0].className.substr(16,20);for(var E=0;E<f.children.length;E++)f.children[E].userData.clsName==P.clsName&&(m=E,x=!0);if(x){var a=f.children[m].userData.markText;f.children[m].parent.remove(f.children[m]),(0,T.clear)(a)}if(0==r.isInteger){var t=(0,T.AddMarkPoint)(P.startPoint,P.clsName);if(t){var S=new THREE.Vector3;S.x=t.position.x+u.offsetXY,S.y=u.offsetY,r.connectContorl.drawConnectLine(P.clsName,S)}(0,G.default)(t),"axis_input_element_0"==P.clsName?r.setResValue(0,(0,ue.getTheValue)(P.startPoint.x)):"axis_input_element_1"==P.clsName?r.setResValue(1,(0,ue.getTheValue)(P.startPoint.x)):"axis_input_element_2"==P.clsName?r.setResValue(2,(0,ue.getTheValue)(P.startPoint.x)):"axis_input_element_3"==P.clsName&&r.setResValue(3,(0,ue.getTheValue)(P.startPoint.x)),-1==$(s.default.view).find(".on")[0].className.indexOf(C.parent.userData.clsName)&&($(s.default.view).find(".on").removeClass("on"),$(s.default.view).find("."+P.clsName).addClass("on"),(0,h.default)(P.clsName,16772999,16711680))}if(1==r.isInteger){var O=new THREE.Vector3;O.x=P.startPoint.x;var t=(0,T.AddMarkPoint)(O,P.clsName);if(t){var I=new THREE.Vector3;I.x=t.position.x-u.offsetX+u.offsetXY,I.y=u.offsetY,r.connectContorl.drawConnectLine(P.clsName,I),(0,G.default)(t),t=null}"axis_input_element_0"==P.clsName?r.setResValue(0,(0,ue.getTheValue)(P.startPoint.x+u.offsetX)):"axis_input_element_1"==P.clsName?r.setResValue(1,(0,ue.getTheValue)(P.startPoint.x+u.offsetX)):"axis_input_element_2"==P.clsName?r.setResValue(2,(0,ue.getTheValue)(P.startPoint.x+u.offsetX)):"axis_input_element_3"==P.clsName&&r.setResValue(3,(0,ue.getTheValue)(P.startPoint.x+u.offsetX)),-1==$(s.default.view).find(".on")[0].className.indexOf(C.parent.userData.clsName)&&($(s.default.view).find(".on").removeClass("on"),$(s.default.view).find("."+P.clsName).addClass("on"),(0,h.default)(P.clsName,16772999,16711680))}}if(c==d.EXAM_TYPE.Calculate_Note){var O=new THREE.Vector3;O.x=P.startPoint.x;var t=(0,T.AddMarkPoint)(O,P.clsName)}}s.default.renderer();break;case"interval":if(C.parent.parent&&"section"==C.parent.parent.name)("outCircle"==C.name||"inCircle"==C.name)&&(0,R.default)(C.parent);else if(_.toolbarStatus.sectionAttr.length>0&&P.startPoint<=V.data.pointB&&P.startPoint>=V.data.pointA)if(_.toolbarStatus.startPoint){if(Math.abs(P.startPoint.x-V.position.x-_.toolbarStatus.startPoint.position.x)>=40){var D=void 0,W=void 0,F=void 0,X=void 0,Y=void 0,q=void 0,K=void 0,Z=void 0;P.startPoint.y=0,D=new THREE.Object3D,D.data={},Z=_.toolbarStatus.sectionAttr[0].sectionColor,_.toolbarStatus.endPoint=(0,B.default)(V.data.lineWidth,Z),_.toolbarStatus.endPoint.position.x=P.startPoint.x-V.position.x,_.toolbarStatus.endPoint.position.z=.1,_.toolbarStatus.endPoint.name="endPoint",F=(0,j.createSide)(_.toolbarStatus.startPoint.position,_.toolbarStatus.sectionAttr[0].sectionHeight,V.data.lineWidth,Z),F.side.name="startSide",X=(0,j.createSide)(_.toolbarStatus.endPoint.position,_.toolbarStatus.sectionAttr[0].sectionHeight,V.data.lineWidth,Z),X.side.name="endSide",F.upVector.y-=V.data.lineWidth/2,X.upVector.y-=V.data.lineWidth/2,Y=(0,j.createLine)(F.upVector,X.upVector,V.data.lineWidth,Z),K=new THREE.Vector2((F.upVector.x+X.upVector.x)/2,_.toolbarStatus.sectionAttr[0].sectionHeight+15),D.add(F.side),D.add(X.side),D.add(Y),D.add(_.toolbarStatus.endPoint),D.add(_.toolbarStatus.startPoint),V.add(D),W=(0,H.default)(D,_.toolbarStatus.startPoint.position,_.toolbarStatus.endPoint.position),q=(0,j.createText)(W,K,Z),D.add(q),D.data.startVector=_.toolbarStatus.startPoint.position,D.data.endVector=_.toolbarStatus.endPoint.position,D.data.startHeight=_.toolbarStatus.sectionAttr[0].sectionHeight,D.data.endHeight=_.toolbarStatus.sectionAttr[0].sectionHeight,D.data.startSideVector=F.upVector,D.data.endSideVector=X.upVector,D.data.sectionColor=Z,D.name="section",(0,G.default)(D),(0,re.default)(V);var te=(0,ee.default)(V).sections;te.length>=2&&($(".mix").removeClass("btn_disable"),$(".union").removeClass("btn_disable")),_.toolbarStatus.referInterval.push(_.toolbarStatus.startPoint),_.toolbarStatus.referInterval.push(_.toolbarStatus.endPoint),_.toolbarStatus.sectionAttr.splice(0,1),_.toolbarStatus.startPoint=null}}else P.startPoint.y=0,_.toolbarStatus.startPoint=(0,B.default)(V.data.lineWidth,_.toolbarStatus.sectionAttr[0].sectionColor),_.toolbarStatus.startPoint.position.x=P.startPoint.x-V.position.x,_.toolbarStatus.startPoint.position.z=.1,_.toolbarStatus.startPoint.name="startPoint",V.add(_.toolbarStatus.startPoint),(0,G.default)(_.toolbarStatus.startPoint);s.default.renderer();break;case"regulation":var ie=(0,Q.getAxisExamModel)();if(_.toolbarStatus.lineColor.length){var ne=((P.startPoint.x-V.position.x)/V.data.unitLength).toFixed(1);if(P.startPoint.x-V.position.x<=V.data.pointB.x&&P.startPoint.x-V.position.x>=V.data.pointA.x)if(_.toolbarStatus.startPoint&&0==y.regulationCount){if(Math.abs(P.startPoint.x-V.position.x-_.toolbarStatus.startPoint.position.x)>=20){var oe=void 0;if(oe=ie.isInteger?d.REAL_ESTATE.endPosition-u.offsetX:d.REAL_ESTATE.endPosition,P.startPoint.x>=oe)break;_.toolbarStatus.endPoint=(0,B.default)(V.data.lineWidth,_.toolbarStatus.lineColor[0],V.data.smallUnitVisible?ne:void 0,new THREE.Vector2(0,-30),de),_.toolbarStatus.endPoint.position.x=P.startPoint.x-V.position.x,_.toolbarStatus.endPoint.name="terminal";var ae=new g.default(_.toolbarStatus,V.position,V.data.unitLength/V.data.unitMultiple);ae.add(_.toolbarStatus.startPoint),ae.add(_.toolbarStatus.endPoint),V.add(ae),(0,G.default)(ae),d.answerValue[0]=ie.userResValue[0],ie.isInteger?P.startPoint.x+u.offsetX-_.toolbarStatus.startPoint.position.x>0?(d.answerValue[1]=(0,ue.getTheValue)(P.startPoint.x+u.offsetX-_.toolbarStatus.startPoint.position.x),ve[pe]="1",he=P.startPoint.x):(d.answerValue[1]=(0,ue.getTheValue)(Math.abs(P.startPoint.x+u.offsetX-_.toolbarStatus.startPoint.position.x)),ve[pe]="-1",he=P.startPoint.x):P.startPoint.x-_.toolbarStatus.startPoint.position.x>0?(d.answerValue[1]=(0,ue.getTheValue)(P.startPoint.x-_.toolbarStatus.startPoint.position.x),ve[pe]="1",he=P.startPoint.x):(d.answerValue[1]=(0,ue.getTheValue)(Math.abs(P.startPoint.x-_.toolbarStatus.startPoint.position.x)),ve[pe]="-1",he=P.startPoint.x),ie.setUserRes(d.answerValue,ve)}}else if(0!=y.regulationCount&&"outset"!=C.parent.name&&"torus"!=C.name&&"tinyArrow"!=C.name&&"terminal"!=C.parent.name){var oe=void 0;if(oe=ie.isInteger?d.REAL_ESTATE.endPosition-u.offsetX:d.REAL_ESTATE.endPosition,P.startPoint.x>=oe)break;if(Math.abs(P.startPoint.x-V.position.x-_.toolbarStatus.startPoint.position.x)>=20){var se=V.getObjectByName("regulation0");(0,y.setRegulationCount)(y.regulationCount-1),se.parent.remove(se),_.toolbarStatus.endPoint=(0,B.default)(V.data.lineWidth,_.toolbarStatus.lineColor[0],V.data.smallUnitVisible?ne:void 0,new THREE.Vector2(0,-30),de),_.toolbarStatus.endPoint.position.x=P.startPoint.x-V.position.x,_.toolbarStatus.endPoint.name="terminal";var ae=new g.default(_.toolbarStatus,V.position,V.data.unitLength/V.data.unitMultiple);ae.add(_.toolbarStatus.startPoint),ae.add(_.toolbarStatus.endPoint),V.add(ae),(0,G.default)(ae),ie.isInteger?P.startPoint.x+u.offsetX-_.toolbarStatus.startPoint.position.x>0?(d.answerValue[1]=(0,ue.getTheValue)(P.startPoint.x+u.offsetX-_.toolbarStatus.startPoint.position.x),ve[pe]="1",he=P.startPoint.x):(d.answerValue[1]=(0,ue.getTheValue)(Math.abs(P.startPoint.x+u.offsetX-_.toolbarStatus.startPoint.position.x)),ve[pe]="-1",he=P.startPoint.x):P.startPoint.x-_.toolbarStatus.startPoint.position.x>0?(d.answerValue[1]=(0,ue.getTheValue)(P.startPoint.x-_.toolbarStatus.startPoint.position.x),ve[pe]="1",he=P.startPoint.x):(d.answerValue[1]=(0,ue.getTheValue)(Math.abs(P.startPoint.x-_.toolbarStatus.startPoint.position.x)),ve[pe]="-1",he=P.startPoint.x),ie.setUserRes(d.answerValue,ve)}}else{if("outset"==C.parent.name||"torus"==C.name||"tinyArrow"==C.name||"terminal"==C.parent.name)break;_.toolbarStatus.startPoint=(0,B.default)(V.data.lineWidth,_.toolbarStatus.lineColor[0],V.data.smallUnitVisible?ne:void 0,new THREE.Vector2(0,-30),de),_.toolbarStatus.startPoint.position.x=P.startPoint.x-V.position.x,_.toolbarStatus.startPoint.name="outset",V.add(_.toolbarStatus.startPoint),(0,G.default)(_.toolbarStatus.startPoint),ie.isInteger?(d.answerValue[1]=(0,ue.getTheValue)(P.startPoint.x+u.offsetX),fe[ce]=(0,ue.getTheValue)(P.startPoint.x+u.offsetX),he=P.startPoint.x+u.offsetX):(d.answerValue[1]=(0,ue.getTheValue)(P.startPoint.x),fe[ce]=(0,ue.getTheValue)(P.startPoint.x),he=P.startPoint.x),ce++}}s.default.renderer()}else if(N||"mark"!=_.toolbarStatus._action){if(!N&&"regulation"==_.toolbarStatus._action&&"group"!=C.name){var ie=(0,Q.getAxisExamModel)();if("outset"==C.parent.name){var le=C.parent.parent.getObjectByName("terminal");d.answerValue[0]=(0,ue.getTheValue)(C.parent.position.x),d.answerValue[1]=(0,ue.getTheValue)(Math.abs(le.position.x-C.parent.position.x)),le.position.x-C.parent.position.x>0?ve[0]=1:ve[0]=-1,he=C.parent.position.x}else if("terminal"==C.parent.name){var me=C.parent.parent.getObjectByName("outset");d.answerValue[1]=(0,ue.getTheValue)(Math.abs(C.parent.position.x-me.position.x)),he=C.parent.position.x,C.parent.position.x-me.position.x>0?ve[0]=1:ve[0]=-1}ie.setUserRes(d.answerValue,ve),s.default.renderer()}}else{var ie=(0,Q.getAxisExamModel)();ie.isInteger,"axis_input_element_0"==C.parent.userData.clsName?ie.setResValue(0,(0,ue.getTheValue)(C.parent.position.x)):"axis_input_element_1"==C.parent.userData.clsName?ie.setResValue(1,(0,ue.getTheValue)(C.parent.position.x)):"axis_input_element_2"==C.parent.userData.clsName?ie.setResValue(2,(0,ue.getTheValue)(C.parent.position.x)):"axis_input_element_3"==C.parent.userData.clsName&&ie.setResValue(3,(0,ue.getTheValue)(C.parent.position.x))}var xe=void 0,ye=void 0;switch(C.name){case"controllerRight":xe=C.position,ye=(xe.x-V.data.controllerDis)%V.data.unitLength,ye<=V.data.unitLength/2?xe.x+=V.data.unitLength/2-ye:xe.x-=ye-V.data.unitLength/2,C.position.copy(xe),(0,b.default)("controllerRight",V,C);break;case"controllerLeft":xe=C.position,ye=(xe.x+V.data.controllerDis)%V.data.unitLength,ye<=V.data.unitLength/2?xe.x-=V.data.unitLength/2+ye:xe.x+=ye+V.data.unitLength/2,C.position.copy(xe),(0,b.default)("controllerLeft",V,C);break;case"outCircle":case"inCircle":"section"==C.parent.parent.name&&(0,M.default)(C.parent,0,"up");break;case"markPointText":(0,z.editeMarkPointText)(C,!0);break;case"whiteCircle":case"redCircle":(0,v.setMoveStatus)(!1),(0,v.refreshArray)(C.parent.parent),(0,v.changeisFirst)()}P.activedObj&&((0,U.default)(P.activedObj.obj,P.activedObj.originColor),P.activedObj=null),N=!1,C=null}clearTimeout(L),L=null,P={},A.css({cursor:"default"}),s.default.renderer(),w.removeEventListener("mousemove",i,!1),w.removeEventListener("mouseup",o,!1),w.removeEventListener("mouseout",o,!1),w.removeEventListener("touchmove",i,!1),w.removeEventListener("touchend",o,!1),w.removeEventListener("touchcancel",o,!1),w.removeEventListener("touchleave",o,!1)}}function a(e){if(!c()){var t=V.getObjectByName("unitController"),i=V.data.pointA,n=V.data.pointB,o=V.data.unitMultiple,a=V.data.unitLength,s=V.data.lineWidth,l=V.data.unitHeight,u=(new THREE.Vector2).subVectors(new THREE.Vector3(0,0,0),V.data.pointB);if(u.length()>300?(e<0&&a>=50&&(a-=10),e>0&&a<=290&&(a+=10)):(e<0&&a>=50&&(a-=10),e>0&&a<=u.length()-50&&(a+=10)),a<=40&&(o*=2,a=80),a>80&&(o/=2,a=40),o<.1||o>1e3)return!1;var d=[.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3];-1==d.indexOf(o)&&(o=r(d,o)),(0,f.default)(V,i,n,o,a,s,l),V.data.unitLength=a,V.data.unitMultiple=o,t.position.x=a}}function r(e,t){for(var i=e[0],n=Math.abs(i-t),o=1;o<e.length;o++){var a=Math.abs(e[o]-t);a<n&&(n=a,i=e[o])}return i}function c(){var e=void 0,t=l.scene.getObjectByName("markPoint"),i=l.scene.getObjectByName("torus"),n=l.scene.getObjectByName("section");return(t||i||n)&&(e=!0),e}function p(e){if("regulation"==e.name||"section"==e.name){if("regulation"==e.name&&_.toolbarStatus.lineColor.unshift(e.color),"section"==e.name){var t={sectionColor:e.data.sectionColor,sectionHeight:e.data.endHeight};_.toolbarStatus.sectionAttr.unshift(t),(0,M.default)(e.children[0],0),x(e)}e.parent.remove(e),(0,re.default)(V);var i=(0,ee.default)(V).sections;i.length<2&&($(".mix").addClass("btn_disable"),$(".union").addClass("btn_disable")),0==i.length&&(_.toolbarStatus.isShowIntersection=!1,_.toolbarStatus.isShowUnion=!1)}else{if((0,le.default)(V),!e.parent)return;p(e.parent)}(0,le.default)(V)}function m(){var e=$(s.default.view).find(".numberline-canvas")[0];d.REAL_ESTATE.width=e.offsetWidth,d.REAL_ESTATE.height=e.offsetHeight,l.camera.left=d.REAL_ESTATE.width/-2,l.camera.right=d.REAL_ESTATE.width/2,l.camera.top=d.REAL_ESTATE.height/2,l.camera.bottom=d.REAL_ESTATE.height/-2,l.camera.updateProjectionMatrix(),l.renderer.setSize(d.REAL_ESTATE.width,d.REAL_ESTATE.height)}function x(e){for(var t=e.getObjectByName("startPoint"),i=e.getObjectByName("endPoint"),n=void 0,o=0;o<_.toolbarStatus.referInterval.length;o++)n=_.toolbarStatus.referInterval[o],t.id==n.id&&_.toolbarStatus.referInterval.splice(o,1);for(var o=0;o<_.toolbarStatus.referInterval.length;o++)n=_.toolbarStatus.referInterval[o],i.id==n.id&&_.toolbarStatus.referInterval.splice(o,1)}function E(){w.removeEventListener("mousedown",e,!1),w.removeEventListener("touchstart",e,!1),w.removeEventListener("mousewheel",a,!1),window.removeEventListener("resize",m,!1)}var w=l.renderer.domElement,P={},A=$(s.default.view).find(".numberline-canvas"),C=void 0,O=void 0,V=l.scene.getObjectByName("group"),N=!1,L=null,I=0,W=0,X=!1,Y=!1,q=!1,J=void 0;w.addEventListener("mousedown",e,!1),w.addEventListener("touchstart",e,!1),(0,Q.getAxisExamModel)().isInteger?(J=l.scene.getObjectByName("line").children.length-1,l.scene.getObjectByName("line").children[J].visible=!1):(J=Math.floor(l.scene.getObjectByName("line").children.length/2),l.scene.getObjectByName("line").children[J].visible=!1),window.addEventListener("resize",m,!1),t.removeEvent=xe=E},t.removeEvent=xe},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){v(),t.renderer=b=(0,O.default)({canvas:$(P.default.view).find(".numberline-canvas")[0],antialias:!0,alpha:!0},!0),m(),window.addEventListener("resize",h(m,250),!1),b.setClearColor(16777215,0),b.setSize($(P.default.view).find(".number_lines_area").width(),$(P.default.view).find(".number_lines_area").height()),T.REAL_ESTATE.width=$(P.default.view).find(".number_lines_area").width(),T.REAL_ESTATE.height=$(P.default.view).find(".number_lines_area").height()}function a(){v(),t.renderer=b=(0,O.default)({canvas:$(P.default.view).find(".numberline-canvas")[0],antialias:!0,alpha:!0}),b.setClearColor(16777215,0),b.setSize(T.REAL_ESTATE.width,T.REAL_ESTATE.height)}function r(){t.scene=x=new THREE.Scene}function s(){
t.camera=y=new THREE.OrthographicCamera(T.REAL_ESTATE.width/-2,T.REAL_ESTATE.width/2,T.REAL_ESTATE.height/2,T.REAL_ESTATE.height/-2,-1e3,2e6),y.position.x=0,y.position.y=0,y.position.z=0,y.lookAt({x:0,y:0,z:0})}function l(){t.raycaster=g=new THREE.Raycaster,g.linePrecision=1,t.intersectObjs=E=[],t.mouse=_=new THREE.Vector2}function u(){b&&b.render(x,y)}function d(){t.plane=H=new THREE.Mesh(new THREE.PlaneBufferGeometry(2*T.REAL_ESTATE.width,2*T.REAL_ESTATE.height,10,10),new THREE.MeshBasicMaterial({color:15658734,visible:!1})),x.add(H)}function c(){(P.default.isTeacherMobile||P.default.isTeacherPc||P.default.isStudentMobile||P.default.isWeb)&&!P.default.isReEdit?(a(),s(),r(),d(),l(),(0,A.default)(),P.default.renderer=u,P.default.renderer()):(s(),r(),o(),d(),l(),(0,A.default)(),P.default.renderer=u,P.default.renderer())}function f(e){}function v(e,t){var i=$(P.default.view).find(".numberline-canvas").offset();T.REAL_ESTATE.offsetLeft=i.left,T.REAL_ESTATE.offsetTop=i.top}function p(){(0,C.default)(y),(0,C.default)(x),(0,C.default)(b),$(b.domElement).remove(),$(b.domElement).splice(0),$(b.domElement)[0]=null,t.renderer=b=null,t.camera=y=null,t.mouse=_=null,t.scene=x=null,t.raycaster=g=null,t.intersectObjs=E=null}function h(e,t){var i,t=t||50;return function(){var n=this,o=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(n,Array.prototype.slice.call(o))},t)}}function m(){var e=$(P.default.view).find(".number_lines_area")[0];if(0!=e.offsetWidth&&(T.REAL_ESTATE.width=e.offsetWidth,T.REAL_ESTATE.height=e.offsetHeight,y.left=T.REAL_ESTATE.width/-2,y.right=T.REAL_ESTATE.width/2,y.top=T.REAL_ESTATE.height/2,y.bottom=T.REAL_ESTATE.height/-2,y.updateProjectionMatrix(),b.setSize(T.REAL_ESTATE.width,T.REAL_ESTATE.height),P.default.renderer)){var t=(0,j.getAxisExamModel)();t&&t.examType==T.EXAM_TYPE.Coord_Point_Number&&(0,B.updateInputValue)(t),(0,N.resetCollection)(),(0,V.initEditorCanvas)()}u()}Object.defineProperty(t,"__esModule",{value:!0}),t.threeStart=c,t.addThreeShape=f,t.resizeThree=v,t.destroyThree=p;var b,x,y,g,E,_,T=i(4),w=i(1),P=n(w),S=i(11),A=n(S),M=i(53),C=n(M),R=i(59),O=n(R),V=i(34),B=i(42),j=i(6),N=i(28),H=void 0;t.renderer=b,t.scene=x,t.camera=y,t.raycaster=g,t.intersectObjs=E,t.mouse=_,t.plane=H},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){E.startPoint=e,E.endPoint=e}Object.defineProperty(t,"__esModule",{value:!0}),t.setToolbarStatus=o;var a=i(1),r=n(a),s=i(10),l=i(12),u=n(l),d=i(13),c=n(d),f=i(14),v=n(f),p=i(24),h=n(p),m=i(26),b=n(m),x=i(27),y=n(x),g=i(28),E={lineColor:[],lineColorCopy:["#03ACF6","#00AE9D","#0372D2","#0D8617","#737602","#FBDD20","#E64A09","#F8374E","#B52CF8","#6A30E7"],sectionAttr:[{sectionColor:"#03ACF6",sectionHeight:30},{sectionColor:"#00AE9D",sectionHeight:60},{sectionColor:"#0372D2",sectionHeight:90},{sectionColor:"#0D8617",sectionHeight:120},{sectionColor:"#737602",sectionHeight:150},{sectionColor:"#FBDD20",sectionHeight:180},{sectionColor:"#E64A09",sectionHeight:210},{sectionColor:"#F8374E",sectionHeight:240},{sectionColor:"#B52CF8",sectionHeight:270},{sectionColor:"#6A30E7",sectionHeight:300}],sectionAttrCopy:[{sectionColor:"#03ACF6",sectionHeight:30},{sectionColor:"#00AE9D",sectionHeight:60},{sectionColor:"#0372D2",sectionHeight:90},{sectionColor:"#0D8617",sectionHeight:120},{sectionColor:"#737602",sectionHeight:150},{sectionColor:"#FBDD20",sectionHeight:180},{sectionColor:"#E64A09",sectionHeight:210},{sectionColor:"#F8374E",sectionHeight:240},{sectionColor:"#B52CF8",sectionHeight:270},{sectionColor:"#6A30E7",sectionHeight:300}],unionAttr:{unionColor:"#6924F9",unionHeight:-70},intersectionAttr:{intersectionColor:"#088213",intersectionHeight:-40},selectColor:"#FEEE87",referMark:[],referInterval:[],referRegulation:[],refreshStartPoints:!1,refreshEndPoints:!1,isShowIntersection:!1,isShowUnion:!1,_action:""},_=void 0;t.default=function(){$(r.default.view).find(".tool_btns").off("click touchstart").on("click touchstart",function(e){e.preventDefault();var t=$(e.target).parent(),i=t.data("action");if($(t).hasClass("number_lines_btn_on"))$(t).removeClass("number_lines_btn_on"),E._action="",$(".mix").css({display:"none"}),$(".union").css({display:"none"});else switch($(this).find(".number_lines_btn_on").length&&"mix"!=i&&"union"!=i&&(E.startPoint&&E.startPoint.parent.remove(E.startPoint),E.startPoint=null,$(this).find(".number_lines_btn_on").removeClass("number_lines_btn_on")),i){case"mark":case"regulation":case"clean":E._action=i,$(t).addClass("number_lines_btn_on"),(0,y.default)(s.scene.getObjectByName("group"),E._action);break;case"interval":E._action=i,$(t).addClass("number_lines_btn_on"),$(".mix").show(),$(".union").show();(0,c.default)(s.scene.getObjectByName("group")).canShow&&($(".mix").hide(),$(".union").hide()),(0,y.default)(s.scene.getObjectByName("group"),E._action);break;case"mix":(0,c.default)(s.scene.getObjectByName("group")).sections.length>=2&&(E.isShowIntersection=!0,(0,v.default)(s.scene.getObjectByName("group")));break;case"union":(0,c.default)(s.scene.getObjectByName("group")).sections.length>=2&&(E.isShowUnion=!0,(0,h.default)(s.scene.getObjectByName("group")));break;case"clear_all":var n=s.scene.getObjectByName("group"),o=n.getObjectByName("markPoint");if(E._action=i,10==E.lineColor.length&&10==E.sectionAttr.length&&!o)return;if(document.querySelector(".dialog_alert"))return;u.default.alert('“清空”将清空数轴上的所有内容  是否确定“清空”？"',function(e){u.default.remove(e),_=[];for(var t=n.children,i=0;i<t.length;i++)"markPoint"!=t[i].name&&"section"!=t[i].name&&"regulation"!=t[i].name||_.push(n.children[i]);for(var o=0;o<_.length;o++)_[o].parent.remove(_[o]);(0,b.default)(n),E.isShowIntersection=!1,E.isShowUnion=!1,$(".mix").addClass("btn_disable"),$(".union").addClass("btn_disable"),(0,y.default)(n),(0,g.resetCollection)(),E.lineColor=[],E.lineColor=E.lineColor.concat(E.lineColorCopy),E.sectionAttr=[],E.sectionAttr=E.sectionAttr.concat(E.sectionAttrCopy),E._action=null})}})},t.toolbarStatus=E},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a={alert:function(e,t){var i=parseInt(1e10*Math.random().toFixed(10)),n='<div class="num_msg_box dialog_alert" id="msgBox'+i+'" >\n                            <div class="msg_wrap">\n                                <div class="msg_text">'+e+'</div>\n                                <div class="btn_group">\n                                    <div class="cancel" data-key="'+i+'">取 消</div>\n                                    <div class="confirm" data-key="'+i+'">确 定</div>\n                                </div>\n                            </div>\n                        </div>';$(o.default.view).append(n),$(".cancel").on("click touchend",function(e){e.preventDefault(),a.remove($(this).data("key"))}),$(".confirm").on("click touchend",function(e){e.preventDefault(),t($(this).data("key"))})},msg:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=parseInt(1e10*Math.random().toFixed(10)),t='<div class="num_msg_box dialog_msg" id="msgBox'+e+'" >\n                            <div class="msg_wrap">\n                                <div class="msg_text">'+msg+'</div>\n                                <div class="btn_group">\n                                    <div class="confirm" data-key="'+e+'">确 定</div>\n                                </div>\n                            </div>\n                        </div>';$(o.default.view).append(t),$(".confirm").on("click touchend",function(e){e.preventDefault(),a.remove($(this).data("key"))},!1)}),tips:function(e){var t=parseInt(1e10*Math.random().toFixed(10)),i='<div class="num_msg_box dialog_tips" id="msgBox'+t+'" >\n                            <div class="msg_wrap">\n                                <div class="msg_text">'+e+"</div>\n                            </div>\n                        </div>";$(o.default.view).append(i);setTimeout(function(){a.remove(t)},2e3)},remove:function(e){$(o.default.view).find($("#msgBox"+e)).remove()}};t.default=a,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],i=e.children,n=0;n<i.length;n++)"section"==i[n].name&&t.push(i[n]);return t.length>=2?{canShow:!0,sections:t}:{canShow:!1,sections:t}},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(15),a=n(o),r=i(13),s=n(r),l=i(11),u=i(19),d=n(u),c=i(21),f=n(c),v=i(23),p=n(v),h=i(17),m=n(h),b=i(20);t.default=function(e){var t=void 0,i=void 0,n=void 0,o=[],r=void 0,u=void 0,c=void 0,v=void 0,h=void 0,x=void 0,y=void 0,g=void 0,E=void 0,_=void 0,T=void 0,w=void 0;c=e.data.lineWidth,r=l.toolbarStatus.intersectionAttr.intersectionColor,u=l.toolbarStatus.intersectionAttr.intersectionHeight,n=(0,s.default)(e).sections,n.length>0?(o=(0,d.default)(n),i=(0,b.intersectionSection)(o),t=e.getObjectByName("intersection"),i?t?(t.visible||(t.visible=!0),y=t.getObjectByName("intersectionStartPoint"),g=t.getObjectByName("intersectionEndPoint"),v=t.getObjectByName("intersectionStartSide"),h=t.getObjectByName("intersectionEndSide"),x=t.getObjectByName("intersectionLine"),_=t.getObjectByName("intersectionText"),y.position.x<=g.position.x?(y.position.x=i.leftPoint.x,g.position.x=i.rightPoint.x):(y.position.x=i.rightPoint.x,g.position.x=i.leftPoint.x),y.position.y=0,g.position.y=0,i.leftIsSolid?(y.getObjectByName("inCircle").visible=!1,y.data.status=!0):(y.getObjectByName("inCircle").visible=!0,y.data.status=!1),i.rightIsSolid?(g.getObjectByName("inCircle").visible=!1,g.data.status=!0):(g.getObjectByName("inCircle").visible=!0,g.data.status=!1),T=new THREE.Vector3(i.leftPoint.x,u,0),w=new THREE.Vector3(i.rightPoint.x,u,0),(0,f.default)(v,i.leftPoint,T,c),(0,f.default)(h,i.rightPoint,w,c),(0,f.default)(x,new THREE.Vector3(T.x,T.y+c/2),new THREE.Vector3(w.x,w.y+c/2),c),E=(0,p.default)(t,i.leftPoint,i.rightPoint),_._dynamicTexture.clear().drawText(E,void 0,16,r),_.position.x=(i.leftPoint.x+i.rightPoint.x)/2,_.position.y=u-10):(t=(0,a.default)(i.leftPoint,i.leftIsSolid,i.rightPoint,i.rightIsSolid,u,r,c),e.add(t),E=(0,p.default)(t,i.leftPoint,i.rightPoint),_=(0,m.default)(E,new THREE.Vector2((i.leftPoint.x+i.rightPoint.x)/2,u-10),128,16,"16px",r),_._dynamicTexture.clear().drawText(E,void 0,16,r),_.name="intersectionText",t.add(_)):t&&(t.visible=!1)):(t=e.getObjectByName("intersection"))&&(t.visible=!1)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(16),o=i(18),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,i,o,r,s,l){var u=new THREE.Object3D,d=void 0,c=void 0,f=void 0,v=void 0,p=void 0;return v=(0,a.default)(l,s),v.position.x=e.x,v.position.z=.1,v.name="intersectionStartPoint",v.data={},v.data.status=!1,t&&(v.getObjectByName("inCircle").visible=!1,v.data.status=!0),p=(0,a.default)(l,s),p.position.x=i.x,p.position.z=.1,p.name="intersectionEndPoint",p.data={},p.data.status=!1,o&&(p.getObjectByName("inCircle").visible=!1,p.data.status=!0),d=(0,n.createSide)(e,r,l,s),d.side.name="intersectionStartSide",c=(0,n.createSide)(i,r,l,s),c.side.name="intersectionEndSide",d.upVector.y=d.upVector.y+l/2,c.upVector.y=c.upVector.y+l/2,f=(0,n.createLine)(d.upVector,c.upVector,l,s),f.name="intersectionLine",u.add(v),u.add(p),u.add(d.side),u.add(c.side),u.add(f),u.name="intersection",u},e.exports=t.default},function(e,t,i){"use strict";function n(e,t,i,n){var o=new THREE.Shape,a=new THREE.Vector3(e.x,e.y+t,0);o.moveTo(e.x+i/2,0),o.lineTo(a.x+i/2,t),o.lineTo(a.x-i/2,t),o.lineTo(e.x-i/2,0),o.lineTo(e.x+i/2,0);var r=new THREE.ShapeGeometry(o);return{side:new THREE.Mesh(r,new THREE.MeshBasicMaterial({color:n})),upVector:a}}function o(e,t,i,n){var o=new THREE.Shape;o.moveTo(e.x,e.y-i/2),o.lineTo(t.x,t.y-i/2),o.lineTo(t.x,t.y+i/2),o.lineTo(e.x,e.y+i/2),o.lineTo(e.x,e.y-i/2);var a=new THREE.ShapeGeometry(o),r=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:n}));return r.name="sectionLine",r}function a(e,t,i){var n=(0,s.default)(e,t,128,16,"16px",i);return n._dynamicTexture.clear().drawText(e,void 0,16,i),n.name="sectionText",n}Object.defineProperty(t,"__esModule",{value:!0}),t.createSide=n,t.createLine=o,t.createText=a;var r=i(17),s=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,n){var o=arguments.length<=4||void 0===arguments[4]?"16px":arguments[4],a=arguments.length<=5||void 0===arguments[5]?"black":arguments[5],r=new THREEx.DynamicTexture(i,n);r.context.font="bolder "+o+" Arial";var s=new THREE.CubeGeometry(i,n,0),l=new THREE.Mesh(s,new THREE.MeshBasicMaterial({map:r.texture,transparent:!0}));return l.position.x=t.x,l.position.y=t.y,l._dynamicTexture=r,l._dynamicTexture.drawText(e,void 0,n/2,a),l},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(17),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=i(4);t.default=function(e,t,i,n,r){var s=void 0;"customize"===t?(s=a.baseColor,t=16777215):(s=16777215,t=a.baseColor);var l=new THREE.Object3D,u=new THREE.CircleGeometry(3*e,64),d=new THREE.Mesh(u,new THREE.MeshBasicMaterial({color:t,transparent:!1,overdraw:!0,opacity:1}));d.name="outCircle";var c=new THREE.CircleGeometry(2*e,64),f=new THREE.Mesh(c,new THREE.MeshBasicMaterial({color:s,transparent:!1,overdraw:!0,opacity:1}));if(f.name="inCircle",l.pointCount=r,l.add(f),l.add(d),void 0!==i){var v=(0,o.default)(i,n,64,32);(""+i)%1==0&&(v.visible=!1),v.name="positionText",l.add(v)}return l.userData.radius=3*e,l.userData.color=t,l.data={},l.data.status=!1,l},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(20);t.default=function(e){for(var t=void 0,i=void 0,o=[],a=void 0,r=void 0,s=0;s<e.length;s++)t=e[s],a=t.getObjectByName("startPoint"),r=t.getObjectByName("endPoint"),i=(0,n.creatSection)(a.position,a.data.status,r.position,r.data.status),o.push(i);return o},e.exports=t.default},function(e,t){"use strict";function i(e,t,i){var n=(new THREE.Vector2).subVectors(t,e),o=(new THREE.Vector2).subVectors(t,i),a=((new THREE.Vector2).subVectors(e,i),(new THREE.Vector2).addVectors(t,e)),r=(new THREE.Vector2).addVectors(t,i),s=(new THREE.Vector2).addVectors(e,i),l=new THREE.Vector2(a.x/2,a.y/2),u=new THREE.Vector2(r.x/2,r.y/2),d=(new THREE.Vector2(s.x/2,s.y/2),void 0),c=void 0;c=(o.x*(l.y*n.y+l.x*n.x)-n.x*(u.y*o.y+u.x*o.x))/(n.y*o.x-n.x*o.y),d=(l.y*n.y+l.x*n.x-n.y*c)/n.x;var f=Math.pow(d-t.x,2)+Math.pow(c-t.y,2),v=Math.sqrt(f);return{centerPoint:new THREE.Vector2(d,c),radius:v}}function n(e){var t=s(e),i=t[0];if(1==t.length)return null;for(var n=1;n<t.length;n++){var o=i.leftPoint.x,a=i.rightPoint.x,r=t[n],l=r.leftPoint.x,u=r.rightPoint.x;if(l>a||u<o)return null;if(o<=l&&l<=a){var d=r.leftPoint,c=r.leftIsSolid;if(l==o)i.leftIsSolid||(d=i.leftPoint,c=i.leftIsSolid);else if(l==a){if(!i.rightIsSolid||!r.leftIsSolid)return null;d=r.leftPoint,c=r.leftIsSolid}i.leftPoint=d,i.leftIsSolid=c,u==a?i.rightIsSolid&&(i.rightPoint=r.rightPoint,i.rightIsSolid=r.rightIsSolid):u<a&&(i.rightPoint=r.rightPoint,i.rightIsSolid=r.rightIsSolid)}else if(u==a)r.rightIsSolid||(i.rightPoint=r.rightPoint,i.rightIsSolid=r.rightIsSolid);else if(u==o){if(!i.rightIsSolid||!r.leftIsSolid)return null;i.rightPoint=r.rightPoint,i.rightIsSolid=r.rightIsSolid}else o<u<a&&(i.rightPoint=r.rightPoint,i.rightIsSolid=r.rightIsSolid)}return i}function o(e){var t=s(e),i=t[0],n=[i];if(1==t.length)return null;for(var o=1;o<t.length;o++){var r=t[o],d=(r.leftPoint.x,r.rightPoint.x,void 0),c=void 0,f=void 0,v=void 0,p=void 0,h=void 0,m=l(r.leftPoint,n,0,r.leftIsSolid);if(m.inSection&&-100==m.inSectionIndex&&m.rightBothHollow&&(m.inSection=!1,m.fromSectionIndex=m.realIndex,m.toSectionIndex=m.realIndex+1),m.inSection){v=-100==m.inSectionIndex?m.realIndex:m.inSectionIndex;var b=n[v];a(n,v,r.leftPoint,r.leftIsSolid),h=l(r.rightPoint,n,v),h.inSection&&-100==h.inSectionIndex&&h.leftBothHollow&&(h.inSection=!1,h.fromSectionIndex=m.realIndex-1,h.toSectionIndex=m.realIndex),h.inSection?(p=-100==h.inSectionIndex?h.realIndex:h.inSectionIndex,a(n,p,r.rightPoint,r.rightIsSolid),d=n[p],p==m.inSectionIndex||(c=u(b.leftPoint,b.leftIsSolid,d.rightPoint,d.rightIsSolid),f=p-v+1,n.splice(v,f+1,c))):(c=u(b.leftPoint,b.leftIsSolid,r.rightPoint,r.rightIsSolid),f=h.fromSectionIndex-v+1,n.splice(v,f,c))}else{var x=m.fromSectionIndex,y=m.toSectionIndex;if(h=l(r.rightPoint,n,x),h.inSection)p=h.inSectionIndex,a(n,p,r.rightPoint,r.rightIsSolid),d=n[p],c=u(r.leftPoint,r.leftIsSolid,d.rightPoint,d.rightIsSolid),f=h.inSectionIndex-x+1,n.splice(x,f,c);else{var g=(h.fromSectionIndex,h.toSectionIndex);f=h.fromSectionIndex-y+1,0!=g&&0!=x||(f=0);x==n.length?n.length:y,n.splice(y,f,r)}}}return n}function a(e,t,i,n){var o=e[t];i==o.leftPoint?n&&(e[t].leftIsSolid=n):i==o.rightPoint&&n&&(e[t].rightIsSolid=n)}function r(e){e.leftPoint=null,e.leftIsSolid=null,e.rightPoint=null,e.rightIsSolid=null}function s(e){for(var t=[],i=[],n=[],o=0;o<e.length;o++){var a=Object.assign({},e[o]);i.push(a);var r=e[o];t.push(r.leftPoint.x)}t.sort(function(e,t){return e-t});for(var o=0;o<t.length;o++)for(var s=t[o],l=0;l<i.length;l++){var r=i[l];if(r.leftPoint.x==s){n.push(r);var u=i.indexOf(r);i.splice(u,1);break}}return n}function l(e,t,i,n){for(var o=i;o<t.length;o++){var a=t[o];if(0==o&&e.x<a.leftPoint.x)return{inSection:!1,fromSectionIndex:-1,toSectionIndex:0};if(a.leftPoint.x<=e.x&&e.x<=a.rightPoint.x){if(e.x==a.leftPoint.x){if(0==n&&0==a.leftIsSolid)return{inSection:!0,inSectionIndex:-100,realIndex:o,leftBothHollow:!0,rightBothHollow:!1}}else if(e.x==a.rightPoint.x&&0==n&&0==a.rightIsSolid)return{inSection:!0,inSectionIndex:-100,realIndex:o,leftBothHollow:!1,rightBothHollow:!0};return{inSection:!0,inSectionIndex:o}}if(o==t.length-1&&e.x>a.rightPoint.x)return{inSection:!1,fromSectionIndex:t.length-1,toSectionIndex:t.length};var r=t[o+1];if(a.rightPoint.x<e.x&&e.x<r.leftPoint.x)return{inSection:!1,fromSectionIndex:o,toSectionIndex:o+1}}}function u(e,t,i,n){return e.x<=i.x?{leftPoint:e,leftIsSolid:t,rightPoint:i,rightIsSolid:n}:{leftPoint:i,leftIsSolid:n,rightPoint:e,rightIsSolid:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.calculatCircleCenter=i,t.intersectionSection=n,t.unionSection=o,t.setSectionNull=r,t.creatSection=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(22);t.default=function(e,t,i,o){var a=o/2,r=(0,n.rotationAngleVector)(i,t,90,!0).vector.setLength(a),s=(0,n.rotationAngleVector)(i,t,90,!1).vector.setLength(a),l=[],u=e.geometry.vertices;l.push((new THREE.Vector2).addVectors(t,s)),l.push((new THREE.Vector2).addVectors(i,s)),l.push((new THREE.Vector2).addVectors(i,r)),l.push((new THREE.Vector2).addVectors(t,r));for(var d=0;d<u.length;d++)u[d].x=l[d].x,u[d].y=l[d].y;e.geometry.verticesNeedUpdate=!0,e.geometry.computeBoundingSphere()},e.exports=t.default},function(e,t){"use strict";function i(e,t,i){var n=i*Math.PI/180,o=Math.cos(n),a=Math.sin(n),r=(e.x-t.x)*o-(e.y-t.y)*a+t.x,s=(e.x-t.x)*a+(e.y-t.y)*o+t.y;return new THREE.Vector3(r,s,0)}function n(e,t,i){var n=new THREE.Vector3(0,0,0);return n.subVectors(t,e),n=n.setLength(i),n.add(e),n}function o(e,t,i,n){var o=new THREE.Vector2(e.x-t.x,e.y-t.y),a=void 0,r=void 0,s=i/180*Math.PI;return n?(a=o.x*Math.cos(s)+o.y*Math.sin(s)+t.x,r=o.y*Math.cos(s)-o.x*Math.sin(s)+t.y):(a=o.x*Math.cos(s)-o.y*Math.sin(s)+t.x,r=o.y*Math.cos(s)+o.x*Math.sin(s)+t.y),{point:new THREE.Vector2(a,r),vector:new THREE.Vector2(a-t.x,r-t.y)}}function a(e,t,i){return r((new THREE.Vector2).subVectors(e,t),(new THREE.Vector2).subVectors(i,t))}function r(e,t){var i=void 0,n=void 0,o=void 0,a=void 0,r=void 0,s=void 0;i=e.x,o=e.y,n=t.x,a=t.y;var l=Math.sqrt(i*i+o*o)*Math.sqrt(n*n+a*a);if(0==l)return-1;if((s=(i*n+o*a)/l)<0&&Math.abs(s)>1)return 180;if(Math.abs(s)>1)return 0;r=180*Math.acos((i*n+o*a)/l)/Math.PI;var u=e.x*t.y-e.y*t.x<0;return u||(r=-r),{angle:r*Math.PI/180,clockWise:u,angleValue:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.rotatePoint=i,t.getLocationPoint=n,t.rotationAngleVector=o,t.getAngle=a,t.getVectorAngle=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var n=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,u=void 0;return o=e.parent.data.unitLength,a=e.parent.data.unitMultiple,l=e.getObjectByName("startPoint")||e.getObjectByName("intersectionStartPoint")||e.getObjectByName("unionStartPoint"),u=e.getObjectByName("endPoint")||e.getObjectByName("intersectionEndPoint")||e.getObjectByName("unionEndPoint"),t.x<=i.x?(r=(t.x/o*a).toFixed(1),s=(i.x/o*a).toFixed(1),n=l.data.status&&u.data.status?r+"≤n≤"+s:l.data.status&&!u.data.status?r+"≤n<"+s:!l.data.status&&u.data.status?r+"<n≤"+s:r+"<n<"+s):(r=(i.x/o*a).toFixed(1),s=(t.x/o*a).toFixed(1),n=l.data.status&&u.data.status?r+"≤n≤"+s:l.data.status&&!u.data.status?r+"<n≤"+s:!l.data.status&&u.data.status?r+"≤n<"+s:r+"<n<"+s),n},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(25),a=n(o),r=i(13),s=n(r),l=i(11),u=i(19),d=n(u),c=i(21),f=n(c),v=i(23),p=n(v),h=i(17),m=n(h),b=i(20);t.default=function(e){var t=void 0,i=void 0,n=void 0,o=void 0,r=[],u=void 0,c=void 0,v=void 0,h=void 0,x=void 0,y=void 0,g=[],E=void 0,_=void 0,T=void 0,w=void 0,P=void 0,S=void 0;if(v=e.data.lineWidth,u=l.toolbarStatus.unionAttr.unionColor,c=l.toolbarStatus.unionAttr.unionHeight,o=(0,s.default)(e).sections,o.length>0){r=(0,d.default)(o),n=(0,b.unionSection)(r);for(var A=0;A<e.children.length;A++){var M=e.children[A];"union"==M.name&&g.push(M)}if(n)if(0==g.length)for(var A=0;A<n.length;A++)i=n[A],t=(0,a.default)(i.leftPoint,i.leftIsSolid,i.rightPoint,i.rightIsSolid,c,u,v),e.add(t),T=(0,p.default)(t,i.leftPoint,i.rightPoint),w=(0,m.default)(T,new THREE.Vector2((i.leftPoint.x+i.rightPoint.x)/2,c-10),128,16,"16px",u),w._dynamicTexture.clear().drawText(T,void 0,16,u),w.name="unionText",t.add(w);else{if(g.length<n.length)for(var C=n.length-g.length,A=0;A<C;A++)i=n[g.length+A],t=(0,a.default)(i.leftPoint,i.leftIsSolid,i.rightPoint,i.rightIsSolid,c,u,v),e.add(t),T=(0,p.default)(t,i.leftPoint,i.rightPoint),w=(0,m.default)(T,new THREE.Vector2((i.leftPoint.x+i.rightPoint.x)/2,c-10),128,16,"16px",u),w._dynamicTexture.clear().drawText(T,void 0,16,u),w.name="unionText",t.add(w),g.push(t);if(g.length>=n.length)for(var A=0;A<g.length;A++)t=g[A],A>=n.length?t.visible=!1:(i=n[A],t.visible=!0,E=t.getObjectByName("unionStartPoint"),_=t.getObjectByName("unionEndPoint"),h=t.getObjectByName("unionStartSide"),x=t.getObjectByName("unionEndSide"),y=t.getObjectByName("unionLine"),w=t.getObjectByName("unionText"),E.position.x=i.leftPoint.x,_.position.x=i.rightPoint.x,i.leftIsSolid?(E.getObjectByName("inCircle").visible=!1,E.data.status=!0):(E.getObjectByName("inCircle").visible=!0,E.data.status=!1),i.rightIsSolid?(_.getObjectByName("inCircle").visible=!1,_.data.status=!0):(_.getObjectByName("inCircle").visible=!0,_.data.status=!1),P=new THREE.Vector3(i.leftPoint.x,c,0),S=new THREE.Vector3(i.rightPoint.x,c,0),(0,f.default)(h,i.leftPoint,P,v),(0,f.default)(x,i.rightPoint,S,v),(0,f.default)(y,new THREE.Vector3(P.x,P.y+v/2),new THREE.Vector3(S.x,S.y+v/2),v),T=(0,p.default)(t,i.leftPoint,i.rightPoint),w._dynamicTexture.clear().drawText(T,void 0,16,u),w.position.x=(i.leftPoint.x+i.rightPoint.x)/2,w.position.y=c-10)}else for(var A=0;A<e.children.length;A++){var M=e.children[A];"union"==M.name&&(M.visible=!1)}}else for(var A=0;A<e.children.length;A++){var M=e.children[A];"union"==M.name&&(M.visible=!1)}},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(16),o=i(18),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,i,o,r,s,l){var u=new THREE.Object3D,d=void 0,c=void 0,f=void 0,v=void 0,p=void 0;return v=(0,a.default)(l,s),v.position.x=e.x,v.position.z=.1,v.name="unionStartPoint",v.data={},v.data.status=!1,t&&(v.getObjectByName("inCircle").visible=!1,v.data.status=!0),p=(0,a.default)(l,s),p.position.x=i.x,p.position.z=.1,p.name="unionEndPoint",p.data={},p.data.status=!1,o&&(p.getObjectByName("inCircle").visible=!1,p.data.status=!0),d=(0,n.createSide)(e,r,l,s),d.side.name="unionStartSide",c=(0,n.createSide)(i,r,l,s),c.side.name="unionEndSide",d.upVector.y=d.upVector.y+l/2,c.upVector.y=c.upVector.y+l/2,f=(0,n.createLine)(d.upVector,c.upVector,l,s),f.name="unionLine",u.add(v),u.add(p),u.add(d.side),u.add(c.side),u.add(f),u.name="union",u},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(14),a=n(o),r=i(24),s=n(r),l=i(11);t.default=function(e){var t=e.getObjectByName("intersection"),i=e.getObjectByName("union");t&&l.toolbarStatus.isShowIntersection&&(0,a.default)(e),i&&l.toolbarStatus.isShowUnion&&(0,s.default)(e)},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=e.getObjectByName("unitController"),n=e.getObjectByName("unitSelect");!t||"interval"!=t&&"regulation"!=t&&"mark"!=t?e.getObjectByName("section")||e.getObjectByName("markPoint")||e.getObjectByName("regulation")?(i.visible=!1,n.visible=!1):i.visible=!0:(i.visible=!1,n.visible=!1)},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(C){var i=3*x.lineWidth,n=A.length;if(n==E.maxSize)return;for(var o=y.CHARACTER[n],a=0;a<n;a++){for(var r=!1,s=0;s<n;s++)if(y.CHARACTER[a]==A[s]){r=!0;break}if(!r){o=y.CHARACTER[a];break}}for(var l=e.x-x.numberLine.position.x,a=0;a<M.length;a++){M[a],M[a]}var u=new b.default(i,x.numberLine,l,o).createMarkPoint(t);return A.push(o),M.push(l),x.numberLine.add(u),u}}function a(){A=[]}function r(e){for(var t=[],i=0;i<A.length;i++)A[i]!=e&&t.push(A[i]);A=t}function s(e){A.push(e)}function l(){return A}function u(){return M}function d(){A=[],t.positionCollection=M=[],(0,g.resetText)()}function c(e){t.positionCollection=M=e}function f(e){C=e}function v(e){for(var t=x.numberLine.children.length-1;t>=0;t--){var i=x.numberLine.children[t];"markPoint"==i.name&&x.numberLine.remove(i)}$(w.default.view).find(".number_list_box").removeClass("on"),$(w.default.view).find(".number_list_box:first").addClass("on"),e.connectContorl.removeAllConnectLine(),d(),w.default.renderer()}function p(e){for(var t=0;t<e.valueArray.length;t++){var i=e.valueArray[t],n=new THREE.Vector3;n.x=i*x.unitLength,n.y=1,e.isInteger&&(n.x-=x.offsetX);var a=_.PRE_INPUT_ELEMENT+t;(0,S.default)(o(n,a));var r=new THREE.Vector3;r.x=n.x+x.offsetXY,r.y=x.offsetY,e.connectContorl.drawConnectLine(a,r)}w.default.renderer()}Object.defineProperty(t,"__esModule",{value:!0}),t.AddMarkPoint=o,t.clearAll=a,t.clear=r,t.add=s,t.getCharCollection=l,t.getPositionCollection=u,t.resetCollection=d,t.refreshPositionCollection=c,t.setisOpenForMarkPoint=f,t.removeAllMarkPoint=v,t.addMarkPointWithArray=p;var h=i(29),m=(n(h),i(30)),b=n(m),x=i(34),y=(i(55),i(10),i(4)),g=i(57),E=i(58),_=i(42),T=i(1),w=n(T),P=i(44),S=n(P),A=[],M=[];t.positionCollection=M;var C=!0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a={markNumError:"最多增加十个标识点"};t.default=function(e){if(e){var t=$(o.default.view).find(".numberLine-tips");t.html(a[e]),t.show(150).delay(2e3).hide(200)}},e.exports=t.default},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=e/l.unitLengthSend;return-1!=t.toString().indexOf(".")?parseInt(t):t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.getTheValue=o;var r=i(17),s=function(e){return e&&e.__esModule?e:{default:e}}(r),l=i(31),u=function(){function e(t,i,o,a){void 0===t&&(t=6),void 0===i&&(i=new THREE.Object3D),n(this,e),this.radius=t,this.lineGroup=i,this.offSetX=o,this.text=a.toString()}return a(e,[{key:"getCricleMaterial1",value:function(){return new THREE.MeshBasicMaterial({color:"#ffef87",overdraw:!0,transparent:!1,opacity:1})}},{key:"getCricleMaterial2",value:function(){return new THREE.MeshBasicMaterial({color:"#ffffff",overdraw:!0,transparent:!1,opacity:1})}},{key:"drawTextFrame",value:function(){var e=new THREE.Shape;e.moveTo(-20,17),e.lineTo(20,17),e.lineTo(20,35),e.lineTo(-20,35),e.lineTo(-20,17);var t=e.createPointsGeometry();return new THREE.Line(t,new THREE.LineBasicMaterial({color:3355443,opacity:1}))}},{key:"getTextMaterial",value:function(){return new THREE.MeshBasicMaterial({color:"#ffef87",transparent:!1,opacity:1})}},{key:"createMarkPoint",value:function(e){var t=new THREE.Object3D,i=new THREE.CircleGeometry(this.radius,32),n=new THREE.Mesh(i,this.getCricleMaterial1()),o=new THREE.CircleGeometry(this.radius-3,32),a=new THREE.Mesh(o,this.getCricleMaterial2());t.position.x=this.offSetX,t.position.y=0;var r=new THREE.Vector2;r.x=0,r.y=0,r.y+=l.unitHeightSend+5;var u=(0,s.default)(this.text,r,32,32,"15px","black");r.y=0,r.y-=l.unitHeightSend+15;var d=this.offSetX/l.unitLengthSend,c=this.getTheValue(d.toString()),f=(0,s.default)(c,r,64,32,"15px","red"),v=this.drawTextFrame();return v.visible=!1,v.name="markPointFrame",t.name="markPoint",a.name="whiteCircle",n.name="redCircle",u.name="markPointText",f.name="markPointValue",t.userData.clsName=e,t.userData.markText=this.text,t.userData.valueText=c,t.add(a),t.add(n),t.add(f),t.add(v),t.position.z+=1,t}},{key:"getTheValue",value:function(e){var t=e.indexOf(".");return-1!=t?e.substring(0,t+2):""}}]),e}();t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(32),a=n(o),r=i(33),s=n(r),l=i(21),u=(n(l),i(17)),d=n(u);t.default=function(e,i,n){var o=arguments.length<=3||void 0===arguments[3]?1:arguments[3],r=arguments.length<=4||void 0===arguments[4]?80:arguments[4],l=arguments.length<=5||void 0===arguments[5]?6:arguments[5],u=arguments.length<=6||void 0===arguments[6]?15:arguments[6],p=void 0,h=void 0,m=void 0,b=void 0,x=void 0,y=void 0,g=void 0,E=void 0,_=void 0,T=void 0,w=void 0,P=void 0,S=void 0,A=void 0,M=void 0,C=void 0,R=void 0,O=e.getObjectByName("line"),V=e.getObjectByName("center");if(t.unitLengthSend=c=r,t.unitHeightSend=f=u,t.unitMultipleSend=v=o,g=new THREE.Vector3(0,0,0),E=(new THREE.Vector2).subVectors(n,i),_=(new THREE.Vector2).subVectors(i,g),T=(new THREE.Vector2).subVectors(g,n),b=parseInt(E.length()/r),A=parseInt(E.length()/(r/10)),x=parseInt(_.length()/r),parseInt(_.length()/(r/10)),y=parseInt(T.length()/r),M=parseInt(T.length()/(r/10)),b==x+y&&(b+=1),0==O.children.length){for(var B=0;B<b;B++){var j=new THREE.Object3D;p=B%5==0&&B<=y?(0,a.default)(l):(B-1)%5==0&&B>y?(0,a.default)(l):(0,a.default)(l,8),h=(0,d.default)("",g,64,32,"16px","black"),h.name=1==B?"showText":"text",h.position.y=-30,j.add(p),j.add(h),j.visible=!1,O.add(j)}for(var B=0;B<10*(b+1);B++){var N=(0,s.default)();N.visible=!1,V.add(N)}}else if(b>O.children.length){w=b-O.children.length;for(var B=0;B<w;B++){var j=new THREE.Object3D;p=(0,a.default)(l),h=(0,d.default)("",g,64,32,"16px","black"),h.name="text",h.position.y=-30,j.add(p),j.add(h),j.visible=!1,O.add(j)}for(var B=0;B<10*w;B++){var N=(0,s.default)();N.visible=!1,V.add(N)}}for(var B=0;B<O.children.length;B++)m=O.children[B],p=m.getObjectByName("unit"),h=m.getObjectByName("text")||m.getObjectByName("showText"),B<=y?(P=new THREE.Vector3(r*B,0,0),
S=parseInt(B*o*10)/10,m.position.copy(P),h._dynamicTexture.clear().drawText(S.toString(),void 0,16,"#000000"),S%5!=0&&(h.visible=!1),m.visible=!0,B%5==0&&(p.position.y=-10)):B>y&&B<b?(P=new THREE.Vector3(-r*(B-y),0,0),S=parseInt(-(B-y)*o*10)/10,O.children[B].position.copy(P),h._dynamicTexture.clear().drawText(S.toString(),void 0,16,"#000000"),S%5!=0&&(h.visible=!1),m.visible=!0,(B-1)%5==0&&(p.position.y=-10)):m.visible=!1;if(C=V.children,r<80||-1!=o.toString().indexOf(".")){for(var B=0;B<C.length;B++)C[B].visible=!1;e.data.smallUnitVisible=!1}else{for(var B=0;B<C.length;B++)B<=M?(R=new THREE.Vector3(r/10*B,0,0),C[B].position.copy(R),C[B].visible=!0,0!=B&&B!=M||(C[B].visible=!1)):B>M&&B<A?(R=new THREE.Vector3(-r/10*(B-M),0,0),C[B].position.copy(R),C[B].visible=!0):C[B].visible=!1;e.data.smallUnitVisible=!0}};var c,f,v;t.unitLengthSend=c,t.unitHeightSend=f,t.unitMultipleSend=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?20:arguments[1],i=arguments.length<=2||void 0===arguments[2]?new THREE.Vector3(0,0,0):arguments[2],n=new THREE.Shape,o=new THREE.Vector3(i.x,i.y+t,0);n.moveTo(i.x+e/4,0),n.lineTo(o.x+e/4,t),n.lineTo(o.x-e/4,t),n.lineTo(i.x-e/4,0),n.lineTo(i.x+e/4,0);var a=new THREE.ShapeGeometry(n),r=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:3355443,transparent:!1,opacity:1}));return r.name="unit",r.position.z=-1,r},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length<=0||void 0===arguments[0]?15:arguments[0],t=new THREE.Geometry;t.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,e/1.7,0));var i=new THREE.Line(t,new THREE.LineBasicMaterial({color:3355443,transparent:!1,opacity:1}));return i.name="smallUnit",i.position.z=-1,i},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(v.default.isTeacherMobile||v.default.isStudentMobile){t.offsetX=U=500;var i=void 0,n=void 0;e?(i=new THREE.Vector3(0,0,0),n=new THREE.Vector3(1025,0,0),_.REAL_ESTATE.endPosition=1025):(i=new THREE.Vector3(-500,0,0),n=new THREE.Vector3(525,0,0),_.REAL_ESTATE.endPosition=525),a(i,n,e)}else if(_.REAL_ESTATE.width>_.REAL_ESTATE.frontage){t.offsetX=U=400;var i=void 0,n=void 0;e?(i=new THREE.Vector3(0,0,0),n=new THREE.Vector3(820,0,0),_.REAL_ESTATE.endPosition=820):(i=new THREE.Vector3(-400,0,0),n=new THREE.Vector3(420,0,0),_.REAL_ESTATE.endPosition=420),t.unitLength=Y=20,a(i,n,e)}else{t.offsetX=U=300;var i=void 0,n=void 0;e?(i=new THREE.Vector3(0,0,0),n=new THREE.Vector3(620,0,0),_.REAL_ESTATE.endPosition=620):(i=new THREE.Vector3(-300,0,0),n=new THREE.Vector3(320,0,0),_.REAL_ESTATE.endPosition=320),t.unitLength=Y=15,a(i,n,e)}v.default.renderer()}function a(e,i,n){if(A.scene.getObjectByName("group")){A.scene.getObjectByName("group")}else{t.lineWidth=F=3;var o=new THREE.Vector3(-15,0,0),a=new THREE.Vector3(15,0,0);t.numberLine=X=new h.default(e,i,F,30,20,15,Y,o,a).create(),(0,y.default)(X,e,i,1,Y,F,15),X.data.pointA=e,X.data.pointB=i,X.data.lineWidth=F,X.data.arrowLength=30,X.data.controllerDis=20,X.data.unitHeight=15,X.data.unitLength=Y,X.data.unitMultiple=1,X.data.selectA=o,X.data.selectB=a,X.data.mathAxis="mathAxis",n&&(X.position.x=-U),A.scene.add(X);var r=void 0;r=n?A.scene.getObjectByName("line").children.length-1:Math.floor(A.scene.getObjectByName("line").children.length/2),A.scene.getObjectByName("line").children[r].visible=!1;$(".numberline-input").on("keyup",function(){(0,E.default)(X,this)})}}function r(){var e=A.scene.getObjectByName("group"),t=(0,P.getAxisExamModel)(),i=t.examType;t.valueArray;v.default.isFirstTime?((0,S.init)(t.isInteger),v.default.isFirstTime=!1):(void 0!==e&&e.parent.remove(e),(0,S.init)(t.isInteger)),i==_.EXAM_TYPE.Coord_Point_Note?l():i==_.EXAM_TYPE.Coord_Point_Number?u():i==_.EXAM_TYPE.Calculate_Note?d():i==_.EXAM_TYPE.Calculate_Number&&c(),v.default.renderer()}function s(){var e=(0,P.getAxisExamModel)();e instanceof O.default?l():e instanceof B.default?u():e instanceof N.default?d():e instanceof L.default&&c(),v.default.renderer()}function l(){var e=(0,P.getAxisExamModel)().valueArray;$.each(e,function(e,t){var i=new THREE.Vector3;i.x=t*Y,i.y=0,i.z=0})}function u(){var e=(0,P.getAxisExamModel)().valueArray,t=(0,P.getAxisExamModel)().isInteger;$.each(e,function(e,i){if(t){var n=new THREE.Vector3;n.x=i*Y-U,n.y=0,n.z=0,(0,w.AddMarkPoint)(n)}else{var n=new THREE.Vector3;n.x=i*Y,n.y=0,n.z=0,(0,w.AddMarkPoint)(n)}})}function d(){var e=(0,P.getAxisExamModel)(),t=A.scene.getObjectByName("group"),i=1.3*t.data.lineWidth,n=e.valueArray[0];2==e.valueArray.length?T.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]:3==e.valueArray.length&&(T.toolbarStatus.lineColor=["#03ACF6","#00AE9D","#0372D2"]),T.toolbarStatus.startPoint=(0,I.default)(i,_.baseColor,t.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),T.toolbarStatus.startPoint.position.x=n*Y,T.toolbarStatus.startPoint.name="outset",t.add(T.toolbarStatus.startPoint)}function c(){var e=(0,P.getAxisExamModel)(),t=A.scene.getObjectByName("group"),i=e.valueArray,n=e.symbolArray,o=void 0;2==e.valueArray.length?T.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]:3==e.valueArray.length&&(T.toolbarStatus.lineColor=["#03ACF6","#00AE9D","#0372D2"]);for(var a=void 0,r=0;r<n.length;r++){0==r?(o=1.3*t.data.lineWidth,T.toolbarStatus.startPoint=(0,I.default)(o,"customize",t.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),T.toolbarStatus.startPoint.position.x=i[r]*Y):(o=t.data.lineWidth,T.toolbarStatus.startPoint=T.toolbarStatus.endPoint),T.toolbarStatus.endPoint=(0,I.default)(t.data.lineWidth,_.baseColor,t.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),n[r]>0?void 0===a?(T.toolbarStatus.endPoint.position.x=(i[r]+i[r+1])*Y,a=i[r]+i[r+1]):T.toolbarStatus.endPoint.position.x=(a+i[r+1])*Y:n[r]<0&&(void 0===a?(T.toolbarStatus.endPoint.position.x=(i[r]-i[r+1])*Y,a=i[r]-i[r+1]):T.toolbarStatus.endPoint.position.x=(a-i[r+1])*Y);var s=new W.default(T.toolbarStatus,t.position,t.data.unitLength/t.data.unitMultiple);s.add(T.toolbarStatus.startPoint),s.add(T.toolbarStatus.endPoint),t.add(s)}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=o,t.initEditorCanvas=r,t.updateNewValue=s;var f=i(1),v=n(f),p=i(35),h=n(p),m=i(36),b=(n(m),i(30)),x=(n(b),i(31)),y=n(x),g=i(38),E=n(g),_=i(4),T=i(11),w=i(28),P=i(6),S=i(34),A=i(10),M=i(9),C=(n(M),i(39)),R=(n(C),i(40)),O=n(R),V=i(47),B=n(V),j=i(48),N=n(j),H=i(54),L=n(H),k=i(18),I=n(k),D=i(50),W=n(D),F=void 0,X=void 0;t.lineWidth=F,t.numberLine=X;var U=500;t.offsetX=U,t.offsetY=22,t.offsetXY=0;var Y=25;t.unitLength=Y},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(21),r=(function(e){e&&e.__esModule}(a),i(10),i(22)),s=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new THREE.Vector3(-280,0,0):arguments[0],i=arguments.length<=1||void 0===arguments[1]?new THREE.Vector3(280,0,0):arguments[1],o=arguments.length<=2||void 0===arguments[2]?3:arguments[2],a=arguments.length<=3||void 0===arguments[3]?30:arguments[3],r=arguments.length<=4||void 0===arguments[4]?20:arguments[4],s=arguments.length<=5||void 0===arguments[5]?15:arguments[5],l=arguments.length<=6||void 0===arguments[6]?80:arguments[6],u=arguments.length<=7||void 0===arguments[7]?new THREE.Vector3(70,-20,0):arguments[7],d=arguments.length<=8||void 0===arguments[8]?new THREE.Vector3(90,-20,0):arguments[8];n(this,e),this.pointA=t,this.pointB=i,this.lineWidth=o,this.arrowLength=a,this.controllerDis=r,this.unitHeight=s,this.unitLength=l,this.selectA=u,this.selectB=d}return o(e,[{key:"getMaterial",value:function(){return new THREE.MeshBasicMaterial({color:3355443,overdraw:!0,transparent:!1,opacity:1})}},{key:"getGroupMaterial",value:function(){return new THREE.MeshBasicMaterial({color:3355443,transparent:!0,overdraw:!0,opacity:0})}},{key:"getControllerMaterial",value:function(){return new THREE.MeshBasicMaterial({color:65280,transparent:!1,overdraw:!0,opacity:1})}},{key:"getControllerCenterMaterial",value:function(){return new THREE.MeshBasicMaterial({color:16777215,transparent:!1,overdraw:!0,opacity:1})}},{key:"getMarkPointMaterial",value:function(){return new THREE.MeshBasicMaterial({color:"#FF0000",transparent:!1,overdraw:!0,opacity:1})}},{key:"createLine",value:function(){var e=new THREE.Shape;e.moveTo(this.pointA.x,-this.lineWidth/2),e.lineTo(this.pointB.x,-this.lineWidth/2),e.lineTo(this.pointB.x,this.lineWidth/2),e.lineTo(this.pointA.x,this.lineWidth/2),e.lineTo(this.pointA.x,-this.lineWidth/2);var t=new THREE.ShapeGeometry(e),i=new THREE.Mesh(t,this.getMaterial());return i.name="line",i}},{key:"createCenter",value:function(){var e=new THREE.CircleGeometry(2*this.lineWidth,32),t=new THREE.Mesh(e,this.getMaterial());return t.name="center",t}},{key:"createUnitSelect",value:function(){var e=new THREE.Shape;e.moveTo(this.selectA.x,this.selectA.y-1.6*this.lineWidth),e.lineTo(this.selectB.x,this.selectB.y-1.6*this.lineWidth),e.lineTo(this.selectB.x,this.selectB.y+1.6*this.lineWidth),e.lineTo(this.selectA.x,this.selectB.y+1.6*this.lineWidth),e.lineTo(this.selectA.x,this.selectA.y-1.6*this.lineWidth);var t=e.createPointsGeometry(),i=new THREE.Line(t,new THREE.LineBasicMaterial({color:3355443,overdraw:!0,transparent:!1,opacity:1}));return i.name="unitSelect",i.visible=!1,i.position.copy(new THREE.Vector3(this.unitLength,-23,0)),i}},{key:"createArrow",value:function(){var e=this.pointB,t=(0,r.getLocationPoint)(e,this.pointA,20),i=(0,r.rotatePoint)(t,e,30),n=(0,r.rotatePoint)(t,e,-30),o=new THREE.Shape;o.moveTo(e.x,e.y),o.lineTo(i.x,i.y),o.lineTo(n.x,n.y),o.lineTo(e.x,e.y);var a=new THREE.ShapeGeometry(o);return new THREE.Mesh(a,this.getMaterial())}},{key:"createController",value:function(){var e=new THREE.CircleGeometry(1.5*this.lineWidth,64),t=new THREE.Mesh(e,this.getControllerMaterial());t.position.copy(new THREE.Vector3(this.pointA.x-this.controllerDis,this.pointA.y,.1)),t.name="controllerLeft";var i=new THREE.CircleGeometry(1*this.lineWidth,64),n=new THREE.Mesh(i,this.getControllerCenterMaterial());n.name="controllerLeftCenter",t.add(n);var o=new THREE.CircleGeometry(1.5*this.lineWidth,64),a=new THREE.Mesh(o,this.getControllerMaterial());a.position.copy(new THREE.Vector3(this.pointB.x+this.controllerDis,this.pointB.y,.1)),a.name="controllerRight";var r=new THREE.CircleGeometry(1*this.lineWidth,64),s=new THREE.Mesh(r,this.getControllerCenterMaterial());return s.name="controllerRightCenter",a.add(s),{controllerLeft:t,controllerRight:a}}},{key:"createUnitController",value:function(){var e=new THREE.CircleGeometry(1.5*this.lineWidth,64),t=new THREE.Mesh(e,this.getControllerMaterial());t.position.copy(new THREE.Vector3(this.unitLength,0,.1)),t.name="unitController";var i=new THREE.CircleGeometry(1*this.lineWidth,64),n=new THREE.Mesh(i,this.getControllerCenterMaterial());return n.name="unitControllerCenter",t.add(n),t}},{key:"createLineGroup",value:function(){var e=new THREE.Shape;e.moveTo(this.pointA.x,3.5*-this.lineWidth),e.lineTo(this.pointB.x,3.5*-this.lineWidth),e.lineTo(this.pointB.x,3.5*this.lineWidth),e.lineTo(this.pointA.x,3.5*this.lineWidth),e.lineTo(this.pointA.x,3.5*-this.lineWidth);var t=new THREE.ShapeGeometry(e),i=new THREE.Mesh(t,this.getGroupMaterial());return i.name="group",i.data={},i}},{key:"create",value:function(){var e=this.createLineGroup(),t=this.createLine(),i=this.createCenter(),n=this.createArrow();n.position.x+=10;var o=this.createUnitSelect();return e.add(t),e.add(i),e.add(n),e.add(o),e}}]),e}();t.default=s,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(i(4),i(30)),a=(n(o),i(37),i(1)),r=n(a),s=(i(10),{isMarkOpen:!1,isDelete:!1,isDeleteAll:!1});t.default=function(){$(r.default.view).find(".mark").on("click",function(){}),$(r.default.view).find(".clear_all").on("click",function(){}),$(r.default.view).find(".clean").on("click",function(){})},t.operationData=s},function(e,t,i){"use strict";function n(e){e?$(s.default.view).find(".mark").addClass("on"):$(s.default.view).find(".mark").removeClass("on")}function o(e){e?$(s.default.view).find(".clean").addClass("on"):$(s.default.view).find(".clean").removeClass("on")}function a(e){e?$(s.default.view).find(".clear_all").addClass("on"):$(s.default.view).find(".clear_all").removeClass("on")}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=function(e){return e&&e.__esModule?e:{default:e}}(r);i(36);t.showOrHideDeleteAllBtn=a,t.showOrHideDeleteBtn=o,t.showOrHideMarkPointBtn=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(31);!function(e){e&&e.__esModule}(n);t.default=function(e,t){var i=e.getObjectByName("showText"),n=t.value;if(""==n)i._dynamicTexture.clear().drawText(t.value.toString(),void 0,16,"#000000");else if(n=new Number(n),isNaN(n))i._dynamicTexture.clear().drawText(e.data.unitMultiple.toString(),void 0,16,"#000000"),t.value=e.data.unitMultiple;else{if(-1!=n.toString().indexOf(".")){var o=n.toString().split(".")[0],a=n.toString().split(".")[1];a=a.split("")[0],n=0==a?o:o+"."+a,t.value=n}0!=n&&(n<.1||n>1e3)&&(n=e.data.unitMultiple,t.value=n),i._dynamicTexture.clear().drawText(n.toString(),void 0,16,"#000000"),e.data.unitMultiple=n}},e.exports=t.default},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(21),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=i(22),l=i(10),u=function(){function e(t){n(this,e),this.lineWidth=6,this.objectName=t+"_cLine"}return o(e,[{key:"getMaterial",value:function(){return new THREE.MeshBasicMaterial({color:16772999,transparent:!1,opacity:1})}},{key:"createLineGroup",value:function(){var e=new THREE.Shape;e.moveTo(0,0),e.lineTo(10,-6),e.lineTo(10,6),e.lineTo(0,6),e.lineTo(0,0);var t=new THREE.ShapeGeometry(e),i=new THREE.Mesh(t,this.getMaterial());return(0,r.default)(i,this.pointA,this.pointB,6),i}},{key:"createArrow",value:function(){var e=new THREE.Object3D,t=this.pointB,i=(0,s.getLocationPoint)(t,this.pointA,20),n=(0,s.rotatePoint)(i,t,45),o=(0,s.rotatePoint)(i,t,-45),a=new THREE.Shape;a.moveTo(0,-this.lineWidth),a.lineTo(n.x,-this.lineWidth),a.lineTo(n.x,this.lineWidth),a.lineTo(0,this.lineWidth),a.lineTo(0,-this.lineWidth);var l=new THREE.ShapeGeometry(a),u=new THREE.Mesh(l,this.getMaterial());(0,r.default)(u,t,n,this.lineWidth);var d=new THREE.Shape;d.moveTo(0,-this.lineWidth),d.lineTo(o.x,-this.lineWidth),d.lineTo(o.x,this.lineWidth),d.lineTo(0,this.lineWidth),d.lineTo(0,-this.lineWidth);var c=new THREE.ShapeGeometry(d),f=new THREE.Mesh(c,this.getMaterial());return(0,r.default)(f,t,o,this.lineWidth),e.add(u),e.add(f),e.name="arrow",e}},{key:"getShape",value:function(e,t){var i=new THREE.Shape,n=Math.sqrt(Math.pow(e,2)-Math.pow(t/2,2)),o=t/2,a=n/3;return i.moveTo(o,-a),i.lineTo(0,n-a),i.lineTo(-o,-a),i.lineTo(o,-a),i}},{key:"createTriangle",value:function(){var e=this.pointB,t=(0,s.getLocationPoint)(e,this.pointA,20),i=(0,s.rotatePoint)(t,e,30),n=(0,s.rotatePoint)(t,e,-30),o=new THREE.Shape;o.moveTo(e.x,e.y),o.lineTo(i.x,i.y),o.lineTo(n.x,n.y),o.lineTo(e.x,e.y);var a=new THREE.ShapeGeometry(o);return new THREE.Mesh(a,this.getMaterial())}},{key:"create",value:function(e,t){this.pointA=e,this.pointB=t,this.group&&l.scene.remove(this.group),this.group=this.createLineGroup();var i=this.createTriangle(),n=(new THREE.Vector3,t.sub(e).setLength(5));i.position.x=n.x,i.position.y=n.y,this.group.add(i),this.group.name=this.objectName,l.scene.add(this.group)}},{key:"remove",value:function(){this.group&&l.scene.remove(this.group)}}]),e}();t.default=u,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e,t,i){for(var n=!0;n;){var o=e,a=t,r=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(r)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,i=r,n=!0,s=u=void 0}},l=i(41),u=n(l),d=i(42),c=i(45),f=i(4),v=i(46),p=n(v),h=i(6),m=i(28),b=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,f.EXAM_TYPE.Coord_Point_Note),this.btnClassArray=[],this.userResArray=[]}return a(t,e),r(t,[{key:"create",value:function(e){return this.valueArray=e||(0,c.generRanArray)(this),(0,d.buildTextView)(this),(0,h.isApp)()&&this.createConnectPointControl(),this}},{key:"createByModel",value:function(e){}},{key:"createConnectPointControl",value:function(){this.connectContorl=new p.default,this.connectContorl.bindButtonClick(this)}},{key:"updateDomValue",value:function(){(0,d.updateButtonValue)(this)}},{key:"updateValueArray",value:function(){this.valueArray=(0,c.generRanArray)(this),this.updateDomValue()}},{key:"setResValue",value:function(e,t){this.userResArray[e]=t}},{key:"showAnswer",value:function(){(0,m.removeAllMarkPoint)(this),(0,m.addMarkPointWithArray)(this)}},{key:"removeAnswer",value:function(){this.userResArray=[],(0,m.removeAllMarkPoint)(this)}}]),t}(u.default);t.default=b,e.exports=t.default},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){i(this,e),this.examType=t,this.isInteger=!1,this.valueArray=[],this.userResArray=[]}return n(e,[{key:"create",value:function(e){}},{key:"updateDomValue",value:function(){}},{key:"updateValueArray",value:function(){}},{key:"setInteger",value:function(e){this.isInteger=e,this.updateValueArray()}},{key:"setIntegerNotUpdate",value:function(e){this.isInteger=e}},{key:"getCorrectRes",value:function(){return this.valueArray.toString()}},{key:"getUserRes",value:function(){return this.userResArray.toString()}},{key:"showAnswer",value:function(){}},{key:"removeAnswer",value:function(){}}]),e}();t.default=o,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=$('<div style="position:absolute;" class="number_list_box '+e+'" ></div>'),i=null;return(0,A.isApp)()&&(i=P.default.isTeacherMobile||P.default.isStudentMobile?$('<input class="number_list_input" type="number"/>'):$('<input class="number_list_input" type="text"/>'),t.append(i)),(0,S.getNumberBox)().append(t),i}function a(e){var t=$('<div  class="number_list_box '+e+'" ></div>'),i=null;return(0,A.isApp)()&&(i=P.default.isTeacherMobile||P.default.isStudentMobile?$('<input class="number_list_input" type="number"/>'):$('<input class="number_list_input" type="text"/>'),t.append(i)),(0,S.getNumberBox)().append(t),i}function r(e){var t='<div style="margin:0 15px" class=" number_list_box '+e+'"></div>';return(0,S.getNumberBox)().append(t)}function s(e){var t='<div class="symbol_box icon_plus '+e+'"></div>';return(0,S.getNumberBox)().append(t)}function l(e){var t='<div class="symbol_box icon_minus '+e+'"></div>';return(0,S.getNumberBox)().append(t)}function u(e){var t='<div class="symbol_box icon_equals '+e+'"></div>';return(0,S.getNumberBox)().append(t)}function d(){(0,S.getNumberBox)().css({}),(0,S.clearBuildDiv)()}function c(e){if(e&&e.valueArray&&e.symbolArray){var t="";t+=e.valueArray[0];for(var i=e.valueArray.length,n=e.symbolArray.length,o=1;o<i&&o-1<n;o++)e.symbolArray[o-1]>0?t+=" + ":t+=" - ",t+=e.valueArray[o]+"";t+=" = ? ",$(P.default.view).find("."+N+e.examType).html(t)}}function f(e,t){var i=$(P.default.view).find("."+N+e.examType).html(),n=i.indexOf("=");i=i.substring(0,n+1),i+=" "+t,$(P.default.view).find("."+N+e.examType).html(i)}function v(e){d(),r(N+e.examType)}function p(e){if(e&&!e._isNoCreate){if(d(),e.valueArray)for(var t=void 0,i=0,n=e.valueArray.length;i<n;i++)!function(i,n){t=V+i;var a=o(t);a&&(a.keyup(function(){e.userResArray[i]=$(this).val()}),a.focusin(function(e){P.default.sendEventToCalc("submit"),$(P.default.view).find(".input-number-value").find(".on").removeClass("on");var t=e.target;$(t).parent().addClass("on"),(0,R.default)($(t).parent().attr("class"),16772999,16711680),(0,A.isApp)()&&P.default.isStudentMobile&&O.scene.getObjectByName("group")&&(O.scene.getObjectByName("group").position.y=100,P.default.renderer())}),a.focusout(function(e){(0,A.isApp)()&&P.default.isStudentMobile&&O.scene.getObjectByName("group")&&(O.scene.getObjectByName("group").position.y=0,P.default.renderer())}))}(i);x(e)}}function h(e){if(e){if(d(),e.valueArray)for(var t=void 0,i=0,n=e.valueArray.length;i<n;i++)t=V+i,e.btnClassArray[i]=t,r(t);y(e)}}function m(e){if(e&&e.valueArray&&e.symbolArray){d();var t=B+0,i=null;i=a(t),b(i,0,e);for(var n=e.valueArray.length,o=e.symbolArray.length,r=1;r<n&&r-1<o;r++)e.symbolArray[r-1]>0?s(B+(r-1)):l(B+(r-1)),i=a(B+r),b(i,r,e);u(B+e.symbolArray.length),i=a(B+e.valueArray.length),b(i,e.valueArray.length,e)}}function b(e,t,i){e&&(e.keyup(function(){i.userResArray[t]=$(this).val()}),e.focusin(function(e){P.default.sendEventToCalc("submit"),$(P.default.view).find(".input-number-value").find(".on").removeClass("on");var t=e.target;$(t).parent().addClass("on"),(0,A.isApp)()&&P.default.isStudentMobile&&O.scene.getObjectByName("group")&&(O.scene.getObjectByName("group").position.y=100,P.default.renderer())}),e.focusout(function(e){(0,A.isApp)()&&P.default.isStudentMobile&&O.scene.getObjectByName("group")&&(O.scene.getObjectByName("group").position.y=0,P.default.renderer())}))}function x(e){for(var t=void 0,i=$(P.default.view).find(".com_lay_board"),n=$(P.default.view).find(".axis_input_element_0"),o=i.width()/2-n.outerWidth()/2,a=0,r=e.valueArray[0],s=0,l=e.valueArray.length;s<l;s++){r>e.valueArray[s]&&(r=e.valueArray[s],a=s),t=V+s;var u=void 0;e.isInteger?(u=(0+T.SCODE_COPE.NATURAL_SCOPE)*M.unitLength,u=o-u,u+=e.valueArray[s]*M.unitLength,$(P.default.view).find("."+t).css("left",u)):(u=e.valueArray[s]*M.unitLength,$(P.default.view).find("."+t).css("left",u+o))}(0,A.isApp)()&&($(P.default.view).find("."+V+a).addClass("on"),e._lastIndex=a,e._isNoCreate&&($(P.default.view).find(".number_list_box").removeClass("on"),$(P.default.view).find("."+V+e.activeClassIndex).addClass("on")))}function y(e){for(var t=void 0,i=0,n=e.valueArray.length;i<n;i++)t=V+i,$(P.default.view).find("."+t).html(e.valueArray[i])}function g(e){var t=void 0;if(e.examType==T.EXAM_TYPE.Coord_Point_Number)for(var i=0,n=e.valueArray.length;i<n;i++)t=V+i,$(P.default.view).find("."+t).find("."+j).val(e.valueArray[i]);else if(e.examType==T.EXAM_TYPE.Calculate_Number){for(var i=0,n=e.valueArray.length;i<n;i++)t=B+i,$(P.default.view).find("."+t).find("."+j).val(e.valueArray[i]);for(var o=e.valueArray[0],i=0;i<e.symbolArray.length;i++)o+=e.symbolArray[i]*e.valueArray[i+1];$(P.default.view).find("."+B+e.valueArray.length).find("."+j).val(o)}}function E(e){var t=void 0;if(e.examType==T.EXAM_TYPE.Coord_Point_Number){for(var i=0,n=e.valueArray.length;i<n;i++)t=V+i,$(P.default.view).find("."+t).find("."+j).val("");$(P.default.view).find(".number_list_box").removeClass("on"),$(P.default.view).find("."+V+e._lastIndex).addClass("on"),(0,R.default)(V+e._lastIndex,16772999,16711680)}else if(e.examType==T.EXAM_TYPE.Calculate_Number){for(var i=0,n=e.valueArray.length;i<=n;i++)t=B+i,$(P.default.view).find("."+t).find("."+j).val("");$(P.default.view).find(".number_list_box").removeClass("on")}}function _(){$(P.default.view).find("."+j).blur()}Object.defineProperty(t,"__esModule",{value:!0}),t.updateCalcTextView=c,t.updateCaclResultText=f,t.buildCalcTextView=v,t.buildInputView=p,t.buildTextView=h,t.buildCalcInputView=m,t.updateInputValue=x,t.updateButtonValue=y,t.addButtonValue=g,t.removeButtonValue=E,t.inputButtonBlur=_;var T=i(4),w=i(1),P=n(w),S=i(7),A=i(6),M=i(34),C=i(43),R=n(C),O=i(10),V="axis_input_element_";t.PRE_INPUT_ELEMENT=V;var B="axis_symbol_element_";t.PRE_SYMBOL_ELEMENT=B;var j="number_list_input";t.INPUT_NUMBER_CLS=j;var N="pre_exam_type_element_";t.PRE_EXAM_TYPE_ELEMENT=N;t.INPUT_MARGIN_HEIGHT=100},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++)o(e.children[i],t);e.material&&"whiteCircle"!==e.name&&e.material.color.setHex(t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),r=n(a),s=i(44),l=n(s),u=i(10);t.default=function(e,t,i){var n=u.scene.getObjectByName("group"),a=["axis_input_element_0","axis_input_element_1","axis_input_element_2","axis_input_element_3"],s=null,d=null,c=!0,f=!1,v=void 0;try{for(var p,h=n.children[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;if(a.indexOf(m.userData.clsName)>-1){e.indexOf(m.userData.clsName)>-1&&(s=m,d=u.scene.getObjectByName(s.userData.clsName+"_cLine"));var b=u.scene.getObjectByName(m.userData.clsName+"_cLine");o(m,i),b&&o(b,i)}}}catch(e){f=!0,v=e}finally{try{!c&&h.return&&h.return()}finally{if(f)throw v}}s&&(o(s,t),(0,l.default)(s)),d&&(o(d,t),d.position.z=s.position.z),r.default.renderer()},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.default=function(e){e&&(i++,e.position.z=i)},e.exports=t.default},function(e,t,i){"use strict";function n(e){if(e){for(var t=[],i=void 0,n=0;n<4;n++){for(i=a(e.isInteger);r(t,i);)i=a(e.isInteger);t[n]=i}return t}}function o(){var e=.5-Math.random();return e=e>=0?1:-1}function a(e){var t=void 0,i=1;return t=e?s.SCODE_COPE.INTEGER_SCOPE:s.SCODE_COPE.NATURAL_SCOPE,e||(i=o()),Math.floor(Math.random()*t+1)*i}function r(e,t){if("object"==typeof e&&0==e.length)return!1;for(var i=0;i<e.length;i++){if(Math.abs(e[i]-t)<=6)return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.generRanArray=n;var s=i(4);i(6)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(1),s=n(r),l=i(4),u=i(39),d=n(u),c=i(43),f=n(c),v=(i(10),i(42),function(){function e(){o(this,e),this.selectClsName="axis_input_element_0",this.lineMap=new Map}return a(e,[{key:"getSelectBtnClsName",value:function(){return this.selectClsName}},{key:"bindButtonClick",value:function(e){var t=this;$(s.default.view).find("."+e.btnClassArray[0]).addClass("on");for(var i=0,n=e.btnClassArray.length;i<n;i++)!function(i,n){$(s.default.view).find("."+e.btnClassArray[i]).off("click").on("click touchstart",function(n){n.preventDefault();var o=$(n.target).attr("class");t.selectClsName="axis_input_element_"+i,t.removeAllSelect(e),$(n.target).addClass("on"),(0,f.default)(o,16772999,16711680)})}(i)}},{key:"removeAllSelect",value:function(e){for(var t=0,i=e.btnClassArray.length;t<i;t++)$(s.default.view).find("."+e.btnClassArray[t]).removeClass("on")}},{key:"drawConnectLine",value:function(e,t){var i=$(s.default.view).find("."+e),n=$(s.default.view).find(".numberline-canvas"),o=i.position().left,a=i.width(),r=i.height();o=s.default.isTeacherPc&&!s.default.isFullPPT?o-l.REAL_ESTATE.width+a:o-l.REAL_ESTATE.width/2+a;var u=void 0,c=n.height()/2-(i.offset().top-n.offset().top)-r;u=new THREE.Vector3(o+a/2,c,0);var f=this.lineMap.get(e);f?f.create(u,t):(f=new d.default(e),this.lineMap.set(e,f),f.create(u,t))}},{key:"removeAllConnectLine",value:function(){this.lineMap.forEach(function(e,t){e.remove()}),this.lineMap=new Map}},{key:"doIntersectObjects",value:function(e){var t=$(s.default.view).find(".numberline-canvas")[0].getBoundingClientRect(),i=(e.left-t.left)/t.width,n=(e.top-t.top)/t.height;new THREE.Vector2(2*i-1,-2*n+1)}}]),e}());t.default=v,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e,t,i){for(var n=!0;n;){var o=e,a=t,r=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(r)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,i=r,n=!0,s=u=void 0}},l=i(41),u=n(l),d=i(42),c=i(45),f=i(4),v=i(6),p=i(1),h=n(p),m=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,f.EXAM_TYPE.Coord_Point_Number)}return a(t,e),r(t,[{key:"create",value:function(e){this.valueArray=e||(0,c.generRanArray)(this),(0,d.buildInputView)(this),(0,v.isApp)()&&this.bindInputKey();var t=this;return setTimeout(function(){(0,d.buildInputView)(t)},200),this}},{key:"bindInputKey",value:function(){}},{key:"clearOtherSelect",value:function(){for(var e=0,t=this.valueArray.length;e<=t;e++)$(h.default.view).find("."+d.PRE_INPUT_ELEMENT+e).removeClass("on")}},{key:"updateDomValue",value:function(){(0,d.updateInputValue)(this)}},{key:"updateValueArray",value:function(){this.valueArray=(0,c.generRanArray)(this),this.updateDomValue()}},{key:"showAnswer",value:function(){(0,d.addButtonValue)(this)}},{key:"removeAnswer",value:function(){this.userResArray=[],(0,d.removeButtonValue)(this)}}]),t}(u.default);t.default=m,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e,t,i){for(var n=!0;n;){var o=e,a=t,r=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(r)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,i=r,n=!0,s=u=void 0}},l=i(41),u=n(l),d=i(42),c=(i(45),i(4)),f=i(49),v=i(18),p=n(v),h=i(34),m=i(50),b=n(m),x=i(10),y=i(11),g=i(1),E=n(g),_=i(44),T=n(_),w=i(9),P=(n(w),function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,c.EXAM_TYPE.Calculate_Note),this.symbolArray=[],this.userSymbolArray=[],this.userResult}return a(t,e),r(t,[{key:"create",value:function(e,t){return e?this.valueArray=e:this.updateValueArray(),t&&(this.symbolArray=t),(0,d.buildCalcTextView)(this),this.updateDomValue(),this}},{key:"updateDomValue",value:function(){(0,d.updateCalcTextView)(this)}},{key:"updateValueArray",value:function(){var e=void 0;e=this.isInteger?(0,f.generFromulaByScope)(2,40):(0,f.generFromulaByScope)(2,15,!0),this.valueArray=e.number,this.symbolArray=e.symboCodes,this.updateDomValue()}},{key:"getCorrectRes",value:function(){return this.buildCalcString(this.valueArray,this.symbolArray)}},{key:"getUserRes",value:function(){return this.buildCalcString(this.userResValue,this.userSymbolArray)}},{key:"setUserRes",value:function(e,t){try{this.userResValue=e,this.userSymbolArray=t}catch(e){console.log("setUserRes Fail,error info is",e)}this.userResValue.length>1&&(0,d.updateCaclResultText)(this,this.updateResultText(this.userResValue,this.userSymbolArray))}},{key:"buildCalcString",value:function(e,t){if(e&&t){var i="";i+=e[0];for(var n=e.length,o=t.length,a=1;a<n&&a-1<o;a++)t[a-1]>0?i+=" + ":i+=" - ",i+=e[a]+"";return i}}},{key:"updateResultText",value:function(e,t){for(var i=e[0],n=0,o=e.length-1;n<o;n++)i+=e[n+1]*t[n];return i}},{key:"showAnswer",value:function(){(0,d.updateCaclResultText)(this,this.updateResultText(this.valueArray,this.symbolArray));var e=x.scene.getObjectByName("group"),t=e.getObjectByName("regulation0");t&&e.remove(t),(0,h.init)(this.isInteger);var i=this.valueArray,n=this.symbolArray,o=void 0;2==this.valueArray.length?y.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]:3==this.valueArray.length&&(y.toolbarStatus.lineColor=["#03ACF6","#00AE9D","#0372D2"]);for(var a=void 0,r=0;r<n.length;r++){if(0==r){o=1.5*e.data.lineWidth;var s=this.valueArray[0];y.toolbarStatus.startPoint=(0,p.default)(o,c.baseColor,e.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),y.toolbarStatus.startPoint.position.x=s*h.unitLength}else o=e.data.lineWidth,y.toolbarStatus.startPoint=y.toolbarStatus.endPoint;y.toolbarStatus.endPoint=(0,p.default)(e.data.lineWidth,c.baseColor,e.data.smallUnitVisible?"":void 0,new THREE.Vector2(0,-30)),n[r]>0?void 0===a?(y.toolbarStatus.endPoint.position.x=(i[r]+i[r+1])*h.unitLength,a=i[r]+i[r+1]):y.toolbarStatus.endPoint.position.x=(a+i[r+1])*h.unitLength:n[r]<0&&(void 0===a?(y.toolbarStatus.endPoint.position.x=(i[r]-i[r+1])*h.unitLength,a=i[r]-i[r+1]):y.toolbarStatus.endPoint.position.x=(a-i[r+1])*h.unitLength);var l=new b.default(y.toolbarStatus,e.position,e.data.unitLength/e.data.unitMultiple);l.add(y.toolbarStatus.startPoint),l.add(y.toolbarStatus.endPoint),e.add(l),l.name="showAnswer",(0,T.default)(l),E.default.renderer()}}},{key:"removeAnswer",value:function(){(0,d.updateCalcTextView)(this);var e=x.scene.getObjectByName("group"),t=e.getObjectByName("regulation0");t&&e.remove(t),t=e.getObjectByName("showAnswer"),t&&e.remove(t),y.toolbarStatus._action="regulation",2==this.valueArray.length?y.toolbarStatus.lineColor=["#03ACF6"]:3==this.valueArray.length&&(y.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]);var i=1.3*e.data.lineWidth,n=this.valueArray[0];2==this.valueArray.length?y.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]:3==this.valueArray.length&&(y.toolbarStatus.lineColor=["#03ACF6","#00AE9D","#0372D2"]),y.toolbarStatus.startPoint=(0,p.default)(i,c.baseColor,e.data.smallUnitVisible?"":void 0,new THREE.Vector2(0,-30)),y.toolbarStatus.startPoint.position.x=n*h.unitLength,this.setUserRes([n]),y.toolbarStatus.startPoint.name="outset",e.add(y.toolbarStatus.startPoint),(0,m.setRegulationCount)(0),(0,w.clearCount)(),E.default.renderer()}}]),t}(u.default));t.default=P,e.exports=t.default},function(e,t){"use strict";function i(){}function n(e,t,n){if(e&&!(e<2)){var a=new i;return a.lenght=e,n?(a.maxNum=t,a.mixNum=1,a.maxResult=t,a.mixResult=-t):(a.maxNum=t,a.mixNum=1,a.maxResult=t,a.mixResult=0),o(a,u(e,a.maxNum,a.mixNum)),a}}function o(e,t){var i=t[0],n=[];n[0]=i;for(var r=void 0,s=[],d=1,c=t.length;d<c;d++){if(!(r=l(i,t[d],e.maxResult,e.mixResult)))return void o(e,u(e.lenght,e.maxNum,e.mixNum));i=r.resultValue,r.isChangeOrder?(n.splice(0,0,t[d]),s.splice(0,0,r.symbolCode)):(n[n.length]=t[d],s[s.length]=r.symbolCode)}a(n,s,e.maxResult,e.mixResult)?(e.number=n,e.symboCodes=s):o(e,u(e.lenght,e.maxNum,e.mixNum))}function a(e,t,i,n){for(var o=e[0],a=0,r=e.length-1;a<r;a++)if(o+=e[a+1]*t[a],!s(o,i,n))return!1;return!0}function r(){}function s(e,t,i){return e<=t&&e>=i}function l(e,t,i,n){var o=new r,a=d(),l=e+t*a;if(s(l,i,n))o.symbolCode=a,o.resultValue=l;else if(l=e+t*a*-1,s(l,i,n))o.symbolCode=-1*a,o.resultValue=l;else{if(l=t-e,!s(l,i,n))return null;o.isChangeOrder=!0,o.symbolCode=-1,o.resultValue=l}return o}function u(e,t,i){for(var n=[],o=void 0,a=0;a<e;a++){for(o=c(t,i);f(n,o);)o=c(t,i);n[a]=o}return n}function d(){var e=.5-Math.random();return e=e>=0?1:-1}function c(e,t){var i=e-t;return t+Math.floor(Math.random()*i)}function f(e,t){if("object"==typeof e&&0===e.length)return!1;for(var i=0;i<e.length;i++){if(0===Math.abs(e[i]-t))return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.generFromulaByScope=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){t.regulationCount=x=e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.setRegulationCount=a;var s=(i(10),i(17)),l=n(s),u=i(22),d=(i(20),i(51)),c=n(d),f=i(52),v=(n(f),i(53)),p=n(v),h=i(34),m=i(1),b=n(m),x=0;t.regulationCount=x;var y=function(){function e(t,i,n){var a=arguments.length<=3||void 0===arguments[3]?5:arguments[3];return o(this,e),this.curve=new THREE.Object3D,this.curve.outset=t.startPoint,this.curve.terminal=t.endPoint,this.curve.startPoint=t.startPoint.position,this.curve.endPoint=t.endPoint.position,this.curve.bottom=t.startPoint.userData.radius+5,this.curve.color=t.startPoint.userData.color,this.curve.lineWidth=a,this.curve.unitLength=n,this.curve.draw=b.default.isTeacherMobile||b.default.isStudentMobile?this.drawArc:this.draw,this.curve.update=b.default.isTeacherMobile||b.default.isStudentMobile?this.updateArc:this.update,this.curve.revertArrow=this.revertArrow,this.curve.clear=this.clear,this.curve.destroy=this.destroy,this.curve.draw(),this.curve}return r(e,[{key:"drawArc",value:function(e){var i=this.getObjectByName("crossArrow"),n=this.endPoint.x>this.startPoint.x,o=Math.abs(this.endPoint.x-this.startPoint.x)>=20*h.unitLength?new THREE.Vector2((this.endPoint.x+this.startPoint.x)/2,(this.endPoint.x-this.startPoint.x)/4):new THREE.Vector2((this.endPoint.x+this.startPoint.x)/2,(this.endPoint.x-this.startPoint.x)/2),a=new THREE.QuadraticBezierCurve(this.startPoint,o,this.endPoint),r=a.getSpacedPoints(20),s=a.getPoint(.5),u=(n?"+":"")+((1e3*this.endPoint.x-1e3*this.startPoint.x)/this.unitLength.toFixed(10)/1e3).toFixed(1);if(i)i.position.x=this.endPoint.x,n!=i.userData.up&&(i.position.y*=-1,i.rotation.z==Math.PI?i.rotation.set(0,0,0):i.rotation.set(0,0,Math.PI),i.userData.up=n);else{this.color=n?"#FF0000":"#00FF00";var d=(0,c.default)(this.endPoint,this.lineWidth,this.color,n);d.position.y=n?this.bottom:-this.bottom,this.add(d);var f=(0,l.default)(u,s,64,32,"16px");f.name="distance",n?f.position.y+=24:f.position.y-=32}var v=new THREE.Path,p=v.createGeometry(r),m=new THREE.LineBasicMaterial({color:this.color,linewidth:this.lineWidth,overdraw:!0,transparent:!1,opacity:1}),b=new THREE.Line(p,m);b.name="torus",b.position.y=n?this.bottom:-this.bottom,b.position.z=0,this.add(b),e||(this.name="regulation"+x,t.regulationCount=x+=1)}},{key:"draw",value:function(e){var i=this.getObjectByName("crossArrow"),n=this.endPoint.x>this.startPoint.x,o=Math.abs(this.endPoint.x-this.startPoint.x)>=20*h.unitLength?new THREE.Vector2((this.endPoint.x+this.startPoint.x)/2,(this.endPoint.x-this.startPoint.x)/4):new THREE.Vector2((this.endPoint.x+this.startPoint.x)/2,(this.endPoint.x-this.startPoint.x)/2),a=new THREE.QuadraticBezierCurve(this.startPoint,o,this.endPoint),r=a.getPoint(.5),s=r.x,d=n?-Math.abs(((r.x-this.startPoint.x)*(r.x-this.startPoint.x)-r.y*r.y)/(2*r.y)):Math.abs(((r.x-this.startPoint.x)*(r.x-this.startPoint.x)-r.y*r.y)/(2*r.y)),f=new THREE.Vector2(s,d),v=(new THREE.Vector2).subVectors(f,r).length(),p=(n?"+":"")+((1e3*this.endPoint.x-1e3*this.startPoint.x)/this.unitLength.toFixed(10)/1e3).toFixed(1);if(this.color=n?"#FF0000":"#00FF00",i){var m=this.getObjectByName("distance"),b=this.getObjectByName("terminal").getObjectByName("positionText");i.position.x=this.endPoint.x,n!=i.userData.up&&(i.position.y*=-1,i.rotation.z==Math.PI?i.rotation.set(0,0,0):i.rotation.set(0,0,Math.PI),i.userData.up=n),m.position.x=r.x,m.position.y=n?r.y+40:r.y-16,m._dynamicTexture.clear().drawText(p,void 0,32),outsetText&&(b._dynamicTexture.clear().drawText((this.endPoint.x/this.unitLength.toFixed(10)).toFixed(1),void 0,16),b.visible=(this.endPoint.x/this.unitLength).toFixed(1)%1!=0)}else{var y=(0,c.default)(this.endPoint,this.lineWidth,this.color,n);y.position.y=n?this.bottom:-this.bottom,this.add(y);var g=(0,l.default)(p,r,64,32,"16px");g.name="distance",n?g.position.y+=40:g.position.y-=32}var E=(0,u.getAngle)(this.startPoint,f,this.endPoint),_=new THREE.TorusGeometry(v,this.lineWidth/2,80,50,E.angle),T=new THREE.MeshBasicMaterial({color:this.color,overdraw:!0,transparent:!1,opacity:1}),w=new THREE.Mesh(_,T);w.name="torus",w.position.x=f.x,w.position.y=n?f.y+=this.bottom:f.y-=this.bottom;var P=n?(Math.PI-Math.abs(E.angle))/2:Math.PI+(Math.PI-Math.abs(E.angle))/2;w.rotation.set(0,0,P),this.add(w),e||(this.name="regulation"+x,t.regulationCount=x+=1)}},{key:"update",value:function(){var e=this.getObjectByName("torus"),t=this.getObjectByName("crossArrow");this.torusPosition=e.position,this.remove(e),this.remove(t),(0,p.default)(e),this.draw(!0)}},{key:"updateArc",value:function(){var e=this.getObjectByName("torus"),t=this.getObjectByName("crossArrow");this.torusPosition=e.position,this.remove(e),this.remove(t),(0,p.default)(e),this.draw(!0)}},{key:"clear",value:function(e){for(var t=e.children.length,i=0;i<t;i++)e.remove(e.children[0]),(0,p.default)(e.children[0])}}]),e}();t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,n){var o=new THREE.Object3D,a=new THREE.Shape,r=new THREE.Shape,s=3*t,l=void 0,u=void 0,d=new THREE.MeshBasicMaterial({color:i,transparent:!1}),c=void 0,f=void 0;return n?(a.moveTo(-t/2,0),a.lineTo(-t/2,s),a.lineTo(+t/2,s),a.lineTo(+t/2,0),a.lineTo(-t/2,0),r.moveTo(t/2-s,-t/2),r.lineTo(t/2-s,t/2),r.lineTo(+t/2,t/2),r.lineTo(+t/2,-t/2),r.lineTo(t/2-s,-t/2)):(a.moveTo(-t/2,0),a.lineTo(-t/2,-s),a.lineTo(+t/2,-s),a.lineTo(+t/2,0),a.lineTo(-t/2,0),r.moveTo(+s-t/2,-t/2),r.lineTo(+s-t/2,t/2),r.lineTo(-t/2,t/2),r.lineTo(-t/2,-t/2),r.lineTo(+s-t/2,-t/2)),l=new THREE.ShapeGeometry(a),u=new THREE.ShapeGeometry(r),c=new THREE.Mesh(l,d),f=new THREE.Mesh(u,d),c.name="tinyArrow",f.name="tinyArrow",o.add(c),o.add(f),o.position.x=e.x,o.position.y=e.y,o.name="crossArrow",o.userData.up=n,o},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var n=2*t,o=new THREE.MeshBasicMaterial({color:i,overdraw:!0,transparent:!1,opacity:1}),a=new THREE.CircleGeometry(n,64),r=new THREE.Mesh(a,o);return r.position.x=e.x,r.position.y=e.y,r.name="outset",r},e.exports=t.default},function(e,t){"use strict";function i(e){if(e){if(e.children&&e.children.length>0)for(var t=0;t<e.children.length;t++)i(e.children[t]);e.geometry&&e.geometry.dispose(),e.material&&(e.material.dispose(),e.material.map&&e.material.map.dispose&&e.material.map.dispose()),e=null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e,t,i){for(var n=!0;n;){var o=e,a=t,r=i;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(r)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,i=r,n=!0,s=u=void 0}},l=i(41),u=n(l),d=i(42),c=(i(45),i(4)),f=i(49),v=i(6),p=i(1),h=n(p),m=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,c.EXAM_TYPE.Calculate_Number),this.symbolArray=[],this.userSymbolArray=[]}return a(t,e),r(t,[{key:"create",value:function(e,t){return e?this.valueArray=e:this.updateValueArray(),t&&(this.symbolArray=t),(0,d.buildCalcInputView)(this),(0,v.isApp)()&&this.bindInputKey(),this}},{key:"bindInputKey",value:function(){}},{key:"clearOtherSelect",value:function(){for(var e=0,t=this.valueArray.length;e<=t;e++)$(h.default.view).find("."+d.PRE_SYMBOL_ELEMENT+e).removeClass("on")}},{key:"updateDomValue",value:function(){(0,d.buildCalcInputView)(this)}},{key:"updateValueArray",value:function(){var e=void 0;e=this.isInteger?(0,f.generFromulaByScope)(2,40):(0,f.generFromulaByScope)(3,15,!0),this.valueArray=e.number,this.symbolArray=e.symboCodes,this.updateDomValue()}},{key:"getCorrectRes",value:function(){if(this.valueArray&&this.symbolArray){for(var e=this.valueArray[0],t=0,i=this.valueArray.length-1;t<i;t++)e+=this.valueArray[t+1]*this.symbolArray[t];var n=this.valueArray.toString();return n+=","+e}}},{key:"getUserRes",value:function(){if(this.userResArray&&this.symbolArray){return this.userResArray.toString()}}},{key:"showAnswer",value:function(){(0,d.addButtonValue)(this)}},{key:"removeAnswer",value:function(){this.userResArray=[],(0,d.removeButtonValue)(this)}}]),t}(u.default);t.default=m,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){e.position.x;e.position.x+=t}function a(e,t){var i=e.getObjectByName("markPointValue"),n=new THREE.Vector2;n.x=i.position.x,n.y-=unitHeight+15;var o=e.position.x;i&&i.parent.remove(i);var a=o/t,r=Math.round(10*a)/10;parseInt(r)==r&&(r="");var s=(0,p.default)(r,n,32,32,"15px","red");s.name="markPointValue",e.add(s)}function r(e){var t=[],i=e.position.x;(0,b.saveObjPosition)(i);var n=(0,m.getPositionCollection)();if(n.length>0)for(var o=0;o<n.length;o++)n[o]!=i&&t.push(n[o]);(0,m.refreshPositionCollection)(t)}function s(e){if(x=[],"markPoint"==e.name){y=1.5*h.lineWidth;var t=e.position.x,i=(0,m.getPositionCollection)();if(i.length>0)for(var n=0;n<i.length;n++)i[n]!=t&&x.push(i[n]);(0,m.refreshPositionCollection)(x)}}function l(){g&&(g=!1),x=[]}function u(e){for(var t=e.children,i=[],n=0;n<t.length;n++)"markPoint"==t[n].name&&i.push(t[n].position.x);i.length>0&&(0,m.refreshPositionCollection)(i)}function d(){return E}function c(e){E=e}Object.defineProperty(t,"__esModule",{value:!0}),t.moveMarkPoint=o,t.refreshText=a,t.removeMeArray=r,t.initArray=s,t.changeisFirst=l,t.refreshArray=u,t.getMoveStatus=d,t.setMoveStatus=c;var f=i(1),v=(n(f),i(17)),p=n(v),h=(i(31),i(34)),m=i(28),b=i(56),x=[],y=void 0,g=!1,E=!1},function(e,t,i){"use strict";function n(e,t,i){if((0,l.getMoveStatus)())for(var a=e.parent.position.x,c=0;c<t.length;c++)if(Math.abs(a-t[c])<3){if(d>a){if(t[c]-3<=i.data.pointA.x){var f=o();e.parent.position.x=t[c]+f,(0,l.refreshArray)(e.parent.parent);var v=(0,s.getPositionCollection)();d=t[c]-3;var p=r(v,t[c]),h=r(p,e.parent.position.x);n(e,h,i),(0,l.refreshText)(e.parent,u.unitLengthSend);break}var f=o();e.parent.position.x=t[c]-f}else{if(t[c]+3>=i.data.pointB.x){var f=o();e.parent.position.x=t[c]-f,(0,l.refreshArray)(e.parent.parent);var v=(0,s.getPositionCollection)();d=i.data.pointB.x;var p=r(v,t[c]),h=r(p,e.parent.position.x);n(e,h,i),(0,l.refreshText)(e.parent,u.unitLengthSend);break}var f=o();e.parent.position.x=t[c]+f}var m=r(t,t[c]);n(e,m,i),(0,l.refreshText)(e.parent,u.unitLengthSend)}}function o(){for(var e=void 0,t=1.5*lineWidth,i=u.unitLengthSend/10,n=1;n<5;n++)if(i*n>=2*t){e=i*n;break}return e}function a(e){d=e}function r(e,t){for(var i=[],n=!0,o=0;o<e.length;o++)e[o]==t?(n||i.push(t),n=!1):i.push(e[o]);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.upMarkPoint=n,t.saveObjPosition=a;var s=i(28),l=i(55),u=i(31),d=void 0},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(t){b=e.parent;b.getObjectByName("markPointFrame").visible=!0,$(".markpoint-input").attr("readonly",!1).val("").focus()}else if(b){if(x){(0,v.clear)(y);var i=r(g);i?(h.default.tips("发现存在相同标识点，禁止其他操作"),$(".markpoint-input").attr("readonly",!1).val("").focus(),E=!1):($(".markpoint-input").attr("readonly",!0).val(""),(0,v.add)(g),b.userData.markText=g,s(e),x=!1,E=!0)}else $(".markpoint-input").attr("readonly",!0).val(""),s(e);(0,v.getCharCollection)()}}function a(){return E}function r(e){for(var t=(0,v.getCharCollection)(),i=0;i<t.length;i++)if(t[i]==e)return!0;return!1}function s(e){for(var t=[],i=e.children,n=0;n<i.length;n++)if("markPoint"==i[n].name){var o=i[n].getObjectByName("markPointFrame");t.push(o)}for(var a=0;a<t.length;a++){var o=t[a];o.visible=!1}}function l(e){if(m=e.value.toString(),m.length>3)return m=m.substring(0,3),void(e.value=m);x=!0;var t=b.getObjectByName("markPointText"),i=b.userData.markText;y=i,g=m;var n=t.position,o=(0,f.default)(m,n,32,32,"15px","black");o.name="markPointText",t.parent.add(o),t.parent.remove(t)}function u(){y=null}Object.defineProperty(t,"__esModule",{value:!0}),t.editeMarkPointText=o,t.getAllowBoolean=a,t.writeMarkPointText=l,t.resetText=u;var d=i(1),c=(n(d),i(17)),f=n(c),v=i(28),p=i(12),h=n(p),m=void 0,b=void 0,x=void 0,y=void 0,g=void 0,E=!0},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){t.maxSize=j=e}function a(){s.default.model.question_url&&$(s.default.view).find(".com_u_boardtit").html(s.default.model.question_url.title);var e=(0,_.getAxisExamModel)();if(s.default.submitAnser)for(var t in s.default.submitAnser)"connectContorl"!==t&&(e[t]=s.default.submitAnser[t]);var i=e.examType;if(e){if(i==l.EXAM_TYPE.Coord_Point_Note){if(d.toolbarStatus._action="mark",(0,T.init)(e.isInteger),(0,E.default)(),s.default.submitAnser&&s.default.submitAnser.userResArray){for(var n=s.default.submitAnser.userResArray,o=s.default.submitAnser.btnClassArray,a=u.scene.getObjectByName("group"),r=0;r<n.length;r++){var c=0;if(null!==n[r]){c=e.isInteger?n[r]*a.data.unitLength-T.offsetX+T.offsetXY:n[r]*a.data.unitLength+T.offsetXY;var f=(0,M.AddMarkPoint)(new THREE.Vector2(c,0),o[r]),v=new THREE.Vector3;v.x=c,v.y=T.offsetY,e.connectContorl.drawConnectLine(o[r],v),(0,A.default)(f)}}(0,y.default)(o[s.default.submitAnser.activeClassIndex],16772999,16711680),e.connectContorl.selectClsName=o[s.default.submitAnser.activeClassIndex],$(s.default.view).find(".number_list_box").removeClass("on"),$(s.default.view).find("."+o[s.default.submitAnser.activeClassIndex]).addClass("on"),s.default.renderer()}}else if(i==l.EXAM_TYPE.Coord_Point_Number){var p=["axis_input_element_0","axis_input_element_1","axis_input_element_2","axis_input_element_3"];d.toolbarStatus._action="mark",(0,T.init)(e.isInteger);for(var h=0;h<e.valueArray.length;h++){var b=new THREE.Vector3;e.isInteger?b.x=e.valueArray[h]*T.unitLength-T.offsetX:b.x=e.valueArray[h]*T.unitLength,b.y=0,b.z=0,(0,M.AddMarkPoint)(b,p[h])}if(s.default.submitAnser&&s.default.submitAnser.userResArray){for(var n=s.default.submitAnser.userResArray,x=0;x<n.length;x++)null!==n[x]&&$(s.default.view).find("."+p[x]+" .number_list_input").val(n[x]);$(s.default.view).find(".number_list_box").removeClass("on"),$(s.default.view).find("."+p[s.default.submitAnser.activeClassIndex]).addClass("on"),(0,y.default)(p[s.default.submitAnser.activeClassIndex],16772999,16711680),e._isNoCreate=!0,(0,B.updateInputValue)(e)}else{e._isNoCreate=!1;var g=$(s.default.view).find(".on").attr("class");(0,y.default)(g,16772999,16711680)}s.default.renderer()}else if(i==l.EXAM_TYPE.Calculate_Note){d.toolbarStatus._action="regulation",2==e.valueArray.length?d.toolbarStatus.lineColor=["#03ACF6"]:3==e.valueArray.length&&(d.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]),(0,T.init)(e.isInteger);var w=u.scene.getObjectByName("group"),S=1.3*w.data.lineWidth,C=e.valueArray[0];if(2==e.valueArray.length?d.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]:3==e.valueArray.length&&(d.toolbarStatus.lineColor=["#03ACF6","#00AE9D","#0372D2"]),d.toolbarStatus.startPoint=(0,P.default)(S,l.baseColor,w.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),d.toolbarStatus.startPoint.position.x=C*T.unitLength,d.toolbarStatus.startPoint.name="outset",s.default.submitAnser&&e.userResValue.length>1){l.answerValue[0]=C;var R=void 0;e.userSymbolArray[0]>0?(R=Number(e.userResValue[0])+Number(e.userResValue[1]),(0,B.updateCaclResultText)(e,R)):(R=Number(e.userResValue[0])-Number(e.userResValue[1]),(0,B.updateCaclResultText)(e,R)),d.toolbarStatus.endPoint=(0,P.default)(w.data.lineWidth,d.toolbarStatus.lineColor[0],w.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),d.toolbarStatus.endPoint.position.x=R*T.unitLength,d.toolbarStatus.endPoint.name="terminal";var O=new m.default(d.toolbarStatus,w.position,w.data.unitLength/w.data.unitMultiple);O.add(d.toolbarStatus.startPoint),O.add(d.toolbarStatus.endPoint),w.add(O),(0,A.default)(O)}else w.add(d.toolbarStatus.startPoint),e.setUserRes([C]);s.default.renderer(),(0,E.default)()}else{if(i!=l.EXAM_TYPE.Calculate_Number)return void(s.default.submitAnser&&(s.default.submitAnser=void 0));(0,T.init)(e.isInteger);var V=u.scene.getObjectByName("group"),j=e.valueArray,N=e.symbolArray,S=void 0;2==e.valueArray.length?d.toolbarStatus.lineColor=["#03ACF6","#00AE9D"]:3==e.valueArray.length&&(d.toolbarStatus.lineColor=["#03ACF6","#00AE9D","#0372D2"]);for(var H=void 0,L=0;L<N.length;L++){0==L?(S=1.3*V.data.lineWidth,d.toolbarStatus.startPoint=(0,P.default)(S,"customize",V.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),d.toolbarStatus.startPoint.position.x=j[L]*T.unitLength):(S=V.data.lineWidth,d.toolbarStatus.startPoint=d.toolbarStatus.endPoint),d.toolbarStatus.endPoint=(0,P.default)(V.data.lineWidth,l.baseColor,V.data.smallUnitVisible?pointText:void 0,new THREE.Vector2(0,-30)),N[L]>0?void 0===H?(d.toolbarStatus.endPoint.position.x=(j[L]+j[L+1])*T.unitLength,H=j[L]+j[L+1]):d.toolbarStatus.endPoint.position.x=(H+j[L+1])*T.unitLength:N[L]<0&&(void 0===H?(d.toolbarStatus.endPoint.position.x=(j[L]-j[L+1])*T.unitLength,H=j[L]-j[L+1]):d.toolbarStatus.endPoint.position.x=(H-j[L+1])*T.unitLength);var O=new m.default(d.toolbarStatus,V.position,V.data.unitLength/V.data.unitMultiple);O.add(d.toolbarStatus.startPoint),O.add(d.toolbarStatus.endPoint),V.add(O),s.default.renderer()}if(s.default.submitAnser&&s.default.submitAnser.userResArray){console.log(s.default.submitAnser);for(var n=s.default.submitAnser.userResArray,p=["axis_symbol_element_0","axis_symbol_element_1","axis_symbol_element_2","axis_symbol_element_3"],x=0;x<n.length;x++)null!==n[x]&&$(s.default.view).find("."+p[x]+" .number_list_input").val(n[x]);$(s.default.view).find(".number_list_box").removeClass("on"),$(s.default.view).find("."+p[s.default.submitAnser.activeClassIndex]+".number_list_box").addClass("on")}}s.default.submitAnser&&(s.default.submitAnser=void 0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.setMaxSize=o,t.decoData=a;var r=i(1),s=n(r),l=i(4),u=i(10),d=i(11),c=i(35),f=(n(c),i(36)),v=(n(f),i(30)),p=(n(v),i(31)),h=(n(p),i(50)),m=n(h),b=i(38),x=(n(b),i(43)),y=n(x),g=i(9),E=n(g),_=i(6),T=i(34),w=i(18),P=n(w),S=i(44),A=n(S),M=i(28),C=i(40),R=(n(C),i(47)),O=(n(R),i(48)),V=(n(O),i(54)),B=(n(V),i(42)),j=4;t.maxSize=j},function(e,t){"use strict";function i(e,i){return!i&&n()?(t.isWebGLRenderer=o=!0,new THREE.WebGLRenderer(e)):(t.isWebGLRenderer=o=!1,new THREE.CanvasRenderer(e))}function n(){var e={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);return!(!i||!i.getContextAttributes().stencil)}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=void 0;t.isWebGLRenderer=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(21),a=n(o),r=i(31),s=n(r);t.default=function(e,t,i){var n=void 0,o=void 0,r=void 0,l=void 0,u=void 0,d=void 0,c=void 0,f=void 0;l=t.getObjectByName("line"),f=t.getObjectByName("arrow"),o=t.data.pointA,r=t.data.pointB,n=t.data.controllerDis,u=t.data.unitMultiple,d=t.data.unitLength,c=t.data.lineWidth,"controllerRight"===e?(r=new THREE.Vector3(i.position.x-n,r.y,r.z),t.data.pointB=r,f.position.copy(r)):"controllerLeft"===e&&(o=new THREE.Vector3(i.position.x+n,o.y,o.z),t.data.pointA=o),(0,a.default)(l,o,r,c),(0,a.default)(t,o,r,5*c),(0,s.default)(t,o,r,u,d,c)},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(21),a=n(o),r=i(31),s=n(r);t.default=function(e,t,i){var n=e.getObjectByName("line"),o=e.getObjectByName("controllerLeft"),r=e.getObjectByName("controllerRight"),l=e.getObjectByName("arrow"),u=(e.getObjectByName("center"),new THREE.Vector3(0,0,0)),d=(new THREE.Vector2).subVectors(u,e.data.pointB),c=(new THREE.Vector2).subVectors(u,e.data.pointA),f=parseInt(c.length()/e.data.unitLength),v=parseInt(d.length()/e.data.unitLength),p=c.length()%e.data.unitLength/e.data.unitLength,h=d.length()%e.data.unitLength/e.data.unitLength;t.position.x+=i,t.position.x<=40?t.position.x=40:t.position.x>=300&&(t.position.x=300),e.data.unitLength=t.position.x,e.data.pointA.x=-(f+p)*e.data.unitLength,e.data.pointB.x=(v+h)*e.data.unitLength,l.position.copy(e.data.pointB),o.position.x=e.data.pointA.x-e.data.controllerDis,r.position.x=e.data.pointB.x+e.data.controllerDis,(0,a.default)(n,e.data.pointA,e.data.pointB,e.data.lineWidth),(0,a.default)(e,e.data.pointA,e.data.pointB,5*e.data.lineWidth),(0,s.default)(e,e.data.pointA,e.data.pointB,e.data.unitMultiple,e.data.unitLength,e.data.lineWidth)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(31),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){var i=void 0,n=void 0,a=void 0,r=void 0,s=void 0,l=void 0;e.getObjectByName("showText"),i=e.getObjectByName("unitSelect"),n=e.data.pointA,a=e.data.pointB,r=e.data.unitMultiple,s=e.data.unitLength,l=e.data.lineWidth,t?($(".numberline-input").attr("readonly",!1).val(r).focus(),i.visible=!0,i.position.x=s):($(".numberline-input").attr("readonly",!0),i.visible=!1,(0,o.default)(e,n,a,r,s,l))},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){var n=void 0,o=void 0,a=void 0,r=void 0,u=void 0,d=void 0,f=void 0,h=void 0,m=void 0,b=void 0,x=void 0,y=void 0,g=void 0,E=void 0,_=[],T=[];switch(E=e.parent,n=E.data.lineWidth,o=e.data.startHeight,a=e.data.endHeight,m=e.data.startSideVector,b=e.data.endSideVector,y=e.data.sectionColor,r=e.getObjectByName("startSide"),u=e.getObjectByName("endSide"),d=e.getObjectByName("startPoint"),f=e.getObjectByName("endPoint"),h=e.getObjectByName("sectionLine"),x=e.getObjectByName("sectionText"),t.name){case"startPoint":d.position.y=0,p.toolbarStatus.refreshStartPoints||(_=s(d,f).startArr,_.length>0&&l(_,n),p.toolbarStatus.refreshStartPoints=!0),d.position.x+i>=E.data.pointA.x&&d.position.x+i<=E.data.pointB.x&&(d.position.x+=i,m.x=d.position.x),f.position.y>d.position.y&&(o=o+f.position.y-d.position.y),m.y=o-n/2,b.y=a+f.position.y-n/2;break;case"endPoint":f.position.y=0,p.toolbarStatus.refreshEndPoints||(T=s(d,f).endArr,T.length>0&&l(T,n),p.toolbarStatus.refreshEndPoints=!0),f.position.x+i>=E.data.pointA.x&&f.position.x+i<=E.data.pointB.x&&(f.position.x+=i,b.x=f.position.x),f.position.y<d.position.y&&(a=a+d.position.y-f.position.y),m.y=o+d.position.y-n/2,b.y=a-n/2;break;case"startSide":case"endSide":case"sectionLine":case"sectionText":if(d.position.y=0,f.position.y=0,p.toolbarStatus.refreshStartPoints||(_=s(d,f).startArr,_.length>0&&l(_,n),p.toolbarStatus.refreshStartPoints=!0),p.toolbarStatus.refreshEndPoints||(T=s(d,f).endArr,T.length>0&&l(T,n),p.toolbarStatus.refreshEndPoints=!0),d.position.x<=f.position.x){if(!(d.position.x+i>=E.data.pointA.x&&f.position.x+i<=E.data.pointB.x))return!0;d.position.x+=i,f.position.x+=i}else{if(!(d.position.x+i<=E.data.pointB.x&&f.position.x+i>=E.data.pointA.x))return!0;d.position.x+=i,f.position.x+=i}m.x=d.position.x,b.x=f.position.x,m.y=o-n/2,b.y=a-n/2}(0,c.default)(r,d.position,new THREE.Vector3(d.position.x,d.position.y+o,0),n),(0,c.default)(u,f.position,new THREE.Vector3(f.position.x,f.position.y+a,0),n),(0,c.default)(h,m,b,n),g=(0,v.default)(e,m,b),x._dynamicTexture.clear().drawText(g,void 0,16,y),x.position.x=(m.x+b.x)/2,x.position.y=m.y+15,e.data.startSideVector=m,e.data.endSideVector=b}function a(e,t){var i=void 0,n=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,u=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0,b=void 0,x=void 0,y=void 0,g=void 0;if(b=e.parent,g=b.data.smallUnitVisible,i=b.data.lineWidth,y=b.data.unitLength,n=e.data.startHeight,o=e.data.endHeight,d=e.data.startSideVector,f=e.data.endSideVector,h=e.data.sectionColor,a=e.getObjectByName("startSide"),r=e.getObjectByName("endSide"),s=e.getObjectByName("startPoint"),l=e.getObjectByName("endPoint"),u=e.getObjectByName("sectionLine"),p=e.getObjectByName("sectionText"),x=g?y/10:y,"startPoint"==t.name)if(x>=3*i)s.position.x>=l.position.x-3*i&&s.position.x<=l.position.x&&(l.position.x-x>=b.data.pointA.x?s.position.x=l.position.x-x:s.position.x=l.position.x+x),s.position.x<=l.position.x+3*i&&s.position.x>l.position.x&&(l.position.x+x<=b.data.pointB.x?s.position.x=l.position.x+x:s.position.x=l.position.x-x);else{var E=Math.ceil(3*i/x);s.position.x>=l.position.x-3*i&&s.position.x<=l.position.x&&(l.position.x-E*x>=b.data.pointA.x?s.position.x=l.position.x-E*x:s.position.x=l.position.x+E*x),
s.position.x<=l.position.x+3*i&&s.position.x>l.position.x&&(l.position.x+E*x<=b.data.pointB.x?s.position.x=l.position.x+E*x:s.position.x=l.position.x-E*x)}else if("endPoint"==t.name)if(x>=3*i)l.position.x>=s.position.x-3*i&&l.position.x<=s.position.x&&(s.position.x-x>=b.data.pointA.x?l.position.x=s.position.x-x:l.position.x=s.position.x+x),l.position.x<=s.position.x+3*i&&l.position.x>s.position.x&&(s.position.x+x<=b.data.pointB.x?l.position.x=s.position.x+x:l.position.x=s.position.x-x);else{var E=Math.ceil(3*i/x);l.position.x>=s.position.x-3*i&&l.position.x<=s.position.x&&(s.position.x-E*x>=b.data.pointA.x?l.position.x=s.position.x-E*x:l.position.x=s.position.x+E*x),l.position.x<=s.position.x+3*i&&l.position.x>s.position.x&&(s.position.x+E*x<=b.data.pointB.x?l.position.x=s.position.x+E*x:l.position.x=s.position.x-E*x)}else if(s.position.x<=l.position.x&&s.position.x+3*i>l.position.x)if(x>=3*i)l.position.x-x>=b.data.pointA.x?s.position.x-=x:l.position.x+=x;else{var E=Math.ceil(3*i/x);l.position.x-E*x>=b.data.pointA.x?s.position.x=l.position.x-E*x:l.position.x=s.position.x+E*x}else if(s.position.x>l.position.x&&s.position.x-3*i<l.position.x)if(x>=3*i)s.position.x-x>=b.data.pointA.x?l.position.x-=x:s.position.x+=x;else{var E=Math.ceil(3*i/x);s.position.x-E*x>=b.data.pointA.x?l.position.x=s.position.x-E*x:s.position.x=l.position.x+E*x}d.x=s.position.x,f.x=l.position.x,(0,c.default)(a,s.position,new THREE.Vector3(d.x,n,0),i),(0,c.default)(r,l.position,new THREE.Vector3(f.x,o,0),i),(0,c.default)(u,d,f,i),m=(0,v.default)(e,d,f),p._dynamicTexture.clear().drawText(m,void 0,16,h),p.position.x=(d.x+f.x)/2,p.position.y=d.y+15,e.data.startSideVector=d,e.data.endSideVector=f}function r(e,t){var i=void 0,n=void 0,o=void 0,r=void 0,s=void 0,l=void 0,u=void 0,d=void 0,f=void 0,h=void 0,m=void 0,b=void 0,x=void 0,y=void 0,g=[],E=[];y=e.parent,i=y.data.lineWidth,n=e.data.startHeight,o=e.data.endHeight,f=e.data.startSideVector,h=e.data.endSideVector,b=e.data.sectionColor,r=e.getObjectByName("startSide"),s=e.getObjectByName("endSide"),l=e.getObjectByName("startPoint"),u=e.getObjectByName("endPoint"),d=e.getObjectByName("sectionLine"),m=e.getObjectByName("sectionText");for(var _=void 0,T=void 0,w=void 0,P=void 0,S=0;S<p.toolbarStatus.referInterval.length;S++){var A=p.toolbarStatus.referInterval[S];A.id!=l.id&&A.id!=u.id&&(_?Math.abs(l.position.x-A.position.x)<_&&(_=Math.abs(l.position.x-A.position.x))<3*i&&(T=A):(_=Math.abs(l.position.x-A.position.x))<3*i&&(T=A),w?Math.abs(u.position.x-A.position.x)<w&&(w=Math.abs(u.position.x-A.position.x))<3*i&&(P=A):(w=Math.abs(u.position.x-A.position.x))<3*i&&(P=A))}T&&(l.position.x=T.position.x),P&&(u.position.x=P.position.x),a(e,t);for(var S=0;S<p.toolbarStatus.referInterval.length;S++){var A=p.toolbarStatus.referInterval[S];A.id!=l.id&&A.id!=u.id&&(l.position.x-A.position.x==0&&g.push(A),u.position.x-A.position.x==0&&E.push(A))}"startPoint"==t.name?l.position.y=3*g.length*i:"endPoint"==t.name?u.position.y=3*E.length*i:(l.position.y=3*g.length*i,u.position.y=3*E.length*i),l.position.y>=u.position.y?o+=l.position.y-u.position.y:n+=u.position.y-l.position.y,f.x=l.position.x,h.x=u.position.x,f.y=l.position.y+n-i/2,h.y=u.position.y+o-i/2,(0,c.default)(r,l.position,new THREE.Vector3(l.position.x,l.position.y+n,0),i),(0,c.default)(s,u.position,new THREE.Vector3(u.position.x,u.position.y+o,0),i),(0,c.default)(d,f,h,i),x=(0,v.default)(e,f,h),m._dynamicTexture.clear().drawText(x,void 0,16,b),m.position.x=(f.x+h.x)/2,m.position.y=f.y+15,e.data.startSideVector=f,e.data.endSideVector=h,p.toolbarStatus.refreshStartPoints=!1,p.toolbarStatus.refreshEndPoints=!1}function s(e,t){for(var i=[],n=[],o=0;o<p.toolbarStatus.referInterval.length;o++){var a=p.toolbarStatus.referInterval[o];a.id!=e.id&&a.id!=t.id&&(e.position.x==a.position.x&&i.push(a),t.position.x==a.position.x&&n.push(a))}return{startArr:i,endArr:n}}function l(e,t){for(var i=void 0,n=void 0,o=0;o<e.length;o++)i=e[o],n=i.parent,i.position.y=3*o*t,u(n,i,t)}function u(e,t,i){var n=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,u=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0;n=e.data.startHeight,o=e.data.endHeight,a=e.data.startSideVector,r=e.data.endSideVector,s=e.data.sectionColor,d=e.getObjectByName("startSide"),f=e.getObjectByName("endSide"),p=e.getObjectByName("sectionLine"),h=e.getObjectByName("sectionText"),"startPoint"==t.name?(l=t,u=e.getObjectByName("endPoint")):(u=t,l=e.getObjectByName("startPoint")),l.position.y>=u.position.y?o+=l.position.y-u.position.y:n+=u.position.y-l.position.y,a.x=l.position.x,r.x=u.position.x,a.y=l.position.y+n-i/2,r.y=u.position.y+o-i/2,(0,c.default)(d,l.position,new THREE.Vector3(l.position.x,l.position.y+n,0),i),(0,c.default)(f,u.position,new THREE.Vector3(u.position.x,u.position.y+o,0),i),(0,c.default)(p,a,r,i),m=(0,v.default)(e,a,r),h._dynamicTexture.clear().drawText(m,void 0,16,s),h.position.x=(a.x+r.x)/2,h.position.y=a.y+15,e.data.startSideVector=a,e.data.endSideVector=r}Object.defineProperty(t,"__esModule",{value:!0});var d=i(21),c=n(d),f=i(23),v=n(f),p=i(11),h=i(26),m=n(h);t.default=function(e,t,i){var n=void 0;n=e.parent,n.parent.getObjectByName("intersection"),n.parent.getObjectByName("union"),"up"==i?(r(n,e),(0,m.default)(n.parent)):(o(n,e,t),(0,m.default)(n.parent))},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(63),a=n(o),r=i(26),s=n(r);t.default=function(e){var t=e.getObjectByName("inCircle");t.visible?(t.visible=!1,e.data.status=!0):(t.visible=!0,e.data.status=!1),(0,a.default)(e),(0,s.default)(e.parent.parent)},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(17),s=n(r),l=i(18),u=n(l),d=function(){function e(t,i){o(this,e),this.lineWidth=t,this.color=i}return a(e,[{key:"getRandomColor",value:function(){return"#"+("00000"+(16777215*Math.random()+.5>>0).toString(16)).slice(-6)}},{key:"getPointMaterial",value:function(){return new THREE.MeshBasicMaterial({color:16777215})}},{key:"getPointLineMaterial",value:function(){return new THREE.MeshBasicMaterial({color:this.color,linewidth:2})}},{key:"createSide",value:function(e,t){var i=new THREE.Shape,n=new THREE.Vector3(e.x,e.y+t,0);i.moveTo(e.x+this.lineWidth/2,0),i.lineTo(n.x+this.lineWidth/2,t),i.lineTo(n.x-this.lineWidth/2,t),i.lineTo(e.x-this.lineWidth/2,0),i.lineTo(e.x+this.lineWidth/2,0);var o=new THREE.ShapeGeometry(i);return{side:new THREE.Mesh(o,new THREE.MeshBasicMaterial({color:this.color})),endVector:n}}},{key:"createLine",value:function(e,t){var i=new THREE.Shape;i.moveTo(e.x,e.y-this.lineWidth/2),i.lineTo(t.x,t.y-this.lineWidth/2),i.lineTo(t.x,t.y+this.lineWidth/2),i.lineTo(e.x,e.y+this.lineWidth/2),i.lineTo(e.x,e.y-this.lineWidth/2);var n=new THREE.ShapeGeometry(i);return new THREE.Mesh(n,new THREE.MeshBasicMaterial({color:this.color}))}},{key:"createSection",value:function(e,t,i,n,o,a){var r=void 0,l=void 0,d=void 0,c=void 0,f=void 0,v=void 0,p=void 0;return f=new THREE.Object3D,f.data={},f.name="section",r=(0,u.default)(a.data.lineWidth,this.color),r.position.x=t.x-a.position.x,r.name="endPoint",l=this.createSide(e,i),l.side.name="startSide",d=this.createSide(t,n),d.side.name="endSide",i>=0||n>=0?(l.endVector.y=l.endVector.y-this.lineWidth/2,d.endVector.y=d.endVector.y-this.lineWidth/2,p=new THREE.Vector3((e.x+t.x)/2,i+15,0)):(l.endVector.y=l.endVector.y+this.lineWidth/2,d.endVector.y=d.endVector.y+this.lineWidth/2,p=new THREE.Vector3((e.x+t.x)/2,-i-70,0)),c=this.createLine(l.endVector,d.endVector),c.name="sectionLine",v=(0,s.default)(o,p,128,16,"16px",this.color),v._dynamicTexture.clear().drawText(o,void 0,16,this.color),v.name="sectionText",v.position.z=-1,f.add(r),f.add(l.side),f.add(d.side),f.add(c),f.add(v),f.data.startVector=e,f.data.endVector=t,f.data.startHeight=i,f.data.endHeight=n,f.data.startSideVector=l.endVector,f.data.endSideVector=d.endVector,f.data.sectionColor=this.color,f}}]),e}();t.default=d,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=t.data.smallUnitVisible,n=(t.data.unitMultiple,void 0),o=void 0,a=e.x-t.position.x<0,r=void 0;n=i?t.data.unitLength/10:t.data.unitLength,r=parseInt((e.x-t.position.x)/n),o=(e.x-t.position.x)%n,Math.abs(o)>=n/2&&(a?r--:r++),e.x=r*n+t.position.x},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=e.movePoint.x-e.startPoint.x,n=t.data.smallUnitVisible,o=(t.data.unitMultiple,void 0),a=void 0,r=(e.recordDistance+=i)<0,s=void 0;return o=n?t.data.unitLength/10:t.data.unitLength,s=e.recordDistance>=0?Math.floor(e.recordDistance/o):Math.ceil(e.recordDistance/o),a=e.recordDistance%o,Math.abs(a)>=o/2&&(r?s--:s++),i=s*o},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t,i,n,a){var r=void 0,s=void 0,l=void 0,u=void 0;if(a?(r="outset"==e,s=r?t.startPoint.x+n:t.endPoint.x+n,l=r?a.startPoint.x:a.endPoint.x+n,u=r?Math.abs(s-t.endPoint.x):Math.abs(s-t.startPoint.x)):(r="outset"==e,s=r?t.startPoint.x+n:t.endPoint.x+n,u=r?Math.abs(s-t.endPoint.x):Math.abs(s-t.startPoint.x)),a){if(!(u>=40||u>=i.data.unitLength/2))return!0;if(!(s<=i.data.pointB.x&&s>=i.data.pointA.x&&l<=i.data.pointB.x&&l>=i.data.pointA.x))return!0;r?t.startPoint.x=s:t.endPoint.x=s,t.update(),a.update()}else if(o.default.isTeacherMobile||o.default.isStudentMobile){if(!(u>=40||u>=i.data.unitLength/2))return!0;if(!(s<=i.data.pointB.x-25&&s>=i.data.pointA.x))return!0;r?t.startPoint.x=s:t.endPoint.x=s,t.update()}else{if(!(u>=40||u>=i.data.unitLength/2))return!0;if(!(s<=i.data.pointB.x-20&&s>=i.data.pointA.x))return!0;r?t.startPoint.x=s:t.endPoint.x=s,t.update()}},e.exports=t.default},function(e,t,i){"use strict";function n(e,t){for(;e.parent&&e.parent!==t;)e=e.parent,n(e,t);return e}Object.defineProperty(t,"__esModule",{value:!0});var o=i(44),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e,t,i){if(e){var o=e.material.color.getHex();e.material.color.setHex(t);var r=n(e,i);return(0,a.default)(r),{obj:e,originColor:o}}},e.exports=t.default},function(e,t,i){"use strict";function n(){function e(){var e=l.scene.getObjectByName("group");f=[];for(var t=e.children,i=0;i<t.length;i++)"markPoint"!=t[i].name&&"section"!=t[i].name&&-1==t[i].name.toString().indexOf("regulation")&&"outset"!=t[i].name||f.push(e.children[i]);for(var n=0;n<f.length;n++)f[n].parent.remove(f[n]);(0,c.setToolbarStatus)(null),(0,u.resetCollection)()}$(a.default.view).find(".mathaxis-main-container").off("click").on("click touchstart",function(e){e.preventDefault();e.target}),$(a.default.view).find(".btn_integer_num").off("click").on("click touchstart",function(t){t.preventDefault();t.target;(0,r.selectTabDom)(!1),(0,s.getAxisExamModel)().setInteger(!1),(0,u.resetCollection)(),(0,d.initEditorCanvas)(!0),e(),(0,d.updateNewValue)()}),$(a.default.view).find(".btn_natural_num").off("click").on("click touchstart",function(t){t.preventDefault();t.target;(0,r.selectTabDom)(!0),(0,s.getAxisExamModel)().setInteger(!0),(0,d.initEditorCanvas)(!0),e(),(0,d.updateNewValue)()}),$(a.default.view).find(".btn_exchange").off("click").on("click touchstart",function(t){t.preventDefault();t.target;(0,s.getAxisExamModel)().updateValueArray(),e(),(0,d.updateNewValue)()}),$(a.default.view).find(".btn_pre_step").off("click").on("click touchstart",function(t){t.preventDefault(),$(a.default.view).find(".btn_integer_num").addClass("on"),$(a.default.view).find(".btn_natural_num").removeClass("on"),(0,s.setAxisExamModle)(null),(0,r.clearBuildDiv)(),(0,u.resetCollection)(),(0,r.hideMainContainer)(),(0,r.showSelectTypeContainer)(),e(),a.default.scope.$apply(function(e){e.model.title!=a.default.i18n.mathaxis_question1&&e.model.title!=a.default.i18n.mathaxis_question2&&e.model.title!=a.default.i18n.mathaxis_question3&&e.model.title!=a.default.i18n.mathaxis_question4||(e.model.title="")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.bindButtonEvent=n;var o=i(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=(i(4),i(7)),s=i(6),l=i(10),u=i(28),d=i(34),c=i(11),f=void 0},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(e){var i=e.examType,n=null;return i==a.EXAM_TYPE.Coord_Point_Note?(n=new s.default,t||n.create(e.valueArray)):i==a.EXAM_TYPE.Coord_Point_Number?(n=new u.default,t||n.create(e.valueArray)):i==a.EXAM_TYPE.Calculate_Note?(n=new c.default,t||n.create(e.valueArray,e.symbolArray)):i==a.EXAM_TYPE.Calculate_Number&&(n=new v.default,t||n.create(e.valueArray,e.symbolArray)),n.setIntegerNotUpdate(e.isInteger),n}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseModel=o;var a=i(4),r=i(40),s=n(r),l=i(47),u=n(l),d=i(48),c=n(d),f=i(54),v=n(f)},function(e,t,i){"use strict";function n(e){a.isApp&&window.Bridge&&window.Bridge.unRegisterListener&&(e?window.Bridge.unRegisterListener(e,r[e]):($.each(r,function(e,t){window.Bridge.unRegisterListener(e,r[e])}),t.callbacks=r={}))}function o(e,t){a.isApp&&window.Bridge&&window.Bridge.registerListener&&(r[e]=window.Bridge.registerListener(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.unbindNativeListener=n,t.registerNativeListener=o;var a=i(6),r={};t.callbacks=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){_.default.i18nArr||(_.default.i18nArr={answer_correct:"太棒啦, 您答对了!",answer_error:"这道题没有做对, 下次加油哦!",next_come_on:"答题结束，下次加油哦！",time_over:"时间到了，练习结束！",button_submit:"提交",options:"选项",people:"人"}),_.default.submitAnser=!1,_.default.setUrlParams=function(e){}}function a(){return{answer_correct:"太棒啦, 您答对了!",answer_error:"这道题没有做对, 下次加油哦!",next_come_on:"答题结束，下次加油哦！",time_over:"时间到了，练习结束！",button_submit:"提交",options:"选项",people:"人"}}function r(e){!e||e.length}function s(){}function l(){var e,t;(0,B.getAxisExamModel)()&&(e=(0,B.getAxisExamModel)().getCorrectRes(),t=(0,B.getAxisExamModel)().getUserRes());var i={status:"complete",correct_response:e,user_response:t};return{answer:JSON.stringify(i),questionId:_.default.model.question_id}}function u(){new CommitBtn($(_.default.view).find("div.com_lay_toptool"),"time_id",function(){y()})}function d(e){var t=$(_.default.view).find(".mask");0==t.size()&&e?($(_.default.view).find(".number_lines_content").after('<div class="mask"></div>'),$(_.default.view).find(".mask").css({position:"absolute",top:0,left:0,width:"100%",height:"100%","background-color":"#313131",opacity:"0.1","z-index":2})):e?t.show():t.hide()}function c(e){if("student"==e)"doing"==_.default.submitStatus||"do"==_.default.submitStatus?a.next_come_on:a.time_over;else if("teacher"==e){var t={};t.is_right?a.answer_correct:a.answer_error}}function f(e){var t=$(_.default.view).find(".pop_result");t.find(".text").html(e),t.show(),setTimeout(function(){t.find(".text").html(""),t.hide()},2e3)}function v(){}function p(){var e=[],t=(0,B.getAxisExamModel)(),i=JSON.parse(JSON.stringify(t)),n={options:e,examModel:i};console.log(n),_.default.submitAnser=n}function h(){if(_.default.submitAnser){var e=_.default.submitAnser.examModel,t=e.examType,i=null;t==T.EXAM_TYPE.Coord_Point_Note?(i=new P.default,i.create(e.valueArray)):t==T.EXAM_TYPE.Coord_Point_Number?(i=new A.default,i.create(e.valueArray)):t==T.EXAM_TYPE.Calculate_Note?(i=new C.default,i.create(e.valueArray,e.symbolArray),e.userSymbolArray[0]>0?(0,V.updateCaclResultText)(e,e.userResValue[0]+e.userResValue[1]):(0,V.updateCaclResultText)(e,e.userResValue[0]-e.userResValue[1])):t==T.EXAM_TYPE.Calculate_Number&&(i=new O.default,i.create(e.valueArray,e.symbolArray))}}function m(e){var t=e.type;!!e.value&&e.value&&"result"==t&&function(){var e=$(_.default.view).find(".student_result");(0,B.getAxisExamModel)().getCorrectRes()===(0,B.getAxisExamModel)().getUserRes()?e.text("太棒啦, 您答对了!"):e.text("很遗憾,回答错误!"),e.css("display","block"),setTimeout(function(){e.css("display","none"),e.text("")},3e3),_.default.submitStatus="result"}()}function b(e){h()}function x(e){_.default.isStudentMobile?((0,N.default)("finish"),_.default.submitStatus="finished",_.default.submitTime=e,(0,H.destoryTimer)(),g()):(_.default.isWeb||_.default.isPPTShell)&&(f("很遗憾,时间结束!"),y(),d(!0),g(),(0,H.destoryTimer)())}function y(){var e=(0,B.getAxisExamModel)().getCorrectRes()===(0,B.getAxisExamModel)().getUserRes();g();var t=$(_.default.view).find(".student_result");e?t.text("太棒啦, 您答对了!"):t.text("很遗憾,回答错误!"),t.show(),setTimeout(function(){t.hide(),t.text("")},3e3)}function g(){$(_.default.view).find(".input-number-value").find(".on").removeClass("on"),$(_.default.view).find("input").blur(),_.default.eventBus.sendEvent("AnswerSubmitter",{source:_.default.model.ID,action:"finish"});(0,B.getAxisExamModel)().getCorrectRes(),(0,B.getAxisExamModel)().getUserRes()}Object.defineProperty(t,"__esModule",{value:!0}),t.initSubmit=o,t.getI18n=a,t.getAnswerContent=r,t.getWrongPopup=s,t.getResult=l,t.showWebSubmit=u,t.showMask=d,t.showAlert=c,t.showPreViewPop=f,t.showSimulateResult=v,t.recordSubmitAnswer=p,t.recoverSubmitAnswer=h,t.examCallBack=m,t.showResult=b,t.callSubmiterdo=x,t.stopAnswer=g;var E=i(1),_=n(E),T=i(4),w=i(40),P=n(w),S=i(47),A=n(S),M=i(48),C=n(M),R=i(54),O=n(R),V=i(42),B=i(6),j=i(74),N=n(j),H=i(75)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=null;t.default=function(e){if(!o.default.isStudentMobile)return!1;if((e=e||"submit")!=a){a=e;var t=window.setInterval(function(){null!=(player.getPlayerServices().getToolbarModule("AnswerSubmitter")||player.getPlayerServices().getModule("AnswerSubmitter"))&&(window.clearInterval(t),o.default.eventBus.sendEvent("AnswerSubmitter",{source:o.default.model.ID,action:e}))})}},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){if(x.default.isSyncTime=!1,x.default.submitTime=0,x.default.model.question_url){var e=x.default.model.question_url.timer,i="sequence"==e.timer_type,n=60*parseInt(e.time_minute)+parseInt(e.time_second);if(x.default.isApp||x.default.isTeacherPc||x.default.isPPTShell||(S&&S.disable&&(S.disable(),S.onDestory(),$(x.default.view).find("#submit").remove()),S=new CommitBtn($(x.default.view).find("div.com_lay_toptool"),"submit",d)),(!x.default.isApp||x.default.isStudentMobile)&&!x.default.isTeacherPc&&!x.default.isPPTShell)if(t.timerPPTShell=P=new Timer($(x.default.view).find("div.com_u_timebox"),{sequence:i,seconds:parseInt(n)}),i||P.onStop(function(e){(0,T.callSubmiterdo)(e)}),x.default.isStudentMobile){var o={item:"exam",type:"query"};(0,_.sendEventToDispatcher)(o)}else P.start();(x.default.isPPTShell||x.default.isTeacherPc)&&($(x.default.view).find(".com_layout").addClass("layout_whiteboard"),A=new PPTShellBtn($(x.default.view).find(".com_lay_header"),{timerType:e.timer_type,timeLimit:parseInt(n)||0,timeoutCallback:function(){$(x.default.view).find(".operation_tipbox").hide(),GameMessageBox.showPop($(x.default.view),{mode:"wood",type:"error",text:"时间到了"}),s(),A.toggleView()},clickCallback:function(e){"redo"===e?(l(),A.toggleView()):GameMessageBox.showPop($(x.default.view),{mode:"wood",type:"confirm",buttons:[{text:"确认",handle:function(){var e="error";d()&&(e="right"),GameMessageBox.showPop($(x.default.view),{mode:"wood",type:e}),s(),A.stopTimer(),A.toggleView()}}]})}}))}}function a(){$(x.default.view).find(".pptshell_mask").addClass("show")}function r(){$(x.default.view).find(".pptshell_mask").removeClass("show")}function s(){a()}function l(){r(),(0,E.getAxisExamModel)().removeAnswer()}function u(){l(),A&&0==A.container.find(".min").length&&A.toggleView()}function d(){(0,w.inputButtonBlur)();var e=(0,E.getAxisExamModel)().getCorrectRes()==(0,E.getAxisExamModel)().getUserRes();if(x.default.isTeacherPc||x.default.isPPTShell)return e;e?GameMessageBox.show($(x.default.view),"作答正确！",3e3):GameMessageBox.show($(x.default.view),"作答错误",3e3)}function c(){P.start()}function f(e){e=parseInt(e);var t=(new Date).valueOf();P.sync(t-1e3*e)}function v(){if(x.default.isWeb||x.default.isStudentMobile){var e={eventName:"ExamInfo",eventData:{item:"time"}};(0,g.default)("sendEvent",e)}}function p(){registerNativeListener("ExamCallback",examCallBack),registerNativeListener("ExamInfoCallback",h)}function h(e){var t=e.item||"",i=e.value||{};if(1==x.default.isSyncTime)return!1;if("time"==t){var n=i.data?parseInt(i.data.elapsedTime):0;"finished"==x.default.submitStatus||"result"==x.default.submitStatus?(x.default.isSyncTime=!0,x.default.submitTime<=0&&f(n),m()):(c(n),x.default.isSyncTime=!0)}}function m(){P&&P.onDestory()}Object.defineProperty(t,"__esModule",{value:!0}),t.initTimer=o,t.setButtonSub=l,t.resetSubmitBtn=u,t.startTimer=c,t.lastTimer=f,t.syncTime=v,t.registerTimer=p,t.timeListem=h,t.destoryTimer=m;var b=i(1),x=n(b),y=i(76),g=n(y),E=i(6),_=i(77),T=i(73),w=i(42),P=void 0;t.timerPPTShell=P;var S=null,A=null},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4);t.default=function(e,t){return!!(isApp&&window.Bridge&&window.Bridge.callNative)&&window.Bridge.callNative(n.callNativePath,e,t)},e.exports=t.default},function(e,t,i){"use strict";function n(e){if(!a.default.isStudentMobile)return!1;var t=window.setInterval(function(){null!=(player.getPlayerServices().getToolbarModule("classroomStudentDispatcher")||player.getPlayerServices().getModule("classroomStudentDispatcher"))&&(window.clearInterval(t),a.default.eventBus.sendEvent("TaskInfo",e))})}Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventToDispatcher=n;var o=i(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e,t){if(console.log("set state:"),t&&t.isClassroomExam){var i=null;try{i=JSON.parse(e)}catch(e){console.log("state data error")}if(i){o.default.submitAnser=i.exam,o.default.buttonState=i.buttonState,o.default.buttonValue=i.buttonValue;var n=i.modifyTime;n===i.getResultTime&&n&&(o.default.buttonState="success"),o.default.eventBus.sendEvent("AnswerSubmitterRecoverState",{source:i.module_id,state:o.default.buttonState,valuyingge:o.default.buttonValue})}}},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),a=n(o),r=i(80),s=n(r),l=i(6);t.default=function(){console.log("get state:");var e=((new Date).valueOf(),(0,s.default)()),t=e,i=(0,l.getAxisExamModel)();if(i&&("11"==i.examType||"12"==i.examType||"22"==i.examType)){var n=$(a.default.view).find(".number_list_box.on");if(n.length>0){var o=n.attr("class");i.activeClassIndex=o.match(/\d/)[0]}}var r={module_id:a.default.model.ID,modifyTime:e,getResultTime:t,exam:i,buttonState:a.default.buttonState?a.default.buttonState:"init",buttonValue:a.default.buttonValue?a.default.buttonValue:""};return JSON.stringify(r)},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e;return window.ClassroomUtils&&"undefined"!=typeof ClassroomUtils&&ClassroomUtils.getMasterSystemTime?(e=ClassroomUtils.getMasterSystemTime(),e=0==e?(new Date).getTime():1e3*e):e=(new Date).valueOf(),e},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){o.default.path=e},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=i(6);t.default=function(){(0,a.moduleClose)(),o.default.callbacks={}},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(){var e="",t="";if(void 0!==o.default.model)try{e=o.default.model.question_id,t=JSON.stringify(o.default.model.question_url)}catch(e){}return{id:e,dispatchOnly:!0,type_code:"nd_mathaxis",type_name:"数轴题",url:t}},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){o.default.controller=e,o.default.eventBus=e.getEventBus(),o.default.eventBus.addEventListener("SyncCallback",o.default),o.default.eventBus.addEventListener("PageLoaded",o.default),o.default.eventBus.addEventListener("AnswerSubmitterEvent",o.default),o.default.eventBus.addEventListener("ExamCallback",o.default),o.default.eventBus.addEventListener("Exam",o.default),o.default.eventBus.addEventListener("TaskInfoCallback",o.default),o.default.eventBus.addEventListener("resetPresentersStyle",o.default),window.statisticWrap__&&statisticWrap__._setController&&statisticWrap__._setController(e)},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e<0)return 0;var t=r.default.model.question_url.timer,i="sequence"===t.timer_type,n=Math.floor(e/1e3);if(i)return n;var o=60*t.time_minute+t.time_second;return o-n<0?0:o-n}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),r=n(a),s=i(73),l=i(75),u=i(80),d=n(u);t.default=function(e,t){switch(e){case"SyncCallback":c(t);break;case"PageLoaded":break;case"AnswerSubmitterEvent":t.source==r.default.model.ID&&(r.default.buttonState=t.event,r.default.buttonValue=t.value,"finished"==t.event&&(l.timerPPTShell&&l.timerPPTShell.stop&&l.timerPPTShell.stop(),(0,s.stopAnswer)()),r.default.saveState());break;case"ExamCallback":"result"==t.type&&"classroomStudentDispatcher"==t.source&&t.value&&t.value.isRecover&&(r.default.isStudentMobile&&(0,s.examCallBack)(t),r.default.submitStatus="result");break;case"TaskInfoCallback":if("exam"==t.item&&"query"==t.type){var i=(0,d.default)(),n=0;if(t.value&&(t.value.startTimestamp&&(i=t.value.startTimestamp),t.value.stopTimestamp&&(n=t.value.stopTimestamp)),l.timerPPTShell&&(l.timerPPTShell.stop(),l.timerPPTShell.reset(),l.timerPPTShell.sync(i),l.timerPPTShell.start()),n&&l.timerPPTShell){l.timerPPTShell.stop();var a=o(n-i);l.timerPPTShell.setTime(a)}}break;case"resetPresentersStyle":console.log("reset presenter style");break;default:r.default.buttonState="init",r.default.buttonValue=""}};var c=function(e){var t=e.type,i=e.value,n=$(r.default.view).find(".js-stop-sync-button");switch(t){case"request":r.default.syncId=i.syncId,i.result?n.show():window.ClassroomUtils.showTipMessageBox("同步题目失败");break;case"cancel":i.result?n.hide():window.ClassroomUtils.showMessageBox([{html:"关闭"},{html:"重试",target:"h5",callback:{eventName:"MathAxis",eventData:{source:r.default.model.ID,item:"retry"}}}],"结束任务失败！")}};e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){if(!o.default.isStudentMobile)return!1;e=e||"undo";var t=window.setInterval(function(){null!=(player.getPlayerServices().getToolbarModule("AnswerSubmitter")||player.getPlayerServices().getModule("AnswerSubmitter"))&&(window.clearInterval(t),o.default.eventBus.sendEvent("AnswerSubmitterRecoverState",{source:o.default.model.ID,action:e}))})},e.exports=t.default},function(e,t,i){"use strict";function n(e){switch(e){case"homework":a.default.isHomeWork=!0;break;case"pptshell":a.default.isPPTShell=!0;break;default:a.default.isHomeWork=!1}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(e){e.sys&&n(e.sys)},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n),a=i(6),r=i(9),s=i(75),l=i(42),u={toggleInteraction:function(e){e?((0,r.setDisableEvent)(!0),$("."+l.INPUT_NUMBER_CLS).attr("disabled","disabled")):((0,r.setDisableEvent)(!1),$("."+l.INPUT_NUMBER_CLS).removeAttr("disabled"))},showAnswer:function(){(0,a.getAxisExamModel)().showAnswer()},resetQuestion:function(){(0,s.resetSubmitBtn)()},getPresenterView:function(){return o.default.view}};t.default=function(){return u},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){console.log("save state:"),o.default.controller&&o.default.controller.getState().savePageState()},e.exports=t.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){o.default.i18n=e},e.exports=t.default}]);