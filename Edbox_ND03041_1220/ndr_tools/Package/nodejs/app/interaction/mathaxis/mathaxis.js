define("mathaxis/directive/mathaxis-div",["angularAMD"],function(angularAMD){angularAMD.directive("mathaxisDiv",["$filter",function($filter){return{restrict:"E",templateUrl:"interaction/mathaxis/directive/mathaxis-div.html",link:function(scope,element){var addon=AddonMathAxis();addon.setLocationProperties({mathaxis_question1:$filter("translate")("mathaxis.question1"),mathaxis_question2:$filter("translate")("mathaxis.question2"),mathaxis_question3:$filter("translate")("mathaxis.question3"),mathaxis_question4:$filter("translate")("mathaxis.question4")}),addon.run($(".com_lay_mboard"),scope.model,!1,scope)}}}])}),define("mathaxis/directive/mathaxis.directive",["components/site-directive/assets-select/assets-select","components/site-directive/error-tip/error-tip","components/site-directive/edit-box/new-edit-box","components/site-directive/foot-tool/time-box/new-time-box","components/site-directive/foot-tool/foot-tool","threejs","threejs_projector","threejs_canvasrender","threex_dynamictexture","addon-mathaxis","mathaxis/directive/mathaxis-div"],function(){}),define(["app","mathaxis/directive/mathaxis.directive"],function(app){"use strict";app.controller("mathaxis_ctrl",["$scope","skin_service","$stateParams","CustomEditorService","$rootScope","$filter",function($scope,skin_service,$stateParams,CustomEditorService,$rootScope,$filter){$rootScope.moduleScope=$scope,$scope.errorModel={},$scope.model={id:"",module_code:"nd_mathaxis",title:"",skin:{code:"wood",css_url:"",name:$filter("translate")("app.skin.wood"),package_url:""},timer:{timer_type:"sequence",time_minute:"0",time_second:"0"},properties:[{name:"question_id",display_name:"题目ID",type:"string",value:"",is_localized:!1},{name:"question_url",display_name:"题目内容",type:"jsonFile",value:"",is_localized:!1}],content:{}};var loadingData=function(id){$scope.isloadingData=!0,CustomEditorService.getQuestionInfoById(id).then(function(rtnData){if(rtnData){""!=rtnData.skin.code?$scope.model=$scope.decodeData(rtnData,!0):$scope.model.id=rtnData.id;try{$scope.$on("$viewContentLoaded",function(){console.log("I'm viewContentLoaded")}),console.log("I'm  addon.moduleStartLoadData");var addon=AddonMathAxis();console.log($scope.model.content.examModel),addon.setAxisExamModle($scope.model.content.examModel),addon.moduleStartLoadData($scope)}catch(e){console.log("loadData fail")}skin_service.set_skin_by_code($scope.model.skin.code,"v1"),$scope.errorModel.errorText="",$scope.isloadingData=!1}else $scope.errorModel.errorText=$filter("translate")("app.unvalidno")},function(error){$scope.errorModel.errorText=$filter("translate")("app.question.get.error")})};$stateParams.id?loadingData($stateParams.id):skin_service.set_skin_by_code($scope.model.skin.code,"v1"),$scope.$on("changgedSkin",function(){$rootScope.scaleHtml()}),$scope.validPostData=function(){var addon=AddonMathAxis();return!!addon.getAxisExamModel()||($scope.errorModel.errorText=$filter("translate")("mathxaix.error.tips"),!1)},$scope.encodeData=function(model){var addon=AddonMathAxis();return model.content.examModel=addon.getAxisExamModel(),model},$scope.decodeData=function(model,isInitLoad){return model}}])});