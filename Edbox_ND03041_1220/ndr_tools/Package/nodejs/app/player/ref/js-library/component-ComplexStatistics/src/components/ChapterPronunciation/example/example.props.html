<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="http://www.w3school.com.cn/jquery/jquery-1.11.1.min.js"></script>
    <script src="../../../node_modules/vue/dist/vue.min.js"></script>
    <script src="../../../node_modules/vuex/dist/vuex.min.js"></script>
    <script src="../../../node_modules/vue-class-component/dist/vue-class-component.min.js"></script>
    <script src="./dist/components.js"></script>
    <script src="../../../../dist/components.js"></script>
    <link rel="stylesheet" type="text/css" href="common.css" />
    <link rel="stylesheet" type="text/css" href="cssbotbtn.css" />
    <script src="layout.js"></script>
</head>

<body>
    <div class="stat_wood">
        <!-- 下拉时加 pull_down -->
        <div class="com_layout" id="layout">
            <div class="com_wrapper" id="wrapper">
                <!--框架顶部-->
                <!--头部-->
                <div class="com_layout_header">
                    <!--计时器-->
                    <div class="com_time">
                        <!--当多语言时，要去掉分和秒文字时，请在.com_time上增加类名.time_lang-->
                        <!-- 答题时间：<span class="time_m"><em>05</em>分</span> -->
                        <!-- <span class="time_s"><em>21</em>秒</span> -->
                        <div class="time_default ">
                            <b class="time_text">答题时间：</b><span class="time_m"><em>05</em></span>
                            <b class="time_text">分</b>
                            <i>:</i>
                            <span class="time_s"><em>21</em></span>
                            <b class="time_text">秒</b>
                        </div>
                    </div>
                    <!--/计时器-->
                    <!--人数统计-->
                    <!-- <div class="upload">提交人数：<span class="num"><em class="now">35</em>/50</span></div> -->
                    <div class="upload"><b class="upload_text">提交人数：</b><span class="num _num">0</span>/<span class="_count">1</span></div>
                    <!--/人数统计-->
                </div>
                <!--/头部-->
                <!--/框架顶部-->

                <!--用户统计详情-->
                <user-detail-stat></user-detail-stat>
                <!--用户统计详情-->

                <!--主体内容-->
                <div class="com_layout_container">

                    <!--没有学生答题-->

                    <chapter-pronunciation :result="result"></chapter-pronunciation>

                    <!--/没有学生答题-->
                </div>
                <!--/主体内容-->
            </div>

        </div>
    </div>







    <script>
        var result = [];

        function deepCopy(source) {
            var obj = {};
            for (var key in source) {
                obj[key] = typeof source[key] === 'object' ? deepCopy(source[key]) : source[key];
            }
            return obj;
        }
        for (var i = 0; i < 60; i++) {
            var _userData = {
                "questionId": "UUID",
                "time": 321,
                "user": {
                    "name": '董',
                    "img": ''
                },
                "answerState": "COMPLETE",
                "answer": {
                    "user_response": [{                             /*用户作答结果*/
                        "sectionId": "UUID",                        /*篇章ID*/
                        "myRecordAuio": "",                        /*我的录音音频UR*/
                        "content": "black",//内容
                        "type": "sections",                        /*题目类型word(单词), sentence(句子), sections(篇章)*/
                        "evaluationResult": {
                            "overall": 'B',                           /*篇章得分*/
                            "accuracy": 'D',                             /*准确度*/
                            "integrity": 'B',                                /*完整度*/
                            "fluency": 'A',                                   /*流畅度*/
                            "scores": [{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'B'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'C'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'D'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'B'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'B'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'B'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'B'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'B'
                            },{
                                "text": "It was Sunday.",                        /*单词*/
                                "score": 'A'                             /*单词得分*/
                            }, {
                                "text": "I never get up early on Sunday.",
                                "score": 'A'
                            }]
                        }
                    }]
                }
            };
            _userData.user.name = '董' + i;
            if (i % 5 === 0) {
                _userData.user.img = '';
                _userData.answerState = "COMPLETE";
                _userData.answer.user_response[0].evaluationResult.overall = 'A';
            }
            else if (i % 5 === 1) {
                _userData.user.img = '';
                _userData.answerState = "COMPLETE";
                _userData.answer.user_response[0].evaluationResult.overall = 'B';
            }
            else if (i % 5 === 2) {
                _userData.user.img = '';
                _userData.answerState = "COMPLETE";
                _userData.answer.user_response[0].evaluationResult.overall = 'C';
            }
            else if (i % 5 === 3) {
                _userData.user.img = '';
                _userData.answerState = "COMPLETE";
                _userData.answer.user_response[0].evaluationResult.overall = 'D';
            } else {
                _userData.user.img = '';
                _userData.answerState = "NO_ANSWER";
                _userData.answer.user_response[0].evaluationResult.overall = 'E';
            }
            result.push(_userData);
        }

        const chapterStore = {
            state: {
                userDetailPage: {
                    show: false,
                    userData: null
                }
            },

            getters: {
                userDetailPage(state) {
                    return state.userDetailPage;
                },
                thumbsUpUsers(state) {

                }
            },

            actions: {

            },

            mutations: {
                ['CHAPTER_CURRENT_USER_DETAIL_PAGE'](state, userDetailPage) {
                    state.userDetailPage = userDetailPage;
                },
                ['CHAPTER_THUMBS_UP'](state,users){
                    console.log('CHAPTER_THUMBS_UP',users);
                }
            }
        }


        var app = new Vue({
            el: '.com_wrapper',
            store: new Vuex.Store(chapterStore),
            components: {

                'chapter-pronunciation': window.__StatisticsComponent.ChapterPronunciation,
                'user-detail-stat': window.__StatisticsComponent.ChapterPronunciationDetail
            }
        });
        app.$on('CHAPTER_THUMBS_UP',function(users){
            console.log('CHAPTER_THUMBS_UP',users);
        });
    </script>
</body>

</html>