/*!   updated: 2017-9-14 14:54:11 */
(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=10)})([function(module,exports){module.exports=Vue},function(module,exports){module.exports=VueClassComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var MAX_WORD_NUM=81;exports.GETTER_TYPES={WORDS_RESOURCE:"GroupLiteracy"+"/GETTER/WORDS_RESOURCE",SEARCH_RESULT:"GroupLiteracy"+"/GETTER/SEARCH_RESULT",MAX_WORD_NUM:"GroupLiteracy"+"/GETTER/MAX_WORD_NUM",GET_WORDS:"GroupLiteracy"+"/GETTER/GET_WORDS",GET_DRAGGER:"GroupLiteracy"+"/GETTER/GET_DRAGGER",GET_SCENE:"GroupLiteracy"+"/GETTER/GET_SCENE"};exports.MUTATION_TYPES={WORDS_ADD_STROKE_CONTENT:"GroupLiteracy"+"/MUTATION/WORDS_ADD_STROKE_CONTENT",UPDATE_MODE:"GroupLiteracy"+"/MUTATION/UPDATE_MODE"};exports.ACTIONS_TYPES={UPDATE_MODE:"GroupLiteracy"+"/ACTIONS/UPDATE_MODE",WORD_DELETE:"GroupLiteracy"+"/ACTIONS/WORD_DELETE",SEARCH_WORD:"GroupLiteracy"+"/ACTIONS/SEARCH_WORD",CLEAR_RESULT:"GroupLiteracy"+"/ACTIONS/CLEAR_RESULT",WORD_ADD:"GroupLiteracy"+"/ACTIONS/WORD_ADD",STROKE_LOADED:"GroupLiteracy"+"/ACTIONS/STROKE_LOADED",DRAGGED:"GroupLiteracy"+"/ACTIONS/DRAGGED",EXIT_TOOL:"GroupLiteracy"+"/ACTIONS/EXIT_TOOL",UPDATE_WORDS:"GroupLiteracy"+"/ACTIONS/UPDATE_WORDS",UPDATE_EDITING:"GroupLiteracy"+"/ACTIONS/UPDATE_EDITING"};exports.StoreTypes={GetterTypes:exports.GETTER_TYPES,ActionTypes:exports.ACTIONS_TYPES,MutationTypes:exports.MUTATION_TYPES};var Store={state:{mode:1,page:{size:8,current:0},dragger:{enable:true}},getters:(_a={},_a[exports.GETTER_TYPES.GET_WORDS]=function(state,getters){var wordList=getters[exports.GETTER_TYPES.WORDS_RESOURCE].wordList.slice(0,MAX_WORD_NUM);for(var i=0,len=wordList.length;i<len;i++){wordList[i].strokeContent=wordList[i].strokeContent||{}}return wordList},_a[exports.GETTER_TYPES.MAX_WORD_NUM]=function(state){return MAX_WORD_NUM},_a),mutations:(_b={},_b[exports.MUTATION_TYPES.UPDATE_MODE]=function(state,mode){console.log("[vuex]["+exports.MUTATION_TYPES.UPDATE_MODE+"] mode="+mode);state.mode=mode},_b),actions:{}};exports.default=Store;var _a,_b},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var external_types_1=__webpack_require__(13);var languagePackage={};function translate(key){var getterType=false?"EXAMPLE/I18N":external_types_1.GETTER_TYPES.I18N;var text=this.$store.getters[getterType][arguments[0]]||"ERROR";if(arguments.length>1&&text!=="ERROR"){var params_1=[].slice.call(arguments,1);text=text.replace(/\{(\d+)\}/g,function(m,$1){return params_1[+$1]})}return text}exports.translate=translate;function setLanguagePackage(langpack){languagePackage=langpack}exports.setLanguagePackage=setLanguagePackage;exports.i18nMixin={beforeCreate:function(){(this.$options.methods||(this.$options.methods={}))["$i18n"]=translate}}},function(module,exports){module.exports=Vuex},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vue_class_component_1=__webpack_require__(1);__webpack_require__(7);var default_1=function(_super){__extends(default_1,_super);function default_1(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(default_1.prototype,"dragger",{get:function(){return{enable:this.mode===4,direction:"horizontal",revertOnSpill:true}},enumerable:true,configurable:true});default_1.prototype.deleteWord=function(payload){this.$emit("deleteword",payload)};default_1.prototype.strokeLoaded=function(payload){this.$emit("strokeloaded",payload)};default_1.prototype.dragStart=function(){console.log("dragStart")};default_1.prototype.dragEnd=function(payload){console.log("dragEnd");this.$emit("dragged",payload)};default_1.prototype.dragCloned=function(_a){var $clone=_a.$clone,$source=_a.$source;var canvas=$source.querySelector("canvas");var canvasWrap=$clone.querySelector(".com-card_canvas");if(!canvas){return}var childs=canvasWrap.childNodes;for(var i=childs.length-1;i>=0;i--){canvasWrap.removeChild(childs[i])}var image=new Image;image.src=canvas.toDataURL("image/png");canvasWrap.appendChild(image)};default_1.prototype.flip=function(payload){console.log("[WordList] component, 'flip' event emit, payload.current="+payload.current);this.$emit("flip",payload)};default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:WordList",template:__webpack_require__(12),public:true,props:{words:Array,mode:{type:Number,default:1},page:{type:Object}},components:{word:"GroupLiteracy:Word","drag-list":"Common:DragList"}})],default_1);return default_1}(Vue);exports.default=default_1},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vue_class_component_1=__webpack_require__(1);var i18n_1=__webpack_require__(3);var default_1=function(_super){__extends(default_1,_super);function default_1(){return _super!==null&&_super.apply(this,arguments)||this}default_1.prototype.modeSwitch=function(mode){if(this.mode==mode){return}this.$emit("mode_switched",mode)};default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:ModeSwitch",template:__webpack_require__(15),public:true,props:{mode:{type:Number,default:1}},mixins:[i18n_1.i18nMixin]})],default_1);return default_1}(Vue);exports.default=default_1},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vue_class_component_1=__webpack_require__(1);var default_1=function(_super){__extends(default_1,_super);function default_1(){return _super!==null&&_super.apply(this,arguments)||this}Object.defineProperty(default_1.prototype,"loading",{get:function(){return!this.hasStrokeContent()},enumerable:true,configurable:true});Object.defineProperty(default_1.prototype,"wordSign",{get:function(){return this.word.word+"-"+this.word.spell.title},enumerable:true,configurable:true});Object.defineProperty(default_1.prototype,"spellSzl",{get:function(){return this.word.spell.title.slice(this.word.spell.spellSyl?this.word.spell.spellSyl.length:0,this.word.spell.title.length)},enumerable:true,configurable:true});Object.defineProperty(default_1.prototype,"groupWords",{get:function(){if(!this.word.stone||this.word.stone.length<=0){return""}var groupWords=this.word.stone[0];var words=groupWords.split("");var wordsWithHtml=[];for(var i=0,len=words.length;i<len;i++){if(words[i]===this.word.word){wordsWithHtml.push('<em class="str">'+words[i]+"</em>")}else{wordsWithHtml.push(words[i])}}return wordsWithHtml.join("")},enumerable:true,configurable:true});default_1.prototype.created=function(){var _this=this;this.$watch("wordSign",function(){_this.start()});this.$watch("word.strokeContent",function(){_this.hasStrokeContent()&&_this.$nextTick(function(){return _this.renderWord()})});this.start()};default_1.prototype.start=function(){var _this=this;if(this.hasStrokeContent()){this.$nextTick(function(){return _this.renderWord()})}else{this.loadStroke()}};default_1.prototype.hasStrokeContent=function(){return!!this.word.strokeContent&&!!this.word.strokeContent.char};default_1.prototype.renderWord=function(){this.wordTracing&&delete this.wordTracing;this.wordTracing=new ChineseWordTracing({mode:"display",word:JSON.parse(JSON.stringify(this.word.strokeContent)),renderTo:this.$el.querySelector(".com-card_canvas")});this.wordTracing.showRadical()};default_1.prototype.deleteWord=function(index){this.$emit("deleteword",{index:index})};default_1.prototype.loadStroke=function(){var _this=this;if(!this.hasStrokeContent()){$.ajax({url:this.word.stroke}).then(function(strokeContent){_this.afterStrokeLoaded(_this.word.stroke,JSON.parse(strokeContent||"{}"))})}};default_1.prototype.afterStrokeLoaded=function(stroke,strokeContent){this.$emit("strokeloaded",{stroke:stroke,strokeContent:strokeContent})};default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:Word",template:__webpack_require__(11),public:true,props:{word:Object,index:Number,mode:{type:Number,default:1}}})],default_1);return default_1}(Vue);exports.default=default_1},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vue_class_component_1=__webpack_require__(1);var i18n_1=__webpack_require__(3);var default_1=function(_super){__extends(default_1,_super);function default_1(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.searching=false;_this.step="search";_this.wordKey="";_this.message="";_this.wordIndex=0;return _this}Object.defineProperty(default_1.prototype,"modalOptions",{get:function(){return{shown:this.shown,masked:true,closeButton:"right",canIgnore:false}},enumerable:true,configurable:true});default_1.prototype.created=function(){this.$watch("result",this.onResultChange,{deep:true})};default_1.prototype.modalClose=function(){console.log("[WordAdd component] 'close' event emit");this.$emit("close");this.reset()};default_1.prototype.search=function(){if(this.searching||this.wordKey=="")return;this.message="";this.wordKey=this.trim(this.wordKey);if(!this.validate(this.wordKey)){return this.showAlert(this.$i18n("tip_entry_word_error"))}this.searching=true;console.log("[WordAdd component] 'search' event emit, payload.wordKey="+this.wordKey);this.$emit("search",{wordKey:this.wordKey})};default_1.prototype.validate=function(key){return/^[\u4e00-\u9fa5]{1}$/.test(key)};default_1.prototype.trim=function(key){return key.replace(/(^\s*)|(\s*$)/g,"")};default_1.prototype.focus=function(){if(this.message!==""){this.wordKey="";this.message=""}};default_1.prototype.reset=function(){this.step="search";this.wordKey="";this.message="";this.wordIndex=0};default_1.prototype.wordChoose=function(index){this.wordIndex=index};default_1.prototype.wordChooseOK=function(){this.step="show"};default_1.prototype.wordSave=function(){console.log("[WordAdd component] 'wordsave' event emit, payload.word="+this.result.data[this.wordIndex?this.wordIndex:0]);this.$emit("wordsave",{word:this.result.data[this.wordIndex?this.wordIndex:0]});this.reset()};default_1.prototype.onResultChange=function(){this.searching=false;if("success"===this.result.status){if(this.result.data.length>1){this.step="choose"}else if(this.result.data.length==1){this.step="show"}else{this.showAlert(this.$i18n("tip_word_none"))}}else if("success-duplicate"==this.result.status){this.showAlert(this.$i18n("tip_word_duplicated"))}else if("fail"===this.result.status){this.showAlert(this.$i18n("tip_search_error"))}};default_1.prototype.showAlert=function(message){this.message=message};default_1.prototype.alertOK=function(){this.reset()};default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:WordAdd",template:__webpack_require__(14),public:true,props:{shown:{type:Boolean,default:false},result:{type:Object,default:function(){return{status:"",data:[]}}}},components:{modal:"Common:Modal"},mixins:[i18n_1.i18nMixin]})],default_1);return default_1}(Vue);exports.default=default_1},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(7);__webpack_require__(5);__webpack_require__(8);__webpack_require__(6);__webpack_require__(16);__webpack_require__(18);__webpack_require__(20)},function(module,exports){module.exports='<div class=com-card><span class=card_del href=javascript:; v-show="mode === 4" @click=deleteWord(index)></span><div class=com-card_top v-show="mode === 1 || mode === 4"><span class=word>{{ word.spell.spellSyl }}<em class=str>{{ spellSzl }}</em></span></div><div class=com-card_mid v-show="mode !== 3"><span v-if=loading class=loading></span><div v-else class=com-card_canvas></div></div><div class=com-card_mid v-show="mode === 3"><span class=words_text v-html=groupWords></span></div></div>'},function(module,exports){module.exports="<div><drag-list class=CollectLiteracy-card :class=\"{'ndui-list--limit card_list--words': mode === 3, 'ndui-list-box': mode !== 3}\" :data=words :page=page :dragger=dragger @dragstart=dragStart @dragend=dragEnd @dragcloned=dragCloned @flip=flip><template scope=props><word :word=props.data :mode=mode :index=props.index @deleteword=deleteWord @strokeloaded=strokeLoaded></word></template></drag-list></div>"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.GETTER_TYPES={I18N:"GROUPLITERACY/I18N"}},function(module,exports){module.exports="<modal :options=modalOptions @close=modalClose class=CollectLiteracy_pop :class=\"{CollectLiteracy_pop_add: step != 'alert' && step !='show' , CollectLiteracy_pop_tip: step == 'alert'}\"><template v-if=\"step == 'search'\"><div class=pop_top></div><div class=pop_mid><p class=add_text>{{ message }}</p><textarea class=add_txta :placeholder=\"$i18n('tip_word_input')\" @focus=focus v-model=wordKey></textarea></div><div class=ndui-pop-bottom><a href=javascript:; class=bot_btn :class=\"{disabled: searching }\" @click.stop=search><em class=word>{{ $i18n('search') }}</em></a></div></template><template v-if=\"step == 'choose'\"><div class=pop_top></div><div class=pop_mid><p class=mid-pingying_tip><span class=word>{{ $i18n('tip_word_polyphone', wordKey) }}</span></p><div class=mid-pingying_words><span class=pingying_word v-for=\"(word, index) in result.data\" :class=\"{on: wordIndex == index}\" @click.stop=wordChoose(index)><span class=word>{{ word.spell.title }}</span></span></div></div><div class=ndui-pop-bottom><a href=javascript:; class=bot_btn @click.stop=wordChooseOK><em class=word>{{ $i18n('ok') }}</em></a></div></template><template v-if=\"step == 'show'\"><div class=pop_top></div><div class=\"pop_mid pop_mid_done\"><div class=mid_add_card><div class=card_top><span class=word>{{ result.data[wordIndex].spell.title }}</span></div><div class=card_mid><span class=words_text>{{ result.data[wordIndex].word }}</span></div><div class=card_bot><span class=word v-if=\"result.data[wordIndex].stone.length >= 1\">{{ $i18n('groupword') }}：<template v-for=\"(item, index) in result.data[wordIndex].stone\">{{ item }}<template v-if=\"index != result.data[wordIndex].stone.length - 1\">，</template></template></span></div></div></div><div class=ndui-pop-bottom><a href=javascript:; class=bot_btn @click.stop=wordSave><em class=word>{{ $i18n('save') }}</em></a></div></template><template v-if=\"step == 'alert'\"><div class=pop_top><p class=tit>{{ $i18n('tip') }}</p></div><div class=pop_mid><div class=mid_tip><div class=tip_wrap><p class=text>{{ message }}</p></div></div></div><div class=ndui-pop-bottom><a href=javascript:; class=bot_btn @click.stop=alertOK><em class=word>{{ $i18n('ok') }}</em></a></div></template></modal>"},function(module,exports){module.exports="<ul class=CollectLiteracy_menu_list><li class=CollectLiteracy_menu_sept :class=\"{cur: mode == 1}\"><a href=javascript:; class=CollectLiteracy_menu_item @click.stop=modeSwitch(1)><span class=word>{{ $i18n('mode_pinyin_word') }}</span></a></li><li class=CollectLiteracy_menu_sept :class=\"{cur: mode == 2}\"><a href=javascript:; class=CollectLiteracy_menu_item @click.stop=modeSwitch(2)><span class=word>{{ $i18n('mode_word') }}</span></a></li><li class=CollectLiteracy_menu_sept :class=\"{cur: mode == 3}\"><a href=javascript:; class=CollectLiteracy_menu_item @click.stop=modeSwitch(3)><span class=word>{{ $i18n('mode_groupword') }}</span></a></li></ul>"},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vuex_1=__webpack_require__(4);var vue_class_component_1=__webpack_require__(1);var WordList_1=__webpack_require__(5);var ModeSwitch_1=__webpack_require__(6);var WordAdd_1=__webpack_require__(8);var business_1=__webpack_require__(2);var business_2=__webpack_require__(2);var i18n_1=__webpack_require__(3);var default_1=function(_super){__extends(default_1,_super);function default_1(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.mode=1;_this.page={size:8,current:0};_this.pop={addWord:{shown:false},delWord:{shown:false,word:null},tip:{shown:false,message:""},toast:{shown:false,message:"",timeId:-1}};_this.adjust=false;_this.tempData={};return _this}default_1.prototype.beforeCreate=function(){if(this.$store){if(!this.$store.state["GroupLiteracy"+"_business"]){this.$store.registerModule("GroupLiteracy"+"_business",business_1.default)}}};default_1.prototype.created=function(){this.$root.$on("subjectToolSave",function(){if(this.adjust){this.pop.tip.message=this.$i18n("tip_adjust_save");this.pop.tip.shown=true}}.bind(this));this.$root.$on("subjectToolSaveResponse",function(msg){clearTimeout(this.pop.toast.timeId);if(msg==="success"){this.pop.toast.message=this.$i18n("tip_save_success");this.pop.toast.shown=true}else{this.pop.toast.message=this.$i18n("tip_save_fail");this.pop.toast.shown=true}this.pop.toast.timeId=setTimeout(function(){this.pop.toast.shown=false}.bind(this),3e3)}.bind(this))};default_1.prototype.deleteWord=function(payload){this.pop.delWord.shown=true;this.pop.delWord.word=payload.index};default_1.prototype.confirmDeleteWord=function(event){if(event.name==="confirm"){var cur=this.page.current;if(this.page.current===Math.trunc(this.words.length/this.page.size)&&this.words.length%this.page.size===1){this.tempData.current=this.page.current;cur=this.page.current-1<0?0:this.page.current-1}console.log("[vuex]["+business_2.ACTIONS_TYPES.WORD_DELETE+"] word.index="+(this.page.size*this.page.current+this.pop.delWord.word));this.$store.dispatch(business_2.ACTIONS_TYPES.WORD_DELETE,{index:this.page.size*this.page.current+this.pop.delWord.word});this.pop.delWord.shown=false;this.page.current=cur}else{this.pop.delWord.shown=false}};default_1.prototype.closeDeleteWin=function(){this.pop.delWord.shown=false};default_1.prototype.strokeLoaded=function(payload){console.log("[vuex]["+business_2.ACTIONS_TYPES.STROKE_LOADED+"] payload.stroke="+payload.stroke);this.$store.dispatch(business_2.ACTIONS_TYPES.STROKE_LOADED,payload);if(this.mode==4){this.tempData.words.forEach(function(word){if(word.stroke==payload.stroke){word.strokeContent=payload.strokeContent}})}};default_1.prototype.flip=function(payload){this.page.current=payload.current;this.tempData.current=this.page.current};default_1.prototype.dragged=function(payload){console.log("[vuex]["+business_2.ACTIONS_TYPES.DRAGGED+"] payload.from="+payload.from+", payload.to="+payload.to);var _payload={from:this.page.size*this.page.current+payload.from,to:this.page.size*this.page.current+payload.to};this.$store.dispatch(business_2.ACTIONS_TYPES.DRAGGED,_payload)};default_1.prototype.addWord=function(){if(this.words.length>=this.maxWordNum){this.pop.tip.message=this.$i18n("tip_word_to_limit",this.maxWordNum);this.pop.tip.shown=true;return}this.pop.addWord.shown=true};default_1.prototype.searchWord=function(word){this.$store.dispatch(business_2.ACTIONS_TYPES.CLEAR_RESULT);this.$store.dispatch(business_2.ACTIONS_TYPES.SEARCH_WORD,word)};default_1.prototype.wordSave=function(payload){var isExist=false;for(var i=0;i<this.words.length;i++){if(this.words[i].word===payload.word.word&&this.words[i].spell.title===payload.word.spell.title){isExist=true;break}}if(isExist){this.result.status="success-duplicate";this.result.data=[]}else{payload.index=this.page.size*this.page.current;console.log("payload.word="+payload.word);this.$store.dispatch(business_2.ACTIONS_TYPES.WORD_ADD,payload);this.pop.addWord.shown=false}};default_1.prototype.close=function(){console.log("close");this.pop.addWord.shown=false};default_1.prototype.delDragWord=function(){this.mode=4;this.adjust=true;this.tempData.words=this.words.slice();this.$store.dispatch(business_2.ACTIONS_TYPES.UPDATE_EDITING,{editing:this.adjust})};default_1.prototype.finish=function(){this.mode=1;this.adjust=false;this.tempData={};this.$store.dispatch(business_2.ACTIONS_TYPES.UPDATE_EDITING,{editing:this.adjust})};default_1.prototype.cancel=function(){if(this.adjust){this.mode=1;this.adjust=false;this.$store.dispatch(business_2.ACTIONS_TYPES.UPDATE_WORDS,this.tempData.words);this.$store.dispatch(business_2.ACTIONS_TYPES.UPDATE_EDITING,{editing:this.adjust});this.page.current=this.tempData.current||this.page.current;this.tempData={}}};default_1.prototype.closeTipWin=function(){this.pop.tip.shown=false};default_1.StoreTypes=business_2.StoreTypes;default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:Edit",template:__webpack_require__(17),public:true,components:{"word-list":WordList_1.default,"mode-switch":ModeSwitch_1.default,"word-add":WordAdd_1.default,modal:"Common:Modal"},computed:vuex_1.mapGetters({words:business_2.GETTER_TYPES.GET_WORDS,maxWordNum:business_2.GETTER_TYPES.MAX_WORD_NUM,result:business_2.GETTER_TYPES.SEARCH_RESULT}),mixins:[i18n_1.i18nMixin]})],default_1);return default_1}(Vue);exports.default=default_1},function(module,exports){module.exports="<div class=\"CollectLiteracy CollectLiteracy-opertate\"><word-list class=CollectLiteracy_content :class=\"{'CollectLiteracy-card--edit': mode === 4}\" :words=words :mode=mode :page=page @deleteword=deleteWord @strokeloaded=strokeLoaded @flip=flip @dragged=dragged></word-list><div class=CollectLiteracy_operate :class=\"{'hide_dom':adjust}\"><a href=javascript:; class=operate_btn @click=addWord><em class=word>{{ $i18n('add_word')}}</em></a> <a href=javascript:; class=operate_btn @click=delDragWord><em class=word>{{ $i18n('delete_word')}}/{{ $i18n('set_word_order')}}</em></a></div><div class=CollectLiteracy_operate :class=\"{'hide_dom':!adjust}\"><a href=javascript:; class=operate_btn @click=cancel><em class=word>{{ $i18n('cancel')}}</em></a> <a href=javascript:; class=operate_btn2 @click=finish><em class=word>{{ $i18n('finish')}}</em></a></div><word-add :shown=pop.addWord.shown :result=result @search=searchWord @wordsave=wordSave @close=close></word-add><modal class=\"CollectLiteracy_pop CollectLiteracy_pop_tip\" :options=\"{shown: pop.delWord.shown, masked: true, closeButton: 'right',buttons:[{name:'cancel',style: 'bot_btn--cancel', text:$i18n('cancel')},{name:'confirm',text:$i18n('ok')}]}\" @close=closeDeleteWin @button-click=confirmDeleteWord><div class=pop_top><p class=tit>{{ $i18n('tip')}}</p></div><div class=pop_mid><div class=mid_tip><div class=tip_wrap><p class=text>{{ $i18n('tip_confirm_to_delete')}}</p></div></div></div></modal><modal class=\"CollectLiteracy_pop CollectLiteracy_pop_tip\" :options=\"{shown:pop.tip.shown,masked:true,closeButton:'right'}\" @close=closeTipWin><div class=pop_top><p class=tit>{{ $i18n('tip')}}</p></div><div class=pop_mid><div class=mid_tip><div class=tip_wrap><p class=text>{{pop.tip.message}}</p></div></div></div><div class=ndui-pop-bottom><a href=javascript:; class=bot_btn @click.stop=closeTipWin><em class=word>{{ $i18n('ok')}}</em></a></div></modal><div class=CollectLiteracy__toast :class=\"{'hide_dom':!pop.toast.shown}\"><p class=toast__text>{{pop.toast.message}}</p></div></div>"},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vuex_1=__webpack_require__(4);var vue_class_component_1=__webpack_require__(1);var WordList_1=__webpack_require__(5);var ModeSwitch_1=__webpack_require__(6);var business_1=__webpack_require__(2);var business_2=__webpack_require__(2);var i18n_1=__webpack_require__(3);var default_1=function(_super){__extends(default_1,_super);function default_1(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.mode=1;_this.page={size:8,current:0};return _this}default_1.prototype.beforeCreate=function(){if(this.$store){if(!this.$store.state["GroupLiteracy"+"_business"]){console.log("registerModule: "+"GroupLiteracy"+"_business");this.$store.registerModule("GroupLiteracy"+"_business",business_1.default)}}};default_1.prototype.strokeLoaded=function(payload){console.log("[vuex]["+business_2.ACTIONS_TYPES.STROKE_LOADED+"] payload.stroke="+payload.stroke);this.$store.dispatch(business_2.ACTIONS_TYPES.STROKE_LOADED,payload)};default_1.prototype.modeSwitched=function(mode){console.log("[vue] receive modeSwitchd event, mode="+mode);this.mode=mode};default_1.prototype.flip=function(payload){this.page.current=payload.current};default_1.prototype.exitTool=function(){console.log("[vuex]["+business_2.ACTIONS_TYPES.EXIT_TOOL+"]");this.$store.dispatch(business_2.ACTIONS_TYPES.EXIT_TOOL)};default_1.StoreTypes=business_2.StoreTypes;default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:Exercise",template:__webpack_require__(19),public:true,components:{"word-list":WordList_1.default,"mode-switch":ModeSwitch_1.default},computed:vuex_1.mapGetters({words:business_2.GETTER_TYPES.GET_WORDS,scene:business_2.GETTER_TYPES.GET_SCENE}),mixins:[i18n_1.i18nMixin]})],default_1);return default_1}(Vue);exports.default=default_1},function(module,exports){module.exports='<div class="CollectLiteracy CollectLiteracy_show" :class="{CollectLiteracy_fixed: scene.isPPTShell}"><div class=CollectLiteracy_content v-if="words.length===0"><div class=CollectLiteracy__hint><p class=hint__text><span class=text v-html="$i18n(\'tip_no_words\')"></span></p></div></div><word-list class=CollectLiteracy_content :words=words :mode=mode :page=page @strokeloaded=strokeLoaded @flip=flip></word-list><div class="CollectLiteracy_menu CollectLiteracy_menu--left"><mode-switch :mode=mode @mode_switched=modeSwitched></mode-switch><div class=CollectLiteracy_menu_bottom v-if=scene.toolAndInClass><a class=com_btn_round_default @click=exitTool href=javascript:;><span class=text_box>{{ $i18n(\'exit\')}}</span></a></div></div><div class="CollectLiteracy_menu CollectLiteracy_menu--right"><mode-switch :mode=mode @mode_switched=modeSwitched></mode-switch><div class=CollectLiteracy_menu_bottom v-if=scene.toolAndInClass><a class=com_btn_round_default @click=exitTool href=javascript:;><span class=text_box>{{ $i18n(\'exit\')}}</span></a></div></div></div>'},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:true});var Vue=__webpack_require__(0);var vuex_1=__webpack_require__(4);var vue_class_component_1=__webpack_require__(1);var WordList_1=__webpack_require__(5);var ModeSwitch_1=__webpack_require__(6);var business_1=__webpack_require__(2);var business_2=__webpack_require__(2);var i18n_1=__webpack_require__(3);var default_1=function(_super){__extends(default_1,_super);function default_1(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.mode=1;_this.page={size:8,current:0};return _this}default_1.prototype.beforeCreate=function(){if(this.$store){if(!this.$store.state["GroupLiteracy"+"_business"]){this.$store.registerModule("GroupLiteracy"+"_business",business_1.default)}}};default_1.prototype.strokeLoaded=function(payload){console.log("[vuex]["+business_2.ACTIONS_TYPES.STROKE_LOADED+"] payload.stroke="+payload.stroke);this.$store.dispatch(business_2.ACTIONS_TYPES.STROKE_LOADED,payload)};default_1.prototype.modeSwitched=function(mode){console.log("[vue] receive modeSwitchd event, mode="+mode);this.mode=mode};default_1.prototype.flip=function(payload){console.log("[Preview] component, 'flip' event received, payload.current="+payload.current);this.page.current=payload.current};default_1.StoreTypes=business_2.StoreTypes;default_1=__decorate([vue_class_component_1.MidwareComponent({key:"GroupLiteracy:Preview",template:__webpack_require__(21),public:true,components:{"word-list":WordList_1.default,"mode-switch":ModeSwitch_1.default},computed:vuex_1.mapGetters({words:business_2.GETTER_TYPES.GET_WORDS,scene:business_2.GETTER_TYPES.GET_SCENE}),mixins:[i18n_1.i18nMixin]})],default_1);return default_1}(Vue);exports.default=default_1},function(module,exports){module.exports='<div class=CollectLiteracy><div class=CollectLiteracy_content v-if="words.length===0"><div class=CollectLiteracy__hint><p class=hint__text><span class=text v-html="$i18n(\'tip_no_words\')"></span></p></div></div><word-list v-else class=CollectLiteracy_content :words=words :mode=mode :page=page @strokeloaded=strokeLoaded @flip=flip></word-list><div class="CollectLiteracy_menu CollectLiteracy_menu--left"><mode-switch :mode=mode @mode_switched=modeSwitched></mode-switch></div><div class="CollectLiteracy_menu CollectLiteracy_menu--right"><mode-switch :mode=mode @mode_switched=modeSwitched></mode-switch></div></div>'}]);