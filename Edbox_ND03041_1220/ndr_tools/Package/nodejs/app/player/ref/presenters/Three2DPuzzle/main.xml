<?xml version='1.0' encoding='UTF-8'?>
<addon id="templateid"><properties/><dependencies><jsDependency><javaScript name="pnltri" version="2.1.1"/><javaScript name="threejs" version="73.1"/><javaScript name="threejs_canvasrender" version="73.1"/><javaScript name="threejs_projector" version="73.1"/><javaScript name="mobiscroll.select" version="2.6.3"/><javaScript name="tools_common" version="1.3.0"/></jsDependency></dependencies><css><![CDATA[.addon_Three2DPuzzle .jigsaw_content .jigsaw_fd:after{content:"";display:inline-block;width:0;height:100%;vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .matchbox{display:inline-block}.addon_Three2DPuzzle .jigsaw_content .threebox{vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .threebox .match{margin-right:5.33333px}.addon_Three2DPuzzle .jigsaw_content .threebox .match:last-child{margin-right:0}.addon_Three2DPuzzle .jigsaw_content .threebox .selMatch{background:-webkit-linear-gradient(bottom,#89c5c7 0,#76b8ba 100%);background:linear-gradient(to top,#89c5c7 0,#76b8ba 100%);color:#fff}.addon_Three2DPuzzle .jigsaw_content .threebox .selMatch .pic{background:url(resources/match_s_active.png) center center no-repeat;background-size:100% 100%}.addon_Three2DPuzzle .jigsaw_content .threebox .selMatch .num,.addon_Three2DPuzzle .jigsaw_content .threebox .selMatch .pic b{color:#fff}.addon_Three2DPuzzle .jigsaw_content .twobox{margin-right:20px;vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .twobox .match_two{margin-right:20px}.addon_Three2DPuzzle .jigsaw_content .twobox .text{margin-left:3.33333px;font-size:17.33333px;color:#59390b;text-shadow:.33333px .57733px 0 rgba(255,255,255,.353);vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .match:after{content:"";display:inline-block;width:0;height:100%;vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .line{display:inline-block;width:2.66667px;height:75.33333px;margin:0 10px 0 8px;background:rgba(141,93,17,.74);box-shadow:.66667px 0 0 0 rgba(255,255,255,.294);vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .match_pic{display:inline-block;vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .match_pic.match_s{width:37.33333px;height:36.66667px;background:url(resources/match_s.png) no-repeat;background-size:100% auto}.addon_Three2DPuzzle .jigsaw_content .match_pic.match_m{width:44.66667px;height:44px;background:url(resources/match_m.png) no-repeat;background-size:100% auto}.addon_Three2DPuzzle .jigsaw_content .match_pic.match_l{width:68.66667px;height:66.66667px;background:url(resources/match_l.png) no-repeat;background-size:100% auto}.addon_Three2DPuzzle .jigsaw_content .numbox{position:relative;display:inline-block;width:3.41667em;height:3.41667em;text-align:center;color:#59390b;vertical-align:middle}.addon_Three2DPuzzle .jigsaw_content .numbox>input[type=text]{display:none}.addon_Three2DPuzzle .jigsaw_content .numbox .top{position:absolute;top:0;left:0;right:0}.addon_Three2DPuzzle .jigsaw_content .numbox .bot{position:absolute;bottom:0;left:0;right:0}.addon_Three2DPuzzle .jigsaw_content .numbox .mid{font-size:27.33333px;line-height:70px}.addon_Three2DPuzzle #selector_dummy{display:none}.addon_Three2DPuzzle .android-ics.light{overflow:hidden;position:absolute;width:100%;height:100%;margin-top:-1px;margin-left:-1px}.addon_Three2DPuzzle .android-ics.light .dw-li{padding:0}.addon_Three2DPuzzle .android-ics.light .dw-sel{font-size:2em}.addon_Three2DPuzzle .android-ics.light .dwbg{top:0}.addon_Three2DPuzzle .android-ics.light .dww{overflow:hidden;position:relative;left:0;top:0}.addon_Three2DPuzzle .android-ics.light .dw-ul{margin-top:-140px;position:relative}.addon_Three2DPuzzle .android-ics.light .selMatch{border:solid #ff4500 1px!important}.addon_Three2DPuzzle .android-ics.light .dwwc{padding:0}.addon_Three2DPuzzle .android-ics.light .dwc{display:block;padding:0}.addon_Three2DPuzzle .android-ics.light .dwc{display:block;padding:0}.addon_Three2DPuzzle .android-ics.light .dwl{height:auto;line-height:normal}.addon_Three2DPuzzle .android-ics.light table{width:100%}.addon_Three2DPuzzle .android-ics.light .dwwl{margin:0}.addon_Three2DPuzzle .android-ics.light .dww{min-width:0!important;width:100%;overflow:hidden;position:relative;top:0;left:0}.addon_Three2DPuzzle .android-ics.light div{position:absolute;width:100%;min-width:0}.addon_Three2DPuzzle .android-ics.light .dwww{height:auto}.addon_Three2DPuzzle .android-ics.light table div{position:static;width:auto;outline:0}.addon_Three2DPuzzle .three2DPuzzle-tips{display:none;position:absolute;top:50%;left:10%;right:10%;margin-top:-25px;font-size:24px;line-height:30px;text-align:center;color:#fefefe;padding:10px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;background:#e91e63;color:#fff}.addon_Three2DPuzzle .three2DPuzzle-tips .tip-text{display:inline-block;text-align:left}.addon_Three2DPuzzle .com_layout{overflow:auto;position:relative;height:100%;background:#bfd3e2}.addon_Three2DPuzzle .com_lay_boardtit{background:url(resources/bg_boardtit.jpg) repeat-x left center;position:relative;height:44px;margin-left:-6.66667px;margin-right:-8px;border-top-left-radius:8.66667px;border-top-right-radius:8.66667px;border:1px solid rgba(84,50,0,.15);box-shadow:0 16px 33.33333px rgba(82,51,3,.4);z-index:2}.addon_Three2DPuzzle .com_lay_header{position:absolute;top:0;left:0;right:0;height:93.33333px;text-align:right}.addon_Three2DPuzzle .com_u_boardtit{display:inline-block;width:99%;padding:0 0 0 10px;line-height:16px;color:#333;font-size:20px;text-align:center;vertical-align:middle}.addon_Three2DPuzzle h2{display:block;font-size:1.5em;-webkit-margin-before:.83em;-webkit-margin-after:.83em;-webkit-margin-start:0;-webkit-margin-end:0;font-weight:400}.addon_Three2DPuzzle *{box-sizing:border-box;vertical-align:baseline}.addon_Three2DPuzzle .com_lay_mboard{height:100%;overflow:hidden}.addon_Three2DPuzzle .com_lay_contain{height:100%}.addon_Three2DPuzzle .com_u_btn1{margin-top:20px;margin-right:20px}.addon_Three2DPuzzle .com_u_btn1{display:inline-block;width:164px;height:60.66667px;line-height:56px;font-size:24px;color:#5d390d;text-align:center;background:url(resources/btn1_normal.png) no-repeat center center;background-size:100% auto;text-shadow:.5px .866px 0 rgba(255,255,255,.51)}.addon_Three2DPuzzle .com_u_btn1{display:inline-block;width:164px;height:60.66667px;line-height:56px;font-size:24px;color:#5d390d;text-align:center;background:url(resources/btn1_normal.png) no-repeat center center;background-size:100% auto;text-shadow:.5px .866px 0 rgba(255,255,255,.51)}.addon_Three2DPuzzle .com_u_btn1:hover{background:url(resources/btn1_hover.png) no-repeat center center;background-size:100% auto}.addon_Three2DPuzzle .com_u_btn1:active{background:url(resources/btn1_press.png) no-repeat center center;background-size:100% auto}.addon_Three2DPuzzle .com_u_btn1.com_s_disabled{opacity:.7;color:#ce9f58;text-shadow:0 0 4px #fff}.addon_Three2DPuzzle .com_u_btn1.com_s_disabled:hover{opacity:.7;background:url(resources/btn1_normal.png) no-repeat center center;background-size:100% auto}.addon_Three2DPuzzle .com_u_btn1.com_s_disabled:active{opacity:.7;background:url(resources/btn1_normal.png) no-repeat center center;background-size:100% auto}.addon_Three2DPuzzle a{text-decoration:none;outline:0}.addon_Three2DPuzzle .drag_match a{display:block;height:4.58333em;width:4.58333em;border:1px solid transparent}.addon_Three2DPuzzle .drag_match a .pic{width:2.45833em;height:2.29167em;margin:1.14583em auto;display:block;background:url(resources/match_s.png) center center no-repeat;background-size:100% 100%;position:relative}.exam_skin_wood .ui_btn_handle{display:inline-block;margin:0 .75em;padding:0 1.41667em;height:3.16667em;line-height:3.16667em;border:1px solid #397274;background:-webkit-linear-gradient(bottom,#e9e9e9 0,#fff 100%);background:linear-gradient(to top,#e9e9e9 0,#fff 100%);text-align:center;vertical-align:middle;border-radius:.41667em}.exam_skin_wood .ui_btn_handle .ui_btn_handle_text{font-size:1.5em;color:#384650}.exam_skin_wood .ui_btn_handle.active,.exam_skin_wood .ui_btn_handle:active{background:-webkit-linear-gradient(bottom,#76b8ba 0,#89c5c7 100%);background:linear-gradient(to top,#76b8ba 0,#89c5c7 100%)}.exam_skin_wood .ui_btn_handle.active .ui_btn_handle_text,.exam_skin_wood .ui_btn_handle:active .ui_btn_handle_text{color:#fff}.exam_skin_wood .ui_btn_handle.disabled{background:-webkit-linear-gradient(top,#e9e9e9 0,#fff 100%);background:linear-gradient(to bottom,#e9e9e9 0,#fff 100%);cursor:default}.exam_skin_wood .ui_btn_handle.disabled .ui_btn_handle_text{color:#9da7ae}.exam_skin_wood .graphstable_wrapper{padding:4.79167em 7.5em 7.91667em;background:#bfd3e2;width:100%;height:100%;position:relative}.exam_skin_wood .graphstable_main{width:100%;height:100%;position:relative;border-top:none;background:url(resources/main_line_bg.png) left top no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_foot{position:absolute;left:0;bottom:0;width:100%;height:5.83333em;background:#cfdee9;padding:0 7.5em}.exam_skin_wood .graphstable_foot .del{float:right;padding-top:1.04167em;text-align:center}.exam_skin_wood .graphstable_foot .del b{width:2.08333em;height:2.29167em;display:inline-block;background:url(resources/icon_del.png) left top no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_foot .del span{color:#292525;font-size:1.16667em;display:block;margin-top:.20833em}.exam_skin_wood .graphstable_foot .del.active b,.exam_skin_wood .graphstable_foot .del:active b{background:url(resources/icon_del_active.png) left top no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_foot .del.active span,.exam_skin_wood .graphstable_foot .del:active span{color:#e06313}.exam_skin_wood .graphstable_foot .area_mid{display:inline-block;vertical-align:top;background:url(resources/line_bg.png) right top repeat-y;padding:.625em 1.25em 0;height:100%;margin-right:6em}.exam_skin_wood .graphstable_foot .area_lf{background:url(resources/line_bg.png) right top repeat-y;height:100%;padding-top:.625em;padding-right:1.04167em;display:inline-block;vertical-align:top;min-width:33.5em;text-align:right}.exam_skin_wood .graphstable_foot .area_lf p{display:inline-block;vertical-align:top;margin-right:1.83333em}.exam_skin_wood .graphstable_foot .area_lf p a{display:block;height:4.58333em;width:4.58333em;background:-webkit-linear-gradient(bottom,#e9e9e9 0,#fff 100%);background:linear-gradient(to top,#e9e9e9 0,#fff 100%);border:1px solid #397274;border-radius:.41667em}.exam_skin_wood .graphstable_foot .area_lf p a.active,.exam_skin_wood .graphstable_foot .area_lf p a:active{background:-webkit-linear-gradient(bottom,#89c5c7 0,#76b8ba 100%);background:linear-gradient(to top,#89c5c7 0,#76b8ba 100%);color:#fff}.exam_skin_wood .graphstable_foot .area_lf p a.active .pic,.exam_skin_wood .graphstable_foot .area_lf p a:active .pic{background:url(resources/match_s_active.png) center center no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_foot .area_lf p a.active .num,.exam_skin_wood .graphstable_foot .area_lf p a.active .pic b,.exam_skin_wood .graphstable_foot .area_lf p a:active .num,.exam_skin_wood .graphstable_foot .area_lf p a:active .pic b{color:#fff}.exam_skin_wood .graphstable_foot .area_lf p a .pic{width:2.45833em;height:2.29167em;margin:.41667em auto 0 .83333em;display:block;background:url(resources/match_s.png) center center no-repeat;background-size:100% 100%;position:relative}.exam_skin_wood .graphstable_foot .area_lf p a .pic b{position:absolute;right:-.41667em;bottom:0;color:#629a9b;font-weight:400;font-size:1.33333em;width:1.25em;text-align:center;line-height:1}.exam_skin_wood .graphstable_foot .area_lf p a .num{color:#333;font-size:1.16667em;margin-top:.20833em;display:block;text-align:center}.exam_skin_wood .graphstable_add_handle{width:10.83333em;height:4.58333em;padding:.54167em;background:#bfd3e2;border-radius:.41667em;border:1px solid #bacad7;float:right}.exam_skin_wood .graphstable_add_handle .num_list{float:left;margin-right:5px;width:3.41667em;height:3.41667em;overflow:hidden;border:1px solid #8a9ba5;border-radius:.41667em;box-shadow:inset 0 0 25px 1px #b4b4b4;background:#fff;position:relative}.exam_skin_wood .graphstable_add_handle .num_list .num_scroller{position:absolute;left:0;top:0;width:100%}.exam_skin_wood .graphstable_add_handle .num_list .num_scroller span{text-align:center;font-size:1em;line-height:1.70833em;height:1.70833em}.exam_skin_wood .graphstable_add_handle .num_list .num_scroller span b{display:block;color:#333;font-weight:400;transition:all .3s;-moz-transition:all .3s;-webkit-transition:all .3s}.exam_skin_wood .graphstable_add_handle .num_list .num_scroller span.sel b{-webkit-transform:scale(2,2);transform:scale(2,2)}.exam_skin_wood .graphstable_add_handle .unit{line-height:3.41667em}.exam_skin_wood .graphstable_add_handle .unit b{font-size:1.16667em;color:#333;font-weight:400}.exam_skin_wood .graphstable_add_handle .plus{display:block;position:relative;width:3.41667em;height:3.41667em;border:1px solid #397274;float:right;border-radius:.41667em;background:-webkit-linear-gradient(bottom,#e9e9e9 0,#fff 100%);background:linear-gradient(to top,#e9e9e9 0,#fff 100%)}.exam_skin_wood .graphstable_add_handle .plus b{display:block;width:1.54167em;height:1.54167em;position:absolute;left:50%;top:50%;margin:-.77083em;overflow:hidden;background:url(resources/icon_add.png) center center no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_add_handle .plus.active,.exam_skin_wood .graphstable_add_handle .plus:active{background:-webkit-linear-gradient(bottom,#89c5c7 0,#76b8ba 100%);background:linear-gradient(to top,#89c5c7 0,#76b8ba 100%)}.exam_skin_wood .graphstable_add_handle .plus.active b,.exam_skin_wood .graphstable_add_handle .plus:active b{background:url(resources/icon_add_press.png) center center no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_add_relate{float:left;margin-right:1.66667em;padding-top:.70833em}.exam_skin_wood .graphstable_add_relate .pic{width:2.45833em;height:2.29167em;margin:.41667em auto 0 0;display:block;background:url(resources/match_s.png) center center no-repeat;background-size:100% 100%;position:relative}.exam_skin_wood .graphstable_add_relate .pic b{position:absolute;right:-.41667em;bottom:0;color:#629a9b;font-weight:400;font-size:1.33333em;width:1.25em;text-align:center;line-height:1}.exam_skin_wood .graphstable_add_relate .num{color:#333;font-size:1.16667em;margin-top:.20833em;display:block;text-align:center}.exam_skin_wood .graphstable_move_icon{width:56px;height:56px;overflow:hidden;border-radius:100%;background:url(resources/move.png) left top no-repeat;background-size:100% 100%;position:absolute}.exam_skin_wood .graphstable_move_icon.active,.exam_skin_wood .graphstable_move_icon:active{background:url(resources/move_active.png) left top no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_rotate_icon{width:56px;height:56px;overflow:hidden;border-radius:100%;background:url(resources/rotation.png) left top no-repeat;background-size:100% 100%;position:absolute}.exam_skin_wood .graphstable_rotate_icon.active,.exam_skin_wood .graphstable_rotate_icon:active{background:url(resources/rotation_active.png) left top no-repeat;background-size:100% 100%}.exam_skin_wood .graphstable_pivot{width:24px;height:24px;display:block;border:3px solid #fff;background:#f2b530;border-radius:100%;z-index:10;position:absolute}.exam_skin_wood .graphstable_pivot.active{background:#e06313}.exam_skin_wood .graphstable_wire{z-index:9;height:16px;cursor:pointer;position:absolute;background:url(resources/line_normal.png) center center repeat-x}.exam_skin_wood .graphstable_wire.active,.exam_skin_wood .graphstable_wire:active{background:url(resources/line_active.png) center center repeat-x}.exam_skin_wood .graphstable_hand_icon{display:block;z-index:11;width:155px;height:153px;overflow:hidden;position:absolute;background:url(resources/hand_icon.png) left top no-repeat}.exam_skin_wood .graphstable_hand_pivot{border:3px solid #fff45c;border-radius:100%;width:42px;height:42px;padding:3px;position:absolute}.exam_skin_wood .graphstable_hand_pivot b{position:relative;display:block;width:100%;height:100%;border-radius:100%;background:-webkit-linear-gradient(top,#fdf282,#f0a630);background:linear-gradient(to bottom,#fdf282,#f0a630)}.exam_skin_wood .graphstable_hand_pivot b:after{content:"";left:5px;top:5px;position:absolute;width:5px;height:5px;border-radius:100%;background:#fff;opacity:.8;box-shadow:inset 0 0 5px #fdf0b2}.exam_skin_wood .graphstable_foot .footer_right{position:absolute;right:5em;top:0;padding-top:.5em}]]></css><view><![CDATA[<div class="com_lay_contain"><div class="com_lay_mboard exam_skin_wood"><div class="com_lay_board jigsaw_content graphstable_wrapper"><p id="dragMatch" class="drag_match" style="display: none;position:absolute;z-index: 100"><a><span class="pic"></span></a></p><div class="jigsaw_bd graphstable_main"><div class="three2DPuzzle-tips"><em class="tip-text"></em></div></div><div class="jigsaw_fd graphstable_foot"><div class="footer_right"><a href="javascript:;" class="tool_operate_bar btn_del"><span class="tool_operate_imgcnt"><i class="tool_operate_icon tool_del"></i> </span><span class="tool_operate_text">删除</span></a></div><div class="threebox matchbox area_lf"></div><div class="twobox matchbox area_mid"><div class="graphstable_add_handle"><div class="num_list"><div class="num_scroller"><div class="match match_input"><p class="numbox"><select class="selector" name="" style="display: none"><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option></select></p></div></div></div><span class="unit"><b>CM</b></span> <a class="plus match_add"><b></b></a></div><p class="match match_two match_custom graphstable_add_relate"><a><span class="pic" id="pic_text"><b>3</b></span></a></p></div><input class="match1" type="number" style="display: none"> <input class="match2" type="number" style="display: none"> <input class="match3" type="number" style="display: none"> <input class="match4" type="number" style="display: none"> <input class="match5" type="number" style="display: none"> <input class="matchCount" value="0" type="number" style="display: none"> <input class="selectedMatch" type="number" style="display: none"></div></div></div></div>]]></view><presenter><![CDATA[/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.AddonThree2DPuzzle_create = function () {\n  return _presenter2.default;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/presenter.js\n// module id = 0\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/presenter.js?");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _run = __webpack_require__(2);\n\nvar _run2 = _interopRequireDefault(_run);\n\nvar _setState = __webpack_require__(37);\n\nvar _setState2 = _interopRequireDefault(_setState);\n\nvar _getState = __webpack_require__(38);\n\nvar _getState2 = _interopRequireDefault(_getState);\n\nvar _setBasePath = __webpack_require__(39);\n\nvar _setBasePath2 = _interopRequireDefault(_setBasePath);\n\nvar _destroy = __webpack_require__(36);\n\nvar _destroy2 = _interopRequireDefault(_destroy);\n\nvar _initViewPrepareLessons = __webpack_require__(40);\n\nvar _initViewPrepareLessons2 = _interopRequireDefault(_initViewPrepareLessons);\n\nvar _setPlayerController = __webpack_require__(41);\n\nvar _setPlayerController2 = _interopRequireDefault(_setPlayerController);\n\nvar _onEventReceived = __webpack_require__(42);\n\nvar _onEventReceived2 = _interopRequireDefault(_onEventReceived);\n\nvar _pageShow = __webpack_require__(33);\n\nvar _pageShow2 = _interopRequireDefault(_pageShow);\n\nvar _getService = __webpack_require__(43);\n\nvar _getService2 = _interopRequireDefault(_getService);\n\nvar _runtime = __webpack_require__(45);\n\nvar _runtime2 = _interopRequireDefault(_runtime);\n\nvar _setLangType = __webpack_require__(46);\n\nvar _setLangType2 = _interopRequireDefault(_setLangType);\n\nvar _metaInfo = __webpack_require__(47);\n\nvar _metaInfo2 = _interopRequireDefault(_metaInfo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  metaInfo: _metaInfo2.default,\n  setUrlParams: _setLangType2.default,\n  run: _run2.default,\n  runtime: _runtime2.default,\n  destroy: _destroy2.default,\n  setState: _setState2.default,\n  getState: _getState2.default,\n  setBasePath: _setBasePath2.default,\n  getLengthArray: _initViewPrepareLessons.getLengthArray,\n  initViewPre: _initViewPrepareLessons.initViewPre,\n  initViewPrepareLessons: _initViewPrepareLessons2.default,\n  setPlayerController: _setPlayerController2.default,\n  onEventReceived: _onEventReceived2.default,\n  pageShow: _pageShow2.default,\n  getService: _getService2.default\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter.js\n// module id = 1\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter.js?");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (view, model) {\n  if (_presenter2.default.view) {\n    return;\n  };\n  var currentRuntime = player.getPlayerServices().getRuntime();\n  switch (currentRuntime) {\n    case icCreatePlayer.RUNTIME.TEACHER_MOBILE:\n      _presenter2.default.isTeacherMobile = true;\n      _presenter2.default.isApp = true;\n      break;\n    case icCreatePlayer.RUNTIME.STUDENT_MOBILE:\n      _presenter2.default.isStudentMobile = true;\n      _presenter2.default.isApp = true;\n      break;\n    case icCreatePlayer.RUNTIME.PROJECTION_MOBILE:\n      _presenter2.default.isProjectionMobile = true;\n      _presenter2.default.isApp = true;\n      break;\n    case icCreatePlayer.RUNTIME.WEB:\n      _presenter2.default.isWeb = true;\n      break;\n    case icCreatePlayer.RUNTIME.TEACHER_PC:\n      _presenter2.default.isTeacherPc = true;\n      break;\n    default:\n      _presenter2.default.isTeacherPc = false;\n      _presenter2.default.isWeb = false;\n      _presenter2.default.isApp = false;\n  }\n  this.__interface = {\n    resizeScreen: function resizeScreen(data) {\n      (0, _DocumentEvent.cancelSelected)();\n      model.__ExtendModel = (0, _getExtendData2.default)();\n      (0, _destroy2.default)();\n      $(view).find('.threebox').empty();\n      (0, _presenterLogic2.default)(view, model, false);\n      (0, _pageShow2.default)(view, model);\n    }\n  };\n  return window.I18nManager.getInstance().loadLanguage('Three2DPuzzle', _presenter2.default.langType).done(function (data) {\n    _presenter2.default.i18n = data.lang;\n    (0, _presenterLogic2.default)(view, model, false);\n  });\n};\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _presenterLogic = __webpack_require__(3);\n\nvar _presenterLogic2 = _interopRequireDefault(_presenterLogic);\n\nvar _getExtendData = __webpack_require__(31);\n\nvar _getExtendData2 = _interopRequireDefault(_getExtendData);\n\nvar _pageShow = __webpack_require__(33);\n\nvar _pageShow2 = _interopRequireDefault(_pageShow);\n\nvar _destroy = __webpack_require__(36);\n\nvar _destroy2 = _interopRequireDefault(_destroy);\n\nvar _DocumentEvent = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/run.js\n// module id = 2\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/run.js?");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (view, model, isPreview) {\n  console.log(model);\n  _presenter2.default.model = model;\n  _presenter2.default.view = view;\n  // 使用 basePath 替换 view 中的图片 url\n  var $imgs = $(view).find('img');\n\n  $imgs.each(function () {\n    $(this).attr('src', _presenter2.default.path + $(this).attr('data-src'));\n  });\n\n  (0, _threeManger.threeStart)();\n  (0, _DocumentEvent2.default)();\n};\n\nvar _threeManger = __webpack_require__(4);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _DocumentEvent = __webpack_require__(10);\n\nvar _DocumentEvent2 = _interopRequireDefault(_DocumentEvent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/presenterLogic.js\n// module id = 3\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/presenterLogic.js?");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchstick = exports.mouse = exports.intersectObjs = exports.raycaster = exports.camera = exports.scene = exports.renderer = undefined;\nexports.threeStart = threeStart;\nexports.addThreeShape = addThreeShape;\nexports.resizeThree = resizeThree;\nexports.destroyThree = destroyThree;\n\nvar _constants = __webpack_require__(5);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _Matchstick = __webpack_require__(6);\n\nvar _Matchstick2 = _interopRequireDefault(_Matchstick);\n\nvar _destroyThreeObject = __webpack_require__(17);\n\nvar _destroyThreeObject2 = _interopRequireDefault(_destroyThreeObject);\n\nvar _autoDetectRenderer = __webpack_require__(30);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar renderer = void 0;\nvar scene = void 0;\nvar camera = void 0;\nvar raycaster = void 0;\nvar intersectObjs = void 0;\nvar mouse = void 0;\nvar matchstick = void 0;\n// let currenAnimate\n\nfunction initThree() {\n  THREE.Shape.Utils.triangulateShape = function () {\n    var pnlTriangulator = new PNLTRI.Triangulator();\n    return function (contour, holes) {\n      // console.log(\"new Triangulation: PnlTri.js \" + PNLTRI.REVISION );\n      return pnlTriangulator.triangulate_polygon([contour].concat(holes));\n    };\n  }();\n  resizeThree();\n\n  var container = $(_presenter2.default.view).find('.jigsaw_bd').get(0);\n  _constants.REAL_ESTATE.width = $(container).width();\n  _constants.REAL_ESTATE.height = $(container).height();\n  // REAL_ESTATE.height = $(container).height();\n  _constants.REAL_ESTATE.offsetLeft = $(container).offset().left;\n  _constants.REAL_ESTATE.offsetTop = $(container).offset().top;\n\n  _constants.CONSTRAINT.xmin = -_constants.REAL_ESTATE.width / 2 + 2;\n  _constants.CONSTRAINT.xmax = _constants.REAL_ESTATE.width / 2 - 2;\n  _constants.CONSTRAINT.ymin = -_constants.REAL_ESTATE.height / 2 + 2;\n  _constants.CONSTRAINT.ymax = _constants.REAL_ESTATE.height / 2 - 2;\n\n  // 创建渲染\n  exports.renderer = renderer = (0, _autoDetectRenderer.autoDetectRenderer)({ antialias: true, alpha: true });\n  //   renderer = new THREE.WebGLRenderer({\n  //     antialias: true, //抗锯齿\n  //     alpha: true // apply transparent attribute\n  //   });\n  _presenter2.default._supportedWebGL = (0, _autoDetectRenderer.isWebGLSupported)();\n  renderer.setClearColor(0xFFFFFF, 0);\n  renderer.setSize(_constants.REAL_ESTATE.width, _constants.REAL_ESTATE.height);\n\n  container.appendChild(renderer.domElement);\n}\n\nfunction initScene() {\n  exports.scene = scene = new THREE.Scene();\n}\n\nfunction initMatchstick() {\n  'use strict';\n\n  exports.matchstick = matchstick = new _Matchstick2.default();\n};\n\nfunction initCamera() {\n  // 创建Camera\n  var RATIO = 2;\n  exports.camera = camera = new THREE.OrthographicCamera(_constants.REAL_ESTATE.width / -RATIO, _constants.REAL_ESTATE.width / RATIO, _constants.REAL_ESTATE.height / RATIO, _constants.REAL_ESTATE.height / -RATIO, -1, 40000);\n  camera.position.x = 0;\n  camera.position.y = 0;\n  camera.position.z = 39999;\n  camera.lookAt({ x: 0, y: 0, z: 0 });\n}\n\nfunction initRaycaster() {\n  // 添加点击检测\n  exports.raycaster = raycaster = new THREE.Raycaster();\n  raycaster.linePrecision = 1;\n\n  exports.intersectObjs = intersectObjs = [];\n  exports.mouse = mouse = new THREE.Vector2();\n}\n\nfunction initControllerTool() {\n  var planeXY = new THREE.Mesh(new THREE.PlaneBufferGeometry(_constants.REAL_ESTATE.width, _constants.REAL_ESTATE.height, 2, 2), new THREE.MeshBasicMaterial({ color: 0xff0000, transparent: true, opacity: 0 }));\n  planeXY.name = 'boundary';\n  scene.add(planeXY);\n}\n\n// function animate() {\n// currenAnimate = requestAnimationFrame(animate);\n// render();\n// }\n\nfunction render() {\n  renderer.render(scene, camera);\n}\n\nfunction threeStart() {\n  initThree();\n  initCamera();\n  initScene();\n  initRaycaster();\n  // animate();\n  _presenter2.default.render = render;\n  initControllerTool();\n  initMatchstick();\n  // var light = new THREE.DirectionalLight();\n  // light.position.set(2, 5, 3); scene.add(light);\n}\n\nfunction addThreeShape(length, position) {\n  var group = matchstick.createShape(length, position);\n  scene.add(group);\n  return group;\n}\n\nfunction resizeThree(width, height) {\n  var offset = $(_presenter2.default.view).find('.jigsaw_bd').offset();\n  'use strict';\n\n  _constants.REAL_ESTATE.offsetLeft = offset.left;\n  _constants.REAL_ESTATE.offsetTop = offset.top;\n}\nfunction destroyThree() {\n  _presenter2.default.render = null;\n  renderer.forceContextLoss && renderer.forceContextLoss();\n  (0, _destroyThreeObject2.default)(camera);\n  (0, _destroyThreeObject2.default)(scene);\n  $(renderer.domElement).remove();\n  $(renderer.domElement).splice(0);\n  $(renderer.domElement)[0] = null;\n  exports.renderer = renderer = null;\n  exports.camera = camera = null;\n  exports.mouse = mouse = null;\n  exports.scene = scene = null;\n  exports.raycaster = raycaster = null;\n  exports.intersectObjs = intersectObjs = null;\n  _presenter2.default.view = null;\n  _presenter2.default._renderDone = null;\n  // cancelAnimationFrame(currenAnimate);\n}\n\nexports.renderer = renderer;\nexports.scene = scene;\nexports.camera = camera;\nexports.raycaster = raycaster;\nexports.intersectObjs = intersectObjs;\nexports.mouse = mouse;\nexports.matchstick = matchstick;\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/threeManger.js\n// module id = 4\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/threeManger.js?");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initType = exports.callNativePath = exports.ACTION_TYPE = exports.CONSTRAINT = exports.TOOLBAR_HEIGHT = exports.REAL_ESTATE = undefined;\nexports.getMaterials = getMaterials;\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// 定义 addon 的可活动大小\nvar REAL_ESTATE = exports.REAL_ESTATE = {\n  width: 776,\n  height: 487,\n  offsetLeft: 199.328125,\n  offsetTop: 57.53125,\n  scaleX: 1,\n  scaleY: 1,\n  ROTATE_HANDLER_RADIUS: 8\n  // //备课端\n  // width: 676.948,\n  // height: 420.875,\n  // offsetLeft: 248.484375,\n  // offsetTop: 618.90625\n\n  // 定义快捷工具栏的高度\n}; /* global $ */\n// import runtime from './runtime'\nvar TOOLBAR_HEIGHT = exports.TOOLBAR_HEIGHT = 48;\n// 定义几何图形的可活动范围\nvar CONSTRAINT = exports.CONSTRAINT = {\n  xmin: -REAL_ESTATE.width / 2 + 2,\n  xmax: REAL_ESTATE.width / 2 - 2,\n  ymin: -REAL_ESTATE.height / 2 + 2,\n  ymax: REAL_ESTATE.height / 2 - 2\n\n  // 旋转按钮的大小\n  // export const ROTATE_HANDLER_RADIUS = 8\n\n  // 定义所有的操作类型\n};var ACTION_TYPE = exports.ACTION_TYPE = {\n  move: 'move',\n  rotate: 'rotate',\n  connect: 'connect',\n  split: 'split',\n  close: 'close',\n  stretching: 'stretching',\n  transform: 'transform'\n};\n\nvar callNativePath = exports.callNativePath = 'com.nd.pad.icr.ui.IcrJsBridge';\n\nvar initType = exports.initType = {\n  TEACHER: 'teacher',\n  STUDENT: 'student'\n\n  // export const addonName = 'Puzzle';\n  // export const isTeacherMobile = window.icCreatePlayer && runtime === window.icCreatePlayer.RUNTIME.TEACHER_MOBILE;\n  // export const isStudentMobile = window.icCreatePlayer && runtime === window.icCreatePlayer.RUNTIME.STUDENT_MOBILE;\n  // export const isProjectionMobile = window.icCreatePlayer && runtime === window.icCreatePlayer.RUNTIME.PROJECTION_MOBILE;\n  // export const isWeb = window.icCreatePlayer && runtime === window.icCreatePlayer.RUNTIME.WEB;\n  // export const isTeacherPc = window.icCreatePlayer && runtime === window.icCreatePlayer.RUNTIME.TEACHER_PC;\n\n  // 画旋转图标\n  // let rotationMaterial;\n  // export function getRotationMaterial(resolve) {\n  // \tif (!rotationMaterial) {\n  // \t\tlet loader = new THREE.TextureLoader();\n  // \t\tloader.setCrossOrigin('anonymous');\n  // \t\tloader.load(presenter.path + 'resources/rotation.png', function(texture) {\n  // \t\t\trotationMaterial = new THREE.MeshBasicMaterial({\n  // \t\t\t\tmap: texture,\n  // \t\t\t\ttransparent: true,\n  // \t\t\t\toverdraw: 0.5\n  // \t\t\t});\n  // \t\t\tpresenter.render();\n  // \t\t\tresolve(rotationMaterial)\n  // \t\t});\n  // \t} else {\n  // \t\tresolve(rotationMaterial)\n  // \t}\n\n  // }\n\n  // //画移动图标\n  // let moveMaterial;\n  // export function getMoveMaterial(resolve) {\n  // \tif (!moveMaterial) {\n  // \t\tlet loader = new THREE.TextureLoader();\n  // \t\tloader.setCrossOrigin('anonymous');\n  // \t\tloader.load(presenter.path + 'resources/move.png', function(texture) {\n  // \t\t\tmoveMaterial = new THREE.MeshBasicMaterial({\n  // \t\t\t\tmap: texture,\n  // \t\t\t\ttransparent: true,\n  // \t\t\t\toverdraw: 0.5\n  // \t\t\t});\n  // \t\t\tpresenter.render();\n  // \t\t\tresolve(moveMaterial);\n  // \t\t});\n  // \t} else {\n  // \t\tresolve(moveMaterial);\n  // \t}\n  // }\n\n  // 画图标\n};var promiseArr = [];\nfunction getMaterials(resolve) {\n  if (promiseArr.length === 0) {\n    var imageArr = [_presenter2.default.path + 'resources/move.png', _presenter2.default.path + 'resources/rotation.png'];\n    var loader = new THREE.TextureLoader();\n    loader.setCrossOrigin('anonymous');\n    imageArr.map(function (url) {\n      promiseArr.push(new Promise(function (resolve, reject) {\n        loader.load(url, function (texture) {\n          var material = new THREE.MeshBasicMaterial({\n            map: texture,\n            transparent: true,\n            overdraw: 0.5\n          });\n          resolve(material);\n        });\n      }));\n    });\n    return promiseArr;\n  } else {\n    return promiseArr;\n  }\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/constants.js\n// module id = 5\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/constants.js?");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _move = __webpack_require__(7);\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _constants = __webpack_require__(5);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _threeManger = __webpack_require__(4);\n\nvar _DocumentEvent = __webpack_require__(10);\n\nvar _checkMovePosition = __webpack_require__(14);\n\nvar _checkMovePosition2 = _interopRequireDefault(_checkMovePosition);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Matchstick = function () {\n  function Matchstick() {\n    var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n    var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n    var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS;\n\n    _classCallCheck(this, Matchstick);\n\n    this.width = width;\n    this.height = height;\n    this.radius = radius;\n    this.y = 0;\n    // 火柴\n    this.stickFaceMaterial = new THREE.MeshBasicMaterial({\n      // color: 0xE8DCCB,\n      color: 0x547B9C,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    this.stickFaceMaterial2 = new THREE.MeshBasicMaterial({\n      color: 0x547B9C,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n\n    this.stickFaceMaterial3 = new THREE.MeshBasicMaterial({\n      color: 0x505F6C,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    // 未选中棍子边样式\n    this.stickFaceMaterial4 = new THREE.MeshBasicMaterial({\n      color: 0xE06313,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    // 未选中时样式\n    this.matchFaceMaterial = new THREE.MeshBasicMaterial({\n      color: 0xF2B530,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    // 选中整体时样式\n    this.sMatchFaceMaterial = new THREE.MeshBasicMaterial({\n      color: 0xE06313,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    // 选中点或移动时样式\n    this.oMatchFaceMaterial = new THREE.MeshBasicMaterial({\n      color: 0xFAD35B,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    this.oWMatchFaceMaterial = new THREE.LineBasicMaterial({\n      color: 0xFAD35B,\n      linewidth: 1,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n    this.hMatchFaceMaterial = new THREE.MeshBasicMaterial({\n      transparent: true,\n      opacity: 0,\n      overdraw: 0.5\n    });\n    // 火柴面底边\n    this.bgMatchFaceMaterial = new THREE.MeshBasicMaterial({\n      color: 0xFFFFFF,\n      transparent: false,\n      opacity: 1,\n      overdraw: 0.5\n    });\n  }\n\n  // 获取棍子的面材质\n\n\n  _createClass(Matchstick, [{\n    key: 'getStickFaceMaterial',\n    value: function getStickFaceMaterial() {\n      return this.stickFaceMaterial;\n    }\n\n    // 获取棍子的面材质\n\n  }, {\n    key: 'getStickFaceMaterial2',\n    value: function getStickFaceMaterial2() {\n      return this.stickFaceMaterial2;\n    }\n\n    // 获取棍子的面材质\n\n  }, {\n    key: 'getStickFaceMaterial3',\n    value: function getStickFaceMaterial3() {\n      return this.stickFaceMaterial3;\n    }\n\n    // 获取棍子的面材质\n\n  }, {\n    key: 'getStickFaceMaterial4',\n    value: function getStickFaceMaterial4() {\n      return this.stickFaceMaterial4;\n    }\n\n    // 获取火柴的面材质\n\n  }, {\n    key: 'getMatchFaceMaterial',\n    value: function getMatchFaceMaterial() {\n      return this.matchFaceMaterial;\n    }\n    // 获取火柴的面选中材质\n\n  }, {\n    key: 'getSMatchFaceMaterial',\n    value: function getSMatchFaceMaterial() {\n      return this.sMatchFaceMaterial;\n    }\n    // 获取火柴面操作材质\n\n  }, {\n    key: 'getOMatchFaceMaterial',\n    value: function getOMatchFaceMaterial() {\n      return this.oMatchFaceMaterial;\n    }\n    // 获取火柴面操作材质\n\n  }, {\n    key: 'getOWMatchFaceMaterial',\n    value: function getOWMatchFaceMaterial() {\n      return this.oWMatchFaceMaterial;\n    }\n    // 获取火柴面操作材质\n\n  }, {\n    key: 'getHMatchFaceMaterial',\n    value: function getHMatchFaceMaterial() {\n      return this.hMatchFaceMaterial;\n    }\n    // 获取火柴面中间操作材质\n\n  }, {\n    key: 'getBgMatchFaceMaterial',\n    value: function getBgMatchFaceMaterial() {\n      return this.bgMatchFaceMaterial;\n    }\n\n    // 获取棍子\n\n  }, {\n    key: 'getStickShape',\n    value: function getStickShape() {\n      var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.width;\n      var height = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.height;\n\n      var stick = new THREE.Shape();\n      var halfWidth = width / 2;\n      var halfHeight = height / 2;\n      stick.moveTo(-halfWidth, -halfHeight);\n      stick.lineTo(halfWidth, -halfHeight);\n      stick.lineTo(halfWidth, halfHeight);\n      stick.lineTo(-halfWidth, halfHeight);\n      stick.moveTo(-halfWidth, -halfHeight);\n\n      return {\n        stick: stick,\n        halfWidth: halfWidth\n      };\n    }\n\n    // 获取火柴\n\n  }, {\n    key: 'getMatchShape',\n    value: function getMatchShape() {\n      var match = new THREE.Shape();\n      for (var i = 0; i < 64; i++) {\n        var r = this.radius - 3;\n        var theta = i / 64 * Math.PI * 2;\n        if (i === 0) {\n          match.moveTo(r * Math.sin(theta), r * Math.cos(theta));\n        } else {\n          match.lineTo(r * Math.sin(theta), r * Math.cos(theta));\n        }\n      }\n      return match;\n    }\n\n    // 获取火柴\n\n  }, {\n    key: 'getBgMatchShape',\n    value: function getBgMatchShape() {\n      var match = new THREE.Shape();\n      for (var i = 0; i < 64; i++) {\n        var r = this.radius;\n        var theta = i / 64 * Math.PI * 2;\n        if (i === 0) {\n          match.moveTo(r * Math.sin(theta), r * Math.cos(theta));\n        } else {\n          match.lineTo(r * Math.sin(theta), r * Math.cos(theta));\n        }\n      }\n      return match;\n    }\n\n    // 获取火柴\n\n  }, {\n    key: 'getMatchBound',\n    value: function getMatchBound() {\n      var match = new THREE.Shape();\n      for (var i = 0; i < 64; i++) {\n        var r = this.radius + 3;\n        var theta = i / 64 * Math.PI * 2;\n        if (i === 0) {\n          match.moveTo(r * Math.sin(theta), r * Math.cos(theta));\n        } else {\n          match.lineTo(r * Math.sin(theta), r * Math.cos(theta));\n        }\n      }\n      return match;\n    }\n\n    // 将火柴与棍子组合，创建火柴棍\n    /**\r\n     * [createShape description]\r\n     * @param  {Number} length   [小棒的长度]\r\n     * @param  {THREE}  position [创建的位置]\r\n     * @param  {[boolean]} pushed   [是否推送创建]\r\n     * @return {[threeObject]}          [组合的小棒对象]\r\n     */\n\n  }, {\n    key: 'createShape',\n    value: function createShape() {\n      var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new THREE.Vector2(0, 0);\n      var pushed = arguments[2];\n\n      this.width = Math.round(length * 39 / 1561 * _constants.REAL_ESTATE.width);\n      this.radius = _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS;\n      this.height = Math.round(_constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS * 5 / 3);\n      var group = new THREE.Object3D();\n\n      // const stick1 = this.getStickShape(this.width, this.height / 8).stick\n      var stick2 = this.getStickShape(this.width, this.height / 3).stick;\n      var stick3 = this.getStickShape(this.width, this.height / 2).stick;\n      var stick4 = this.getStickShape(this.width, this.height / 1.4).stick;\n      var match = this.getMatchShape();\n      var bgMatch = this.getBgMatchShape();\n      var matchBound = this.getMatchBound();\n\n      // const stickGeometry = new THREE.ShapeGeometry(stick1, {})\n      var stickGeometry2 = new THREE.ShapeGeometry(stick2, {});\n      var stickGeometry3 = new THREE.ShapeGeometry(stick3, {});\n      var stickGeometry4 = new THREE.ShapeGeometry(stick4, {});\n      var matchGeometry = new THREE.ShapeGeometry(match, {});\n      var bgMatchGeometry = new THREE.ShapeGeometry(bgMatch, {});\n      var matchBoundGeometry = _presenter2.default._supportedWebGL ? new THREE.ShapeGeometry(matchBound, {}) : matchBound.createPointsGeometry();\n\n      // let stickFace = new THREE.Mesh(stickGeometry, this.getStickFaceMaterial());\n      var stickFace2 = new THREE.Mesh(stickGeometry2, this.getStickFaceMaterial2());\n      var stickFace3 = new THREE.Mesh(stickGeometry3, this.getStickFaceMaterial3());\n      var stickFace4 = new THREE.Mesh(stickGeometry4, this.getStickFaceMaterial4());\n      var leftMatchFace = new THREE.Mesh(matchGeometry, this.getMatchFaceMaterial());\n      var rightMatchFace = new THREE.Mesh(matchGeometry, this.getMatchFaceMaterial());\n      var leftBgMatchFace = new THREE.Mesh(bgMatchGeometry, this.getBgMatchFaceMaterial());\n      var rightBgMatchFace = new THREE.Mesh(bgMatchGeometry, this.getBgMatchFaceMaterial());\n      var leftMatchLine = _presenter2.default._supportedWebGL ? new THREE.Line(matchBoundGeometry, this.getOMatchFaceMaterial()) : new THREE.Line(matchBoundGeometry, this.getOWMatchFaceMaterial());\n      var rightMatchLine = _presenter2.default._supportedWebGL ? new THREE.Line(matchBoundGeometry, this.getOMatchFaceMaterial()) : new THREE.Line(matchBoundGeometry, this.getOWMatchFaceMaterial());\n\n      leftMatchFace.position.x = -this.width / 2;\n      rightMatchFace.position.x = this.width / 2;\n\n      leftMatchLine.visible = false;\n      rightMatchLine.visible = false;\n\n      // stickFace.name = 'stick3';\n      // stickFace.userData.height = this.height / 6;\n      // stickFace.position.z = 0.09;\n      stickFace2.name = 'stick2';\n      stickFace2.userData.height = this.height / 3;\n      stickFace2.position.z = 0.08;\n      stickFace3.name = 'stick1';\n      stickFace3.userData.height = this.height / 2;\n      stickFace3.position.z = 0.07;\n      stickFace4.name = 'stick';\n      stickFace4.userData.height = this.height / 1.4;\n      stickFace4.visible = false;\n      leftMatchFace.name = 'match1';\n      rightMatchFace.name = 'match2';\n      leftBgMatchFace.name = 'bgMatch1';\n      rightBgMatchFace.name = 'bgMatch2';\n      leftMatchLine.name = 'line1';\n      rightMatchLine.name = 'line2';\n      leftMatchFace.position.z = 0.1;\n      rightMatchFace.position.z = 0.1;\n      leftBgMatchFace.position.z = -0.01;\n      rightBgMatchFace.position.z = -0.01;\n\n      // 添加属性判断是否与其他点连接\n      leftMatchFace.userData.linkState = false;\n      // 添加属性以便方便取到同一根棍子的另一个端点\n      leftMatchFace.userData.connectId = rightMatchFace.id;\n      rightMatchFace.userData.linkState = false;\n      rightMatchFace.userData.connectId = leftMatchFace.id;\n\n      // 添加长宽半径属性到父对象\n      group.userData.width = this.width;\n      group.userData.height = this.height;\n      group.userData.radius = this.radius;\n      group.name = 'unit';\n      // group.add(stickFace);\n      group.add(stickFace2);\n      group.add(stickFace3);\n      group.add(stickFace4);\n      group.add(leftMatchFace);\n      group.add(rightMatchFace);\n      leftMatchFace.add(leftBgMatchFace);\n      rightMatchFace.add(rightBgMatchFace);\n      leftMatchFace.add(leftMatchLine);\n      rightMatchFace.add(rightMatchLine);\n      if (!pushed) {\n        (0, _DocumentEvent.setSelectedShape)(stickFace4);\n        (0, _DocumentEvent.setActivedObj)(null);\n      }\n\n      // this.y += 20;\n      _threeManger.intersectObjs.push(stickFace2);\n      _threeManger.intersectObjs.push(stickFace3);\n      _threeManger.intersectObjs.push(stickFace4);\n      _threeManger.intersectObjs.push(leftMatchFace);\n      _threeManger.intersectObjs.push(rightMatchFace);\n      (0, _checkMovePosition2.default)(group, position);\n      (0, _move2.default)(group, position);\n      return group;\n    }\n  }]);\n\n  return Matchstick;\n}();\n\nexports.default = Matchstick;\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/shape/Matchstick.js\n// module id = 6\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/shape/Matchstick.js?");

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = move;\n\nvar _updateVertices = __webpack_require__(8);\n\nvar _updateVertices2 = _interopRequireDefault(_updateVertices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction move(object, distance) {\n  'use strict';\n\n  if (object.name === 'unit') {\n    var match1 = object.getObjectByName('match1');\n    var match2 = object.getObjectByName('match2');\n    match1.userData.position = new THREE.Vector2().addVectors(match1.position, distance);\n    match2.userData.position = new THREE.Vector2().addVectors(match2.position, distance);\n    (0, _updateVertices2.default)(object);\n  } else if (object.name === 'collection') {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = object.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var stick = _step.value;\n\n        move(stick, distance);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (object.name === 'moveImage' || object.name === 'rotationImage') {\n    var position = new THREE.Vector2().addVectors(object.position, distance);\n    object.position.x = position.x;\n    object.position.y = position.y;\n  }\n} /**\r\n   * Created by Administrator on 2015/12/11.\r\n   */\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/move.js\n// module id = 7\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/move.js?");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\n/**\r\n * 更新小棒位置\r\n * @param stick\r\n */\nexports.default = function (matchstick) {\n  'use strict';\n\n  if (matchstick.name !== 'unit') return;\n  var match1 = matchstick.getObjectByName('match1');\n  var match2 = matchstick.getObjectByName('match2');\n  var point1 = match1.userData.position || match1.position;\n  var point2 = match2.userData.position || match2.position;\n\n  match1.position.x = point1.x;\n  match1.position.y = point1.y;\n  match2.position.x = point2.x;\n  match2.position.y = point2.y;\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = matchstick.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var stick = _step.value;\n\n      updateStick(stick, point1, point2);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}; /**\r\n    * Created by Administrator on 2015/12/11.\r\n    */\n\n\nfunction updateStick(stick, point1, point2) {\n  'use strict';\n\n  if (stick.name.indexOf('stick') < 0) return;\n  var length = stick.userData.height / 2;\n\n  var vector1 = (0, _GetAngle.rotationAngleVector)(point2, point1, 90, true).vector.setLength(length);\n  var vector2 = (0, _GetAngle.rotationAngleVector)(point2, point1, 90, false).vector.setLength(length);\n  var vertices = [];\n  vertices.push(new THREE.Vector2().addVectors(point1, vector2));\n  vertices.push(new THREE.Vector2().addVectors(point2, vector2));\n  vertices.push(new THREE.Vector2().addVectors(point2, vector1));\n  vertices.push(new THREE.Vector2().addVectors(point1, vector1));\n  var orgVertices = stick.geometry.vertices;\n  for (var i = 0; i < orgVertices.length; i++) {\n    orgVertices[i].x = vertices[i].x;\n    orgVertices[i].y = vertices[i].y;\n  }\n  stick.geometry.verticesNeedUpdate = true;\n  stick.geometry.computeBoundingSphere();\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/updateVertices.js\n// module id = 8\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/updateVertices.js?");

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\r\n                                                                                                                                                                                                                                                                               * Created by ChengChangXiong on 2015/11/19.\r\n                                                                                                                                                                                                                                                                               */\n\nexports.getAngle = getAngle;\nexports.getVectorAngle = getVectorAngle;\nexports.getTriangleAngle = getTriangleAngle;\nexports.twoPointDistance = twoPointDistance;\nexports.rotationObj = rotationObj;\nexports.combiningPoints = combiningPoints;\nexports.triangleCombinedPoint = triangleCombinedPoint;\nexports.quadrilateralCombinedPoint = quadrilateralCombinedPoint;\nexports.closedGraphCombiningPoint = closedGraphCombiningPoint;\nexports.quadrilateralDiagonalMove = quadrilateralDiagonalMove;\nexports.quadrilateralOppositeMove = quadrilateralOppositeMove;\nexports.rotationAngleVector = rotationAngleVector;\nexports.movingBoundaryDetermination = movingBoundaryDetermination;\nexports.rotationBoundaryJudgment = rotationBoundaryJudgment;\nexports.graphicalRotationBoundaryJudgment = graphicalRotationBoundaryJudgment;\n\nvar _constants = __webpack_require__(5);\n\n/*\r\nfirst_p：起点坐标，center_p：端点坐标，second_p：末点\r\n*/\nfunction getAngle(first_p, center_p, second_p) {\n  var v_ao = new THREE.Vector2().subVectors(first_p, center_p);\n  var v_bo = new THREE.Vector2().subVectors(second_p, center_p);\n  return getVectorAngle(v_ao, v_bo);\n}\n\nfunction getVectorAngle(vector1, vector2) {\n  var dx1 = vector1.x;\n  var dy1 = vector1.y;\n  var dx2 = vector2.x;\n  var dy2 = vector2.y;\n  var c = Math.sqrt(dx1 * dx1 + dy1 * dy1) * Math.sqrt(dx2 * dx2 + dy2 * dy2);\n  if (c === 0) {\n    return -1;\n  }\n  var abs = (dx1 * dx2 + dy1 * dy2) / c;\n  var isClockWise = vector1.x * vector2.y - vector1.y * vector2.x < 0;\n  if (abs < 0 && Math.abs(abs) > 1) {\n    // 当abs>且是负数的时候，向量方向相反重合，为180°\n    return {\n      // 弧度\n      angle: Math.PI,\n\n      // second_p相对于first_p顺逆时针，true标示顺时针\n      clockWise: isClockWise,\n\n      // 角度\n      angleValue: 180\n    };\n  }\n  if (Math.abs(abs) > 1) {\n    // 当abs>1且是正数数的时候，向量方向一致且重合，为0°\n    // return 0;\n    return {\n      // 弧度\n      angle: 0,\n\n      // second_p相对于first_p顺逆时针，true标示顺时针\n      clockWise: isClockWise,\n\n      // 角度\n      angleValue: 0\n    };\n  }\n\n  var angle = Math.acos((dx1 * dx2 + dy1 * dy2) / c) * 180 / Math.PI;\n\n  return {\n    // 弧度\n    angle: angle * Math.PI / 180,\n\n    // second_p相对于first_p顺逆时针，true标示顺时针\n    clockWise: isClockWise,\n\n    // 角度\n    angleValue: angle\n  };\n}\n\n/** 三角形传入边长A,B,C  返回边A，B的夹角 */\nfunction getTriangleAngle(lengthA, lengthB, lengthC) {\n  var sumPowOfThreeLines = Math.pow(lengthA, 2) + Math.pow(lengthB, 2) - Math.pow(lengthC, 2);\n  var cosLineABangle = sumPowOfThreeLines / (2 * lengthA * lengthB);\n  var lineABangle = Math.acos(cosLineABangle) * 180 / Math.PI;\n  return lineABangle;\n}\n\n// 计算两点的距离（四舍五入取整）\nfunction twoPointDistance(firstPoint, secondPoint) {\n  var squareSum = Math.pow(firstPoint.x - secondPoint.x, 2) + Math.pow(firstPoint.y - secondPoint.y, 2);\n  return Math.sqrt(squareSum);\n}\n\n/**\r\n * 方法：旋转后返回的对象包括，弧度，角度，顺逆时针\r\n * @param startPoint 连接旋转点，需要旋转到合并点的端点\r\n * @param rotationPoint 旋转点，取三角形不动那条边的左端点\r\n * @param datumPoint 取三角形不动那条边的右端点\r\n * @param auxiliaryPoint 连接右端点（非旋转点）的那条边，需要旋转到合并点的端点\r\n */\nfunction rotationObj(startPoint, triangleLetfPoint, triangleRightPoint, auxiliaryPoint) {\n  // let combinPot = combiningPoint(startPoint, triangleLetfPoint, triangleRightPoint, auxiliaryPoint);\n  var combinObj = combiningPoints(startPoint, triangleLetfPoint, triangleRightPoint, auxiliaryPoint);\n  if (combinObj === null) return null;\n  var combinPot = combinObj.sameDirPoint;\n\n  var letfPointObj = getAngle(startPoint, triangleLetfPoint, combinPot);\n  var rightPointObj = getAngle(auxiliaryPoint, triangleRightPoint, combinPot);\n\n  return {\n    leftRotation: letfPointObj,\n    rightRotation: rightPointObj\n  };\n}\n\n/**\r\n * 方法：计算非闭合图形，合并点的坐标....\r\n * @param startPoint 连接旋转点，需要旋转到合并点的端点\r\n * @param rotationPoint 旋转点，取三角形不动那条边的左端点\r\n * @param datumPoint 取三角形不动那条边的右端点\r\n * @param auxiliaryPoint 连接右端点（非旋转点）的那条边，需要旋转到合并点的端点\r\n */\nfunction combiningPoints(startPoint, rotationPoint, datumPoint, auxiliaryPoint, type) {\n  // 基准的边长，即三角形不动的那条边\n  var lengthA = Math.round(twoPointDistance(datumPoint, rotationPoint));\n\n  // 旋转点上，需移动到结合点的边长\n  var lengthB = Math.round(twoPointDistance(startPoint, rotationPoint));\n  var lengthC = Math.round(twoPointDistance(auxiliaryPoint, datumPoint));\n\n  var accurateLengA = twoPointDistance(datumPoint, rotationPoint);\n  var accurateLengB = twoPointDistance(startPoint, rotationPoint);\n  var accurateLengC = twoPointDistance(auxiliaryPoint, datumPoint);\n\n  if (accurateLengA > accurateLengB + accurateLengC && accurateLengA - (accurateLengB + accurateLengC) < 1) lengthA = lengthB + lengthC;\n\n  // 判断如果不能组成三角形，直接返回\n  if (type) {\n    if (lengthA + lengthB <= lengthC || Math.abs(lengthA - lengthB) >= lengthC) return null;\n  } else {\n    if (lengthA + lengthB < lengthC || Math.abs(lengthA - lengthB) > lengthC) return null;\n  }\n\n  // 判断两点的连线\n  // if ((lengthA + lengthB === lengthC) || ())\n\n  // 组合成三角形的角度\n  var endAngle = getTriangleAngle(lengthA, lengthB, lengthC);\n  var angleObj = getAngle(datumPoint, rotationPoint, startPoint);\n\n  var sameDirVectorObj = rotationAngleVector(datumPoint, rotationPoint, endAngle, angleObj.clockWise);\n  var sameDirVector = sameDirVectorObj.vector.setLength(lengthB);\n  var samePoint = new THREE.Vector2().addVectors(rotationPoint, sameDirVector);\n\n  var differentDirVectorObj = rotationAngleVector(datumPoint, rotationPoint, endAngle, !angleObj.clockWise);\n  var differentDirVector = differentDirVectorObj.vector.setLength(lengthB);\n  var differentPoint = new THREE.Vector2().addVectors(rotationPoint, differentDirVector);\n\n  return {\n    sameDirPoint: samePoint,\n    differentDirPoint: differentPoint,\n    clockwise: angleObj.clockWise\n  };\n}\n\n/**\r\n * 方法：计算三角形结合点\r\n * @param startPoint 连接旋转点，需要旋转到合并点的端点\r\n * @param triangleLetfPoint 不动边的左端点\r\n * @param triangleRightPoint 不动边的右端点\r\n * @param auxiliaryPoint 连接右端点（非旋转点）的那条边，需要旋转到合并点的端点\r\n */\nfunction triangleCombinedPoint(startPoint, triangleLetfPoint, triangleRightPoint, auxiliaryPoint) {\n  var combinObj = combiningPoints(startPoint, triangleLetfPoint, triangleRightPoint, auxiliaryPoint, 'triangle');\n  if (combinObj === null) return null;\n  return combinObj.sameDirPoint;\n}\n\n/**\r\n * 方法：计算四边形结合点\r\n * @param startPoint 连接旋转点，需要旋转到合并点的相对（结合点和fixedPoint连线）左端点\r\n * @param quadrilateralLetfPoint 不动边的左端点\r\n * @param quadrilateralRightPoint 不动边的右端点\r\n * @param auxiliaryPoint 连接右端点（非旋转点）的那条边，需要旋转到合并点的端点\r\n * @param fixedPoint 两条不动边的交点.\r\n */\nfunction quadrilateralCombinedPoint(startPoint, quadrilateralLetfPoint, quadrilateralRightPoint, auxiliaryPoint, fixedPoint) {\n  // 特殊情况处理\n\n  // 判断距离\n  var lengthStarAndLeft = Math.round(twoPointDistance(startPoint, quadrilateralLetfPoint));\n  var lengthendAndRight = Math.round(twoPointDistance(auxiliaryPoint, quadrilateralRightPoint));\n\n  // 判断两个点的是否是同一个点\n  if (lengthStarAndLeft === lengthendAndRight) {\n    var leftX = parseInt(quadrilateralLetfPoint.x * 10000) / 10000;\n    var leftY = parseInt(quadrilateralLetfPoint.y * 10000) / 10000;\n\n    var rightX = parseInt(quadrilateralRightPoint.x * 10000) / 10000;\n    var rightY = parseInt(quadrilateralRightPoint.y * 10000) / 10000;\n\n    if (Math.abs(leftX - rightX) < 2 && Math.abs(leftY - rightY) < 2) {\n      // 设置位置\n      var fixedVector = new THREE.Vector2().subVectors(auxiliaryPoint, quadrilateralRightPoint);\n      var direcVec = fixedVector.setLength(lengthendAndRight);\n      var combinpoin = new THREE.Vector2().addVectors(quadrilateralRightPoint, direcVec);\n      return combinpoin;\n    }\n  }\n\n  var combinObj = combiningPoints(startPoint, quadrilateralLetfPoint, quadrilateralRightPoint, auxiliaryPoint);\n\n  if (combinObj === null) return null;\n\n  var angleObj = getAngle(quadrilateralRightPoint, quadrilateralLetfPoint, fixedPoint);\n  var combinPoint = combinObj.clockwise === angleObj.clockWise ? combinObj.differentDirPoint : combinObj.sameDirPoint;\n\n  return combinPoint;\n}\n\n/**\r\n * 方法：鼠标移动后，对角线两侧对应变化的点\r\n * @param originalVertexPoint 连接旋转点，需要旋转到合并点的相对（结合点和fixedPoint连线）左端点\r\n * @param fixedPoint 不动边的左端点\r\n * @param originalDatumPoint 不动边的右端点\r\n * @param movePoint 连接右端点（非旋转点）的那条边，需要旋转到合并点的端点\r\n * @param lengthB 连接originalVertexPoint的边长\r\n * @param lengthC 连接movePoint的那条边长\r\n */\nfunction closedGraphCombiningPoint(originalVertexPoint, fixedPoint, originalDatumPoint, movePoint, lengthB, lengthC) {\n  // 即移动那条边长\n  var lengthA = twoPointDistance(movePoint, fixedPoint);\n\n  // 判断如果不能组成三角形，直接返回\n  if (lengthA + lengthB <= lengthC || Math.abs(lengthA - lengthB) >= lengthC) return null;\n\n  // 开始的角度\n  var angleObj = getAngle(movePoint, fixedPoint, originalVertexPoint);\n  var endAngle = getTriangleAngle(lengthA, lengthB, lengthC);\n\n  var combinVectorObj = rotationAngleVector(movePoint, fixedPoint, endAngle, angleObj.clockWise);\n  var combinVector = combinVectorObj.vector.setLength(lengthB);\n  var combinPoint = new THREE.Vector2().addVectors(fixedPoint, combinVector);\n  return combinPoint;\n}\n\n/**\r\n * 方法：计算四边形对角线拖动后，对角线两侧对应变化的两个端点坐标\r\n * @param originalLeftVertexPoint 相对于拖动对角线的左端点\r\n * @param fixedPoint 固定不动的点\r\n * @param originalRightVertexPoint 相对于拖动对角线的右端点\r\n * @param originalDatumPoint 对角线上需要移动点的原始坐标\r\n * @param mousePoint 鼠标点\r\n * @param leftLineLength, bottomLineLength, rightLineLength, topLineLength 传入点对应的边长\r\n */\nfunction quadrilateralDiagonalMove(originalLeftVertexPoint, fixedPoint, originalRightVertexPoint, originalDatumPoint, mousePoint, leftLineLength, bottomLineLength, rightLineLength, topLineLength) {\n  var pointCopy = new THREE.Vector2(0, 0);\n  pointCopy.x = originalDatumPoint.x;\n  pointCopy.y = originalDatumPoint.y;\n  if (Math.round(fixedPoint.x * 10000) === Math.round(originalDatumPoint.x * 10000) && Math.round(fixedPoint.y * 10000) === Math.round(originalDatumPoint.y * 10000)) {\n    var vector1 = new THREE.Vector2().subVectors(originalLeftVertexPoint, originalRightVertexPoint);\n    var vector2 = new THREE.Vector2(0, 0);\n    vector2.x = Math.sqrt(vector1.y * vector1.y / (vector1.x * vector1.x + vector1.y * vector1.y));\n    vector2.y = Math.sqrt(vector1.x * vector1.x / (vector1.x * vector1.x + vector1.y * vector1.y));\n    pointCopy.add(vector2);\n  }\n\n  var angle = getAngle(mousePoint, fixedPoint, pointCopy);\n  if ((typeof angle === 'undefined' ? 'undefined' : _typeof(angle)) !== 'object') {\n    return null;\n  }\n  var mouseVector = new THREE.Vector2().subVectors(mousePoint, fixedPoint);\n  var fixVector = new THREE.Vector2().subVectors(pointCopy, fixedPoint);\n  if (angle.angleValue > 90) {\n    angle.angleValue = 180 - angle.angleValue;\n    fixVector = new THREE.Vector2().subVectors(fixedPoint, pointCopy);\n  }\n  var length = mouseVector.length() * Math.cos(angle.angleValue * Math.PI / 180);\n  var movePoint = new THREE.Vector2().addVectors(fixedPoint, fixVector.setLength(length));\n\n  var combinLeftPot = closedGraphCombiningPoint(originalLeftVertexPoint, fixedPoint, pointCopy, movePoint, leftLineLength, topLineLength);\n  var combinRightPot = closedGraphCombiningPoint(originalRightVertexPoint, fixedPoint, pointCopy, movePoint, bottomLineLength, rightLineLength);\n  if (combinLeftPot === null || combinRightPot === null) return null;\n\n  // 特殊情况处理\n  // 判断两个点的是否是同一个点,保留两位小数判断\n  var leftX = parseInt(combinLeftPot.x * 10000) / 10000;\n  var leftY = parseInt(combinLeftPot.y * 10000) / 10000;\n\n  var rightX = parseInt(combinRightPot.x * 10000) / 10000;\n  var rightY = parseInt(combinRightPot.y * 10000) / 10000;\n\n  // 如果两点相同，有一个取反\n  if (leftX === rightX && leftY === rightY) {\n    var combinAngelObj = getAngle(combinLeftPot, fixedPoint, movePoint);\n\n    var direcVec = new THREE.Vector2().subVectors(movePoint, fixedPoint);\n    var uniVec = direcVec.setLength(rightLineLength);\n    var rotStarPot = new THREE.Vector2().addVectors(fixedPoint, uniVec);\n    var angel = combinAngelObj.angleValue;\n    var rotObj = rotationAngleVector(rotStarPot, fixedPoint, angel, combinAngelObj.clockWise);\n    combinRightPot = rotObj.point;\n  }\n\n  // 平移后的向量坐标\n  return {\n    combinLeftPoint: combinLeftPot,\n    combinRightPoint: combinRightPot,\n    diagonalPoint: movePoint\n  };\n}\n\n/**\r\n * 方法：计算四边形对边平移后，对边两端点上的坐标\r\n * @param originLeftPoint 拖动对边的左端点\r\n * @param originRightPoint 拖动对边的右端点\r\n * @param fixedLeftPoint 固定边左端点\r\n * @param fixedRightPoint 固定边右端点\r\n * @param mouseDownPoint，mouseMovingPoint 鼠标点击点和移动点\r\n */\nfunction quadrilateralOppositeMove(originLeftPoint, originRightPoint, fixedLeftPoint, fixedRightPoint, mouseDownPoint, mouseMovingPoint, topLineLength, leftLineLength, rightLineLength) {\n  var mouMoveObj = getAngle(mouseDownPoint, fixedLeftPoint, mouseMovingPoint);\n\n  // 左边顶点移动后的点的坐标\n\n  var leftVertexObj = rotationAngleVector(originLeftPoint, fixedLeftPoint, mouMoveObj.angleValue, mouMoveObj.clockWise);\n  var currentVertexVector = leftVertexObj.vector.setLength(leftLineLength);\n  var currentLeftPoint = new THREE.Vector2().addVectors(fixedLeftPoint, currentVertexVector);\n\n  var diagonalDis = twoPointDistance(currentLeftPoint, fixedRightPoint);\n  if (topLineLength + rightLineLength <= diagonalDis || Math.abs(topLineLength - rightLineLength) >= diagonalDis) return null;\n  var finalAngle = getTriangleAngle(diagonalDis, topLineLength, rightLineLength);\n\n  var angleObj = getAngle(fixedRightPoint, currentLeftPoint, fixedLeftPoint);\n  var rightRotObj = rotationAngleVector(fixedRightPoint, currentLeftPoint, finalAngle, !angleObj.clockWise);\n  var currentRightVector = rightRotObj.vector.setLength(topLineLength);\n  var currentRightPoint = new THREE.Vector2().addVectors(currentLeftPoint, currentRightVector);\n\n  return {\n    leftPoint: currentLeftPoint,\n    rightPoint: currentRightPoint\n  };\n}\n\n/**\r\n * 向量旋转后的向量，返回旋转后的点和向量;\r\n * @param movePoint 旋转点\r\n * @param fixedPoint 旋转轴点（固定的点）\r\n * @param angle 旋转角度\r\n * @param clockwise 旋转方向\r\n */\nfunction rotationAngleVector(movePoint, fixedPoint, angle, clockwise) {\n  var tempVector = new THREE.Vector2(movePoint.x - fixedPoint.x, movePoint.y - fixedPoint.y);\n  var valueX = void 0,\n      valueY = void 0;\n  var radian = angle / 180 * Math.PI;\n\n  if (clockwise) {\n    valueX = tempVector.x * Math.cos(radian) + tempVector.y * Math.sin(radian) + fixedPoint.x;\n    valueY = tempVector.y * Math.cos(radian) - tempVector.x * Math.sin(radian) + fixedPoint.y;\n  } else {\n    valueX = tempVector.x * Math.cos(radian) - tempVector.y * Math.sin(radian) + fixedPoint.x;\n    valueY = tempVector.y * Math.cos(radian) + tempVector.x * Math.sin(radian) + fixedPoint.y;\n  }\n\n  var afterRotationPoint = new THREE.Vector2(valueX, valueY);\n  var afterRotationVector = new THREE.Vector2(valueX - fixedPoint.x, valueY - fixedPoint.y);\n\n  return {\n    point: afterRotationPoint,\n    vector: afterRotationVector\n  };\n}\n\n/**\r\n * 平移达到边界判定方法：传入向量方向上移动的最大距离,如果到边界则返回(0, 0);\r\n * @param pointGroup 需要移动的所有点\r\n * @param directionVector 旋转点方向上的坐标\r\n */\nfunction movingBoundaryDetermination(pointGroup, directionVector) {\n  // 存放x, y轴上的最值\n  var minXPoint = void 0,\n      maxXPoint = void 0,\n      minYPoint = void 0,\n      maxYPoint = void 0;\n  minXPoint = maxXPoint = minYPoint = maxYPoint = pointGroup[0];\n\n  // 移动的最大距离,作为返回值\n  // const moveMaxDistansVector = new THREE.Vector2(0, 0)\n  var pointXGroup = [];\n  var pointYGroup = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pointGroup[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var point = _step.value;\n\n      pointXGroup.push(point.x);\n      pointYGroup.push(point.y);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  minXPoint = Math.min.apply(Math, pointXGroup);\n  maxXPoint = Math.max.apply(Math, pointXGroup);\n  minYPoint = Math.min.apply(Math, pointYGroup);\n  maxYPoint = Math.max.apply(Math, pointYGroup);\n\n  var newMinXPoint = minXPoint + directionVector.x - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS;\n  var newMaxXPoint = maxXPoint + directionVector.x + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS;\n  var newMinYPoint = minYPoint + directionVector.y - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS;\n  var newMaxYPoint = maxYPoint + directionVector.y + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS;\n  if (newMinXPoint < _constants.CONSTRAINT.xmin) {\n    if (minXPoint > _constants.CONSTRAINT.xmin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n      directionVector.x = _constants.CONSTRAINT.xmin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS - minXPoint;\n    } else {\n      directionVector.x = directionVector.x > 0 ? directionVector.x : 0;\n    }\n  }\n  if (newMaxXPoint > _constants.CONSTRAINT.xmax) {\n    if (_constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS + maxXPoint < _constants.CONSTRAINT.xmax) {\n      directionVector.x = _constants.CONSTRAINT.xmax - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS - maxXPoint;\n    } else {\n      directionVector.x = directionVector.x < 0 ? directionVector.x : 0;\n    }\n  }\n  if (newMinYPoint < _constants.CONSTRAINT.ymin) {\n    if (minYPoint > _constants.CONSTRAINT.ymin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n      directionVector.y = _constants.CONSTRAINT.ymin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS - minYPoint;\n    } else {\n      directionVector.y = directionVector.y > 0 ? directionVector.y : 0;\n    }\n  }\n  if (newMaxYPoint > _constants.CONSTRAINT.ymax) {\n    if (_constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS + maxYPoint < _constants.CONSTRAINT.ymax) {\n      directionVector.y = _constants.CONSTRAINT.ymax - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS - maxYPoint;\n    } else {\n      directionVector.y = directionVector.y < 0 ? directionVector.y : 0;\n    }\n  }\n\n  if (minXPoint <= _constants.CONSTRAINT.xmin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS && maxXPoint >= _constants.CONSTRAINT.xmax - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n    directionVector.x = 0;\n  }\n\n  if (minYPoint < _constants.CONSTRAINT.ymin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS && maxYPoint > _constants.CONSTRAINT.ymax - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n    directionVector.y = 0;\n  }\n}\n\n/**\r\n * 旋转达到边界判定方法：返回达到边界的弧度;\r\n * @param movePoint 移动点\r\n * @param rotationPoint 旋转点的不动点\r\n * @param options 对象，可以获取旋转方向，角度\r\n */\nfunction rotationBoundaryJudgment(movePoint, rotationPoint, options) {\n  // 弧度\n  var radian = options.angle;\n\n  // let tempVector = new THREE.Vector2(movePoint.x - rotationPoint.x, movePoint.y - rotationPoint.y);\n  var tempVector = new THREE.Vector2().subVectors(movePoint, rotationPoint);\n  var valueX = void 0,\n      valueY = void 0;\n  var clockwise = options.clockWise;\n\n  if (clockwise) {\n    valueX = tempVector.x * Math.cos(radian) + tempVector.y * Math.sin(radian) + rotationPoint.x;\n    valueY = tempVector.y * Math.cos(radian) - tempVector.x * Math.sin(radian) + rotationPoint.y;\n  } else {\n    valueX = tempVector.x * Math.cos(radian) - tempVector.y * Math.sin(radian) + rotationPoint.x;\n    valueY = tempVector.y * Math.cos(radian) + tempVector.x * Math.sin(radian) + rotationPoint.y;\n  }\n\n  // const combiningPoint = new THREE.Vector2(valueX, valueY)\n\n  if (valueX < _constants.CONSTRAINT.xmin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS / 2 || valueX > _constants.CONSTRAINT.xmax - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS / 2 || valueY < _constants.CONSTRAINT.ymin + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS / 2 || valueY > _constants.CONSTRAINT.ymax - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS / 2) return false;\n\n  return true;\n}\n\n/*\r\n* 方法：图形边界判定\r\n* @param pointGroup 点的数组\r\n* @param rotationPoint 旋转点的不动点\r\n* @param options 对象，可以获取旋转方向，角度\r\n*/\nfunction graphicalRotationBoundaryJudgment(pointGroup, rotationPoint, options) {\n  // const collisionObjs = []\n  for (var i = 0; i < pointGroup.length; i++) {\n    var movePoint = pointGroup[i];\n    var canRotate = rotationBoundaryJudgment(movePoint, rotationPoint, options);\n    if (!canRotate) return false;\n  }\n  return true;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/GetAngle.js\n// module id = 9\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/GetAngle.js?");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectedShape = undefined;\nexports.setActivedObj = setActivedObj;\nexports.setSelectedShape = setSelectedShape;\nexports.default = documentInit;\nexports.cancelSelected = cancelSelected;\nexports.checkMatchInView = checkMatchInView;\nexports.removeEventListerner = removeEventListerner;\n\nvar _threeManger = __webpack_require__(4);\n\nvar _constants = __webpack_require__(5);\n\nvar _stateService = __webpack_require__(11);\n\nvar _stateService2 = _interopRequireDefault(_stateService);\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _getCenterPoint = __webpack_require__(12);\n\nvar _getCenterPoint2 = _interopRequireDefault(_getCenterPoint);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _checkRotatePosition = __webpack_require__(13);\n\nvar _checkRotatePosition2 = _interopRequireDefault(_checkRotatePosition);\n\nvar _checkMovePosition = __webpack_require__(14);\n\nvar _checkMovePosition2 = _interopRequireDefault(_checkMovePosition);\n\nvar _setZPosition = __webpack_require__(15);\n\nvar _setZPosition2 = _interopRequireDefault(_setZPosition);\n\nvar _DrawMerge = __webpack_require__(16);\n\nvar _move = __webpack_require__(7);\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _split = __webpack_require__(19);\n\nvar _split2 = _interopRequireDefault(_split);\n\nvar _rotation = __webpack_require__(22);\n\nvar _rotation2 = _interopRequireDefault(_rotation);\n\nvar _mergeStick = __webpack_require__(23);\n\nvar _mergeStick2 = _interopRequireDefault(_mergeStick);\n\nvar _adjustAngle = __webpack_require__(25);\n\nvar _adjustAngle2 = _interopRequireDefault(_adjustAngle);\n\nvar _closeShape = __webpack_require__(26);\n\nvar _closeShape2 = _interopRequireDefault(_closeShape);\n\nvar _angleDistortion = __webpack_require__(27);\n\nvar _angleDistortion2 = _interopRequireDefault(_angleDistortion);\n\nvar _sideDistortion = __webpack_require__(28);\n\nvar _sideDistortion2 = _interopRequireDefault(_sideDistortion);\n\nvar _selectStick = __webpack_require__(29);\n\nvar _selectStick2 = _interopRequireDefault(_selectStick);\n\nvar _destroyThreeObject = __webpack_require__(17);\n\nvar _destroyThreeObject2 = _interopRequireDefault(_destroyThreeObject);\n\nvar _messages = __webpack_require__(24);\n\nvar _messages2 = _interopRequireDefault(_messages);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// 当前操作的类型\n\n// import detectBoundary from '../Utils/detectBoundary.js'\nvar actionType = '';\n// 当前旋转的match\n\n// import runtime from '../runtime'\n\n// import catchPoints from '../Utils/catchPoints'\nvar selectedMatch = void 0;\n// 作为旋转点的match\nvar staticMatch = void 0;\n// 作为参考点的match\nvar activedObj = null;\nvar _connected = false;\n// 二维平面对象\nvar boundary = void 0;\n// 存放鼠标对象的data\nvar mouseData = {};\n// 当前操作的stick\nvar selectedStick = void 0;\nvar movePaths = [];\n// 当前选中的图形，用于删除\nvar selectedShape = exports.selectedShape = void 0;\nfunction setActivedObj(val) {\n  activedObj = val;\n}\nfunction setSelectedShape(val) {\n  if (val && (val.name === 'bgMatch1' || val.name === 'bgMatch2')) {\n    val = val.parent;\n  }\n  (0, _selectStick2.default)(val, selectedShape);\n  exports.selectedShape = selectedShape = val;\n}\n\nfunction documentInit() {\n  _presenter2.default.maxStick = 0;\n  _presenter2.default.view.addEventListener('mousedown', onDocumentClick, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('mousedown', onDocumentMouseDown, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('touchstart', onDocumentMouseDown, false);\n  _presenter2.default.view.addEventListener('mouseup', checkMatchInView, false);\n  _presenter2.default.view.addEventListener('touchend', checkMatchInView, false);\n  window.addEventListener('resize', onWindowResize, false);\n  setTimeout(function () {\n    onWindowResize();\n  }, 250);\n  // 国际化\n  $(_presenter2.default.view).find('.graphstable_foot .btn_del .tool_operate_text').text(_presenter2.default.i18n.puzzle_remove);\n  _presenter2.default.view.addEventListener('mouseleave', releaseEvent, false);\n  _presenter2.default.view.addEventListener('touchmove', releaseEvent, false);\n}\n\nfunction releaseEvent(event) {\n  var $target = $(document.elementFromPoint(event.clientX || event.changedTouches[0].clientX, event.clientY || event.changedTouches[0].clientY));\n  if (!$target || $target.closest($(_presenter2.default.view)).length === 0) {\n    if ($(_presenter2.default.view).find('.selector').length > 0 && $(_presenter2.default.view).find('.selector').scroller('getInst')) {\n      var scroller = $(_presenter2.default.view).find('.selector').scroller('getInst');\n      if (scroller.getActive()) {\n        scroller.releaseEvent();\n      }\n    }\n  }\n}\n\nfunction onDocumentClick(event) {\n  //  如果点击的非快捷键处消除选中状态\n  var match = $(event.target).hasClass('match') ? true : $(event.target.parentNode).hasClass('match') ? true : !!$(event.target.parentNode.parentNode).hasClass('match');\n  var del = $(event.target).closest('.btn_del').length !== 0;\n  if (!match && !del && _presenter2.default.selectDeleteMatch) {\n    (0, _stateService2.default)($('.selMatch'), 'selMatch');\n  }\n}\n\nfunction onWindowResize() {\n  var plane = _threeManger.scene.getObjectByName('boundary');\n  var container = $(_presenter2.default.view).find('.jigsaw_bd')[0];\n  _constants.REAL_ESTATE.width = container.offsetWidth;\n  _constants.REAL_ESTATE.height = container.offsetHeight;\n  _constants.CONSTRAINT.xmin = -_constants.REAL_ESTATE.width / 2 + 2;\n  _constants.CONSTRAINT.xmax = _constants.REAL_ESTATE.width / 2 - 2;\n  _constants.CONSTRAINT.ymin = -_constants.REAL_ESTATE.height / 2 + 2;\n  _constants.CONSTRAINT.ymax = _constants.REAL_ESTATE.height / 2 - 2;\n\n  _threeManger.camera.left = _constants.REAL_ESTATE.width / -2;\n  _threeManger.camera.right = _constants.REAL_ESTATE.width / 2;\n  _threeManger.camera.top = _constants.REAL_ESTATE.height / 2;\n  _threeManger.camera.bottom = _constants.REAL_ESTATE.height / -2;\n  _threeManger.camera.updateProjectionMatrix();\n  if (plane) {\n    (0, _destroyThreeObject2.default)(plane);\n    _threeManger.scene.remove(plane);\n    var planeXY = new THREE.Mesh(new THREE.PlaneBufferGeometry(_constants.REAL_ESTATE.width, _constants.REAL_ESTATE.height, 2, 2), new THREE.MeshBasicMaterial({\n      color: 0xff0000,\n      transparent: true,\n      opacity: 0\n    }));\n    planeXY.name = 'boundary';\n    _threeManger.scene.add(planeXY);\n  }\n  _threeManger.renderer.setSize(_constants.REAL_ESTATE.width, _constants.REAL_ESTATE.height);\n  _presenter2.default.render();\n}\n\nfunction intersectObjects(pointer, objects) {\n  var pageY = pointer.clientY + $(_presenter2.default.view).find('.com_layout').scrollTop() + $('body').scrollTop();\n  var pageX = pointer.clientX + $(_presenter2.default.view).find('.com_layout').scrollLeft() + $('body').scrollLeft();\n  _constants.REAL_ESTATE.offsetLeft = $(_presenter2.default.view).find('canvas').offset().left;\n  _constants.REAL_ESTATE.offsetTop = $(_presenter2.default.view).find('canvas').offset().top;\n  var pointerVector = new THREE.Vector2((pageX - _constants.REAL_ESTATE.offsetLeft) / _constants.REAL_ESTATE.width * 2 - 1, -((pageY - _constants.REAL_ESTATE.offsetTop) / _constants.REAL_ESTATE.height) * 2 + 1);\n  _threeManger.raycaster.setFromCamera(pointerVector, _threeManger.camera);\n\n  var intersections = _threeManger.raycaster.intersectObjects(objects, true);\n  return intersections;\n}\n\nfunction onDocumentMouseDown(event) {\n  var pointer = void 0;\n  boundary = _threeManger.scene.getObjectByName('boundary');\n\n  (0, _stateService2.default)($('.selMatch'), 'selMatch');\n  if (event.touches) {\n    if (event.touches.length === 1) {\n      event.preventDefault();\n      pointer = event.changedTouches[0];\n    } else {\n      return;\n    }\n  } else {\n    event.preventDefault();\n    pointer = event;\n  }\n\n  var intersects = intersectObjects(pointer, _threeManger.intersectObjs);\n  var startPoint = intersectObjects(pointer, [boundary])[0];\n  if (!startPoint) {\n    return;\n  }\n  mouseData.startPoint = startPoint.point;\n\n  if (intersects.length > 0) {\n    setSelectedShape(intersects[0].object);\n    var sel = intersects[0].object;\n    _threeManger.intersectObjs.current = sel.parent;\n\n    switch (sel.name) {\n      // 选中移动图标\n      case 'moveImage':\n        actionType = _constants.ACTION_TYPE.move;\n        break;\n      // 选中旋转图标\n      case 'rotationImage':\n        actionType = _constants.ACTION_TYPE.rotate;\n        mouseData.centerPoint = (0, _getCenterPoint2.default)(_threeManger.intersectObjs.current);\n        break;\n      // 选中棍子\n      case 'stick':\n      case 'stick1':\n      case 'stick2':\n        if (_threeManger.intersectObjs.current.parent.name === 'collection') {\n          if (_threeManger.intersectObjs.current.parent.userData.close) {\n            if (_threeManger.intersectObjs.current.parent.userData.stick === 4) {\n              actionType = _constants.ACTION_TYPE.stretching;\n              selectedStick = sel.parent;\n            }\n          } else {\n            actionType = _constants.ACTION_TYPE.move;\n          }\n          _threeManger.intersectObjs.current = _threeManger.intersectObjs.current.parent;\n        } else {\n          actionType = _constants.ACTION_TYPE.move;\n        }\n        break;\n      // 选中圆点\n      case 'match1':\n      case 'match2':\n        if (_threeManger.intersectObjs.current.parent.name === 'collection' && _threeManger.intersectObjs.current.parent.userData.close) {\n          if (_threeManger.intersectObjs.current.parent.userData.stick === 4) {\n            actionType = _constants.ACTION_TYPE.transform;\n            _threeManger.intersectObjs.current = _threeManger.intersectObjs.current.parent;\n            selectedMatch = sel;\n          }\n        } else {\n          if (!sel.userData.linkState) {\n            selectedMatch = sel;\n            staticMatch = _threeManger.intersectObjs.current.getObjectById(sel.userData.connectId);\n            mouseData.centerPoint = staticMatch.position;\n            actionType = _constants.ACTION_TYPE.rotate;\n            if (activedObj !== null) {\n              if (activedObj !== selectedMatch && activedObj.parent !== _threeManger.intersectObjs.current) {\n                _connected = true;\n              } else {\n                activedObj = selectedMatch;\n                _connected = false;\n              }\n            } else {\n              activedObj = selectedMatch;\n            }\n          }\n        }\n        break;\n      case 'bgMatch1':\n      case 'bgMatch2':\n        if (_threeManger.intersectObjs.current.parent.parent.name === 'collection' && _threeManger.intersectObjs.current.parent.parent.userData.close) {\n          if (_threeManger.intersectObjs.current.parent.parent.userData.stick === 4) {\n            actionType = _constants.ACTION_TYPE.transform;\n            _threeManger.intersectObjs.current = _threeManger.intersectObjs.current.parent.parent;\n            selectedMatch = sel.parent;\n          }\n        } else {\n          if (!sel.parent.userData.linkState) {\n            selectedMatch = sel.parent;\n            staticMatch = _threeManger.intersectObjs.current.parent.getObjectById(sel.parent.userData.connectId);\n            mouseData.centerPoint = staticMatch.position;\n            actionType = _constants.ACTION_TYPE.rotate;\n            if (activedObj !== null) {\n              if (activedObj !== selectedMatch && activedObj.parent !== _threeManger.intersectObjs.current.parent) {\n                _connected = true;\n              } else {\n                activedObj = selectedMatch;\n                _connected = false;\n              }\n            } else {\n              activedObj = selectedMatch;\n            }\n            _threeManger.intersectObjs.current = _threeManger.intersectObjs.current.parent;\n          }\n        }\n        break;\n    }\n    (0, _setZPosition2.default)(_threeManger.intersectObjs.current, selectedMatch);\n    _presenter2.default.render();\n  } else {\n    cancelSelected();\n  }\n\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('mousemove', onDocumentMouseMove, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('mouseup', onDocumentMouseUp, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('touchend', onDocumentMouseUp, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('touchcancel', onDocumentMouseUp, false);\n\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('touchmove', onDocumentMouseMove, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('mouseout', onDocumentMouseUp, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].addEventListener('touchleave', onDocumentMouseUp, false);\n}\n\nfunction cancelSelected() {\n  actionType = _constants.ACTION_TYPE.split;\n  activedObj = null;\n  _threeManger.intersectObjs.current = null;\n  selectedMatch = null;\n  staticMatch = null;\n  setSelectedShape(null);\n  movePaths = [];\n  _presenter2.default.render();\n}\n\nfunction onDocumentMouseMove(event) {\n  var pointer = event.changedTouches ? event.changedTouches[0] : event;\n  var movePoint = intersectObjects(pointer, [boundary])[0];\n  if (!movePoint) {\n    return;\n  }\n  mouseData.movePoint = movePoint.point;\n\n  if (actionType === 'split') {\n    movePaths.push(pointer);\n    // let intersects = intersectObjects(pointer, intersectObjs);\n    // if(intersects.length > 0){\n    //     let current = intersects[0].object;\n    //     intersectObjs.current = current.parent;\n    //     if(current.userData.linkState){\n    //         split(current,intersectObjs.current.parent.getObjectById(current.userData.linkId))\n    //         actionType = '';\n    //     }\n    // }\n    return;\n  }\n\n  if (Math.abs(mouseData.movePoint.x - mouseData.startPoint.x) > 5 || Math.abs(mouseData.movePoint.y - mouseData.startPoint.y) > 5) {\n    activedObj = null;\n    _connected = false;\n\n    if (actionType === 'move') {\n      activedObj = null;\n      _connected = false;\n      var distanceX = +mouseData.movePoint.x - mouseData.startPoint.x;\n      var distanceY = +mouseData.movePoint.y - mouseData.startPoint.y;\n      var disVector = new THREE.Vector2(distanceX, distanceY);\n      (0, _checkMovePosition2.default)(_threeManger.intersectObjs.current, disVector);\n      (0, _move2.default)(_threeManger.intersectObjs.current, disVector);\n      mouseData.startPoint = mouseData.movePoint;\n    }\n\n    if (actionType === 'rotate' || actionType === 'rotateDone') {\n      var rotation = (0, _GetAngle.getAngle)(mouseData.startPoint, mouseData.centerPoint, mouseData.movePoint);\n      var canRotate = (0, _checkRotatePosition2.default)(_threeManger.intersectObjs.current, mouseData.centerPoint, rotation);\n      canRotate ? (0, _rotation2.default)(_threeManger.intersectObjs.current, mouseData.centerPoint, rotation) : null;\n      mouseData.startPoint = mouseData.movePoint;\n      actionType = 'rotateDone';\n    }\n\n    if (actionType === 'transform') {\n      (0, _angleDistortion2.default)(selectedMatch, mouseData.movePoint);\n    }\n\n    if (actionType === _constants.ACTION_TYPE.stretching) {\n      (0, _sideDistortion2.default)(selectedStick, mouseData.startPoint, mouseData.movePoint);\n      mouseData.startPoint = mouseData.movePoint;\n    }\n    _presenter2.default.render();\n  }\n}\n\nfunction onDocumentMouseUp(event) {\n  if (actionType === 'split') {\n    var matchs = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = _threeManger.intersectObjs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var obj = _step.value;\n\n        if (obj.userData.linkState) {\n          matchs.push(obj);\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = movePaths[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var pointer = _step2.value;\n\n        var intersects = intersectObjects(pointer, matchs);\n        if (intersects.length > 0) {\n          var current = intersects[0].object;\n          if (current.name === 'bgMatch1' || current.name === 'bgMatch2') {\n            current = current.parent;\n          }\n          _threeManger.intersectObjs.current = current.parent;\n          (0, _setZPosition2.default)(_threeManger.intersectObjs.current.parent);\n          // if(current.name.indexof('match')>-1 && current.userData.linkState){\n          (0, _split2.default)(current, _threeManger.intersectObjs.current.parent.getObjectById(current.userData.linkId));\n          break;\n          // }\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    _presenter2.default.render();\n  }\n\n  if (_connected && activedObj) {\n    var err = '';\n    if (activedObj.parent.parent.name === 'collection' && activedObj.parent.parent === selectedMatch.parent.parent) {\n      actionType = _constants.ACTION_TYPE.close;\n      if ((0, _closeShape2.default)(selectedMatch, activedObj) !== 'error') {\n        (0, _DrawMerge.addMergeIcon)(activedObj.parent.parent);\n        setSelectedShape(selectedMatch);\n      } else {\n        err = true;\n      }\n    } else {\n      actionType = _constants.ACTION_TYPE.connect;\n      if ((0, _mergeStick2.default)(selectedMatch, activedObj) === 'error') {\n        err = true;\n      };\n      setSelectedShape(selectedMatch);\n      selectedMatch.parent.parent.name === 'collection' ? (0, _setZPosition2.default)(selectedMatch.parent.parent) : null;\n    }\n    _presenter2.default.render();\n    err ? activedObj = selectedMatch : activedObj = null;\n    _connected = false;\n  }\n\n  if (actionType === 'rotateDone') {\n    // 判断旋转后是否与连接的棍子平行或垂直\n    if (staticMatch && staticMatch.userData.linkState) {\n      (0, _adjustAngle2.default)(staticMatch);\n    }\n    if (selectedMatch && !selectedMatch.userData.linkState) {\n      setSelectedShape(staticMatch.parent.getObjectByName('stick'));\n    }\n    _presenter2.default.render();\n  }\n\n  actionType = '';\n  _threeManger.intersectObjs.current = null;\n  selectedMatch = null;\n  staticMatch = null;\n  mouseData = {};\n\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('mousemove', onDocumentMouseMove, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('mouseup', onDocumentMouseUp, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('mouseout', onDocumentMouseUp, false);\n\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('touchmove', onDocumentMouseMove, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('touchend', onDocumentMouseUp, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('touchcancel', onDocumentMouseUp, false);\n  _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('touchleave', onDocumentMouseUp, false);\n}\n\nfunction checkMatchInView(event) {\n  var pointer = void 0;\n  boundary = _threeManger.scene.getObjectByName('boundary');\n\n  if (event.changedTouches) {\n    pointer = event.changedTouches[0];\n  } else {\n    pointer = event;\n  }\n\n  var startPoint = intersectObjects(pointer, [boundary])[0];\n  if (startPoint && _presenter2.default._stickLength) {\n    if (_presenter2.default.maxStick < 15) {\n      _presenter2.default.maxStick++;\n      var currentStick = (0, _threeManger.addThreeShape)(_presenter2.default._stickLength, startPoint.point);\n      (0, _setZPosition2.default)(currentStick);\n    } else {\n      (0, _messages2.default)('maxStickLengthError');\n    }\n    // selectedShape = currentStick;\n    (0, _stateService2.default)($('.selMatch'), 'selMatch');\n    // setSelectedShape(null);\n  }\n  _presenter2.default._stickLength = null;\n  if (!startPoint && $(event.target).closest('.btn_del').length === 0) {\n    !_presenter2.default._notStateChanged ? setSelectedShape(null) : null;\n  }\n  _presenter2.default.render();\n}\n\nfunction removeEventListerner() {\n  if (_presenter2.default.view.getElementsByTagName('canvas')[0]) {\n    _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('mousedown', onDocumentMouseDown, false);\n    _presenter2.default.view.getElementsByTagName('canvas')[0].removeEventListener('touchstart', onDocumentMouseDown, false);\n    _presenter2.default.view.removeEventListener('mouseup', checkMatchInView, false);\n    _presenter2.default.view.removeEventListener('touchend', checkMatchInView, false);\n    _presenter2.default.view.removeEventListener('mousedown', onDocumentClick, false);\n  }\n  window.removeEventListener('resize', onWindowResize, false);\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/DocumentEvent.js\n// module id = 10\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/DocumentEvent.js?");

/***/ }),
/* 11 */
/***/ (function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (selectDom, className) {\n  if (className) {\n    selectDom.removeClass(className);\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/stateService.js\n// module id = 11\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/stateService.js?");

/***/ }),
/* 12 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (collection) {\n  if (!collection.userData.close) {\n    return;\n  }\n  var pointsY = [];\n  var pointsX = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = collection.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var stick = _step.value;\n\n      if (stick.name !== 'unit') continue;\n      var match1 = stick.getObjectByName('match1');\n      var match2 = stick.getObjectByName('match2');\n      pointsY.push(match1.position.y);\n      pointsY.push(match2.position.y);\n      pointsX.push(match1.position.x);\n      pointsX.push(match2.position.x);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var maxY = Math.max.apply(Math, pointsY);\n  var maxX = Math.max.apply(Math, pointsX);\n  var minX = Math.min.apply(Math, pointsX);\n  var minY = Math.min.apply(Math, pointsY);\n  return new THREE.Vector2((maxX + minX) / 2, (maxY + minY) / 2);\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/getCenterPoint.js\n// module id = 12\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/getCenterPoint.js?");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nexports.default = function (obj, center, angle) {\n  var points = [];\n  // if (options.action == 'move') {\n\n  if (obj.name === 'unit') {\n    points.push(obj.getObjectByName('match1').position, obj.getObjectByName('match2').position);\n  } else {\n    var children = obj.children;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name !== 'unit') continue;\n      points.push(children[i].getObjectByName('match1').position, children[i].getObjectByName('match2').position);\n    }\n  }\n\n  var collision = (0, _GetAngle.graphicalRotationBoundaryJudgment)(points, center, angle);\n\n  return collision;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/checkRotatePosition.js\n// module id = 13\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/checkRotatePosition.js?");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nexports.default = function (obj, distantce) {\n  var points = [];\n\n  if (obj.name === 'unit') {\n    points.push(obj.getObjectByName('match1').position, obj.getObjectByName('match2').position);\n  } else if (obj.name === 'collection') {\n    var children = obj.children;\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name !== 'unit') {\n        points.push(children[i].position);\n      } else {\n        points.push(children[i].getObjectByName('match1').position, children[i].getObjectByName('match2').position);\n      }\n    }\n  }\n\n  (0, _GetAngle.movingBoundaryDetermination)(points, distantce);\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/checkMovePosition.js\n// module id = 14\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/checkMovePosition.js?");

/***/ }),
/* 15 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setZPositionValue = setZPositionValue;\nvar zPosition = 0;\n\nexports.default = function (shape, match) {\n  if (!shape) {\n    return;\n  }\n  ++zPosition;\n  if (shape.parent && shape.parent.name === 'collection') {\n    if (match) {\n      var units = shape.parent.children;\n\n      for (var i = 0; i < units.length; i++) {\n        if (!units[i].getObjectByName('match1').userData.linkState && units[i].getObjectByName('match1') !== match) {\n          units[i].getObjectByName('match1').position.z = 0.5;\n        } else {\n          units[i].getObjectByName('match1').position.z = 0.1;\n        }\n        if (!units[i].getObjectByName('match2').userData.linkState && units[i].getObjectByName('match1') !== match) {\n          units[i].getObjectByName('match2').position.z = 0.5;\n        } else {\n          units[i].getObjectByName('match2').position.z = 0.1;\n        }\n      }\n      match.position.z = 0.9;\n    }\n    shape = shape.parent;\n  } else if (shape.name === 'unit') {\n    shape.getObjectByName('match1').position.z = 0.1;\n    shape.getObjectByName('match2').position.z = 0.1;\n  }\n  shape.position.z = zPosition;\n};\n\nfunction setZPositionValue(val) {\n  zPosition = val;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/setZPosition.js\n// module id = 15\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/setZPosition.js?");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addMergeIcon = addMergeIcon;\nexports.removeMergeIcon = removeMergeIcon;\nexports.updateMergeIcon = updateMergeIcon;\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _destroyThreeObject = __webpack_require__(17);\n\nvar _destroyThreeObject2 = _interopRequireDefault(_destroyThreeObject);\n\nvar _threeManger = __webpack_require__(4);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _constants = __webpack_require__(5);\n\nvar _detectBoundary = __webpack_require__(18);\n\nvar _move = __webpack_require__(7);\n\nvar _move2 = _interopRequireDefault(_move);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * 组合图形组合封闭时添加操作图标\r\n * @param mergeShape\r\n */\nfunction addMergeIcon(mergeShape) {\n  if (!mergeShape.userData.close) return;\n  Promise.all((0, _constants.getMaterials)()).then(function (arr) {\n    // 获取最上方的点\n    var topMatch = null;\n    var unitId = null;\n    var pointsY = [];\n    var pointsX = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = mergeShape.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var stick = _step.value;\n\n        if (stick.name !== 'unit') continue;\n        var match1 = stick.getObjectByName('match1');\n        if (!topMatch) topMatch = match1;\n        if (match1.position.y > topMatch.position.y) topMatch = match1;\n        var _match = stick.getObjectByName('match2');\n        if (_match.position.y > topMatch.position.y) topMatch = _match;\n        pointsY.push(match1.position.y);\n        pointsY.push(_match.position.y);\n        pointsX.push(match1.position.x);\n        pointsX.push(_match.position.x);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    unitId = topMatch.parent.id;\n    // 测试\n    // 计算移动图标位置\n    var center = topMatch.position;\n    var point1 = mergeShape.getObjectById(topMatch.userData.connectId).position;\n    var match2 = mergeShape.getObjectById(mergeShape.getObjectById(topMatch.userData.linkId).userData.connectId);\n    var point2 = match2.position;\n    var clockwise = (0, _GetAngle.getAngle)(point1, center, point2).clockWise;\n\n    var referVector = (0, _GetAngle.rotationAngleVector)(point1, center, 90, !clockwise).vector;\n    var referPoint = new THREE.Vector2((point1.x + center.x) / 2, (point1.y + center.y) / 2);\n    var position = new THREE.Vector2().addVectors(referPoint, referVector.setLength(20 * _presenter2.default.model._ZoomIcon));\n    // 画移动图标\n    // let loader = new THREE.TextureLoader();\n    // loader.setCrossOrigin('anonymous');\n    // let texture = loader.load(presenter.path+'resources/move.png');\n    // let material = new THREE.MeshBasicMaterial({ map: texture,transparent: true});\n    var moveMesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(24 * _presenter2.default.model._ZoomIcon, 24 * _presenter2.default.model._ZoomIcon), arr[0]);\n    moveMesh.position.x = position.x;\n    moveMesh.position.y = position.y;\n    moveMesh.position.z = 0.95;\n    moveMesh.name = 'moveImage';\n    moveMesh.userData.matchId = topMatch.id;\n    _threeManger.intersectObjs.push(moveMesh);\n    mergeShape.add(moveMesh);\n\n    // 计算旋转图标位置\n    // let maxY = Math.max(...pointsY);\n    // let maxX = Math.max(...pointsX);\n    // let minX = Math.min(...pointsX);\n    // let minY = Math.min(...pointsY);\n    // let boundcenter = new THREE.Vector2((maxX + minX) / 2, (maxY + minY) / 2);\n    // let directionVec = new THREE.Vector2().subVectors(point2, boundcenter);\n    // let rotationPosition = new THREE.Vector2().addVectors(point2, directionVec.setLength(24 * presenter.model._ZoomIcon));\n    var point3 = mergeShape.getObjectById(mergeShape.getObjectById(match2.userData.linkId).userData.connectId).position;\n    var rotation = (0, _GetAngle.getAngle)(point3, center, point2);\n    var directionVec = void 0;\n    if (Math.round(point3.x * 1000) === Math.round(center.x * 1000) && Math.round(point3.y * 1000) === Math.round(center.y * 1000)) {\n      directionVec = new THREE.Vector2().subVectors(point2, point3);\n    } else if (rotation.angle === 0) {\n      directionVec = referVector.negate();\n    } else {\n      directionVec = (0, _GetAngle.rotationAngleVector)(point3, center, 90, rotation.clockWise).vector;\n    }\n    var rotationPosition = new THREE.Vector2().addVectors(point2, directionVec.setLength(24 * _presenter2.default.model._ZoomIcon));\n\n    // 画旋转图标\n    // let loader2 = new THREE.TextureLoader();\n    // loader2.setCrossOrigin('anonymous');\n    // let texture2 = loader2.load(presenter.path+'resources/rotation.png');\n    // let material2 = new THREE.MeshBasicMaterial({ map: texture2,transparent: true});\n    var rotationMesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(24 * _presenter2.default.model._ZoomIcon, 24 * _presenter2.default.model._ZoomIcon), arr[1]);\n\n    rotationMesh.name = 'rotationImage';\n    rotationMesh.position.x = rotationPosition.x;\n    rotationMesh.position.y = rotationPosition.y;\n    rotationMesh.position.z = 0.95;\n    rotationMesh.userData.matchId = match2.id;\n    rotationMesh.userData.unitId = unitId;\n    _threeManger.intersectObjs.push(rotationMesh);\n    mergeShape.add(rotationMesh);\n    _presenter2.default.render();\n\n    var inside = (0, _detectBoundary.checkInWindow)([position]);\n    if (inside) {\n      inside.x === 0 ? null : inside.x > 0 ? inside.x += 24 * _presenter2.default.model._ZoomIcon / 2 : inside.x -= 24 * _presenter2.default.model._ZoomIcon / 2;\n      inside.y === 0 ? null : inside.y > 0 ? inside.y += 24 * _presenter2.default.model._ZoomIcon / 2 : inside.y -= 24 * _presenter2.default.model._ZoomIcon / 2;\n      (0, _move2.default)(mergeShape, inside);\n    }\n  });\n}\n\n/**\r\n * 组合图形切割后移除操作图标\r\n * @param mergeShape\r\n */\n/**\r\n * Created by Administrator on 2015/12/9.\r\n */\nfunction removeMergeIcon(mergeShape) {\n  var moveImage = mergeShape.getObjectByName('moveImage');\n  var index = _threeManger.intersectObjs.indexOf(moveImage);\n  _threeManger.intersectObjs.splice(index, 1);\n  mergeShape.remove(moveImage);\n  (0, _destroyThreeObject2.default)(moveImage);\n  var rotationImage = mergeShape.getObjectByName('rotationImage');\n  var index2 = _threeManger.intersectObjs.indexOf(rotationImage);\n  _threeManger.intersectObjs.splice(index2, 1);\n  mergeShape.remove(rotationImage);\n  (0, _destroyThreeObject2.default)(rotationImage);\n  _presenter2.default.render();\n}\n\nfunction updateMergeIcon(mergeShape) {\n  'use strict';\n\n  var rotationMesh = mergeShape.getObjectByName('rotationImage');\n  var moveMesh = mergeShape.getObjectByName('moveImage');\n  //   const rotationPoint = mergeShape.getObjectById(rotationMesh.userData.matchId).position\n\n  // let pointsY = [];\n  // let pointsX = [];\n  // for (let stick of mergeShape.children) {\n  // \tif (stick.name != 'unit') continue;\n  // \tlet match1 = stick.getObjectByName('match1');\n  // \tlet match2 = stick.getObjectByName('match2');\n  // \tpointsY.push(match1.position.y)\n  // \tpointsY.push(match2.position.y)\n  // \tpointsX.push(match1.position.x)\n  // \tpointsX.push(match2.position.x)\n  // }\n  // 计算旋转图标位置\n  // let maxY = Math.max(...pointsY);\n  // let maxX = Math.max(...pointsX);\n  // let minX = Math.min(...pointsX);\n  // let minY = Math.min(...pointsY);\n  // let boundcenter = new THREE.Vector2((maxX + minX) / 2, (maxY + minY) / 2);\n  // let directionVec = new THREE.Vector2().subVectors(rotationPoint, boundcenter);\n  // let rotationPosition = new THREE.Vector2().addVectors(rotationPoint, directionVec.setLength(20));\n  // rotationMesh.position.x = rotationPosition.x;\n  // rotationMesh.position.y = rotationPosition.y;\n\n  // 计算移动图标位置\n  var topMatch = mergeShape.getObjectById(moveMesh.userData.matchId);\n  var center = topMatch.position;\n  var match2 = mergeShape.getObjectById(mergeShape.getObjectById(topMatch.userData.linkId).userData.connectId);\n  var point1 = mergeShape.getObjectById(topMatch.userData.connectId).position;\n  var point2 = match2.position;\n  var clockwise = (0, _GetAngle.getAngle)(point1, center, point2).clockWise;\n\n  var referVector = (0, _GetAngle.rotationAngleVector)(point1, center, 90, !clockwise).vector;\n  var referPoint = new THREE.Vector2((point1.x + center.x) / 2, (point1.y + center.y) / 2);\n  var position = new THREE.Vector2().addVectors(referPoint, referVector.setLength(24 * _presenter2.default.model._ZoomIcon));\n  moveMesh.position.x = position.x;\n  moveMesh.position.y = position.y;\n\n  var point3 = mergeShape.getObjectById(mergeShape.getObjectById(match2.userData.linkId).userData.connectId).position;\n  var rotation = (0, _GetAngle.getAngle)(point3, center, point2);\n  var directionVec = (0, _GetAngle.rotationAngleVector)(point3, center, 90, rotation.clockWise).vector;\n  var rotationPosition = new THREE.Vector2().addVectors(point2, directionVec.setLength(24 * _presenter2.default.model._ZoomIcon));\n  rotationMesh.position.x = rotationPosition.x;\n  rotationMesh.position.y = rotationPosition.y;\n\n  _presenter2.default.render();\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/DrawMerge.js\n// module id = 16\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/DrawMerge.js?");

/***/ }),
/* 17 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = destroyThreeObject;\nfunction destroyThreeObject(object) {\n  'use strict';\n\n  if (!object) return;\n  if (object.children && object.children.length > 0) {\n    for (var i = 0; i < object.children.length; i++) {\n      destroyThreeObject(object.children[i]);\n    }\n  }\n  if (object.geometry) object.geometry.dispose();\n  if (object.material) {\n    object.material.dispose();\n    if (object.material.map && object.material.map.dispose) object.material.map.dispose();\n  }\n  object = null;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/destroyThreeObject.js\n// module id = 17\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/destroyThreeObject.js?");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkInWindow = checkInWindow;\n\nvar _constants = __webpack_require__(5);\n\nexports.default = function (pointGroup) {\n  // 存放x, y轴上的最值\n  var pointXGroup = [];\n  var pointYGroup = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pointGroup[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var point = _step.value;\n\n      pointXGroup.push(point.x);\n      pointYGroup.push(point.y);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var minXPoint = Math.min.apply(Math, pointXGroup);\n  var maxXPoint = Math.max.apply(Math, pointXGroup);\n  var minYPoint = Math.min.apply(Math, pointYGroup);\n  var maxYPoint = Math.max.apply(Math, pointYGroup);\n\n  if (minXPoint < -_constants.REAL_ESTATE.width / 2 + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n    return true;\n  }\n  if (maxXPoint > _constants.REAL_ESTATE.width / 2 - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n    return true;\n  }\n  if (minYPoint < -_constants.REAL_ESTATE.height / 2 + _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n    return true;\n  }\n  if (maxYPoint > _constants.REAL_ESTATE.height / 2 - _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS) {\n    return true;\n  }\n\n  return false;\n};\n\nfunction checkInWindow(pointGroup) {\n  // 存放x, y轴上的最值\n  var pointXGroup = [];\n  var pointYGroup = [];\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = pointGroup[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var point = _step2.value;\n\n      pointXGroup.push(point.x);\n      pointYGroup.push(point.y);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var minXPoint = Math.min.apply(Math, pointXGroup);\n  var maxXPoint = Math.max.apply(Math, pointXGroup);\n  var minYPoint = Math.min.apply(Math, pointYGroup);\n  var maxYPoint = Math.max.apply(Math, pointYGroup);\n\n  var outside = '';\n  if (-_constants.REAL_ESTATE.width / 2 > maxXPoint) {\n    outside = {\n      x: -_constants.REAL_ESTATE.width / 2 - maxXPoint,\n      y: 0\n    };\n  }\n  if (_constants.REAL_ESTATE.height / 2 < minYPoint) {\n    outside ? outside.y = _constants.REAL_ESTATE.height / 2 - minYPoint : outside = {\n      x: 0,\n      y: _constants.REAL_ESTATE.height / 2 - minYPoint\n    };\n  }\n\n  if (-_constants.REAL_ESTATE.height / 2 > maxYPoint) {\n    outside ? outside.y = -_constants.REAL_ESTATE.height / 2 - maxYPoint : outside = {\n      x: 0,\n      y: -_constants.REAL_ESTATE.height / 2 - maxYPoint\n    };\n  }\n\n  if (_constants.REAL_ESTATE.width / 2 < minXPoint) {\n    outside ? outside.x = _constants.REAL_ESTATE.width / 2 - minXPoint : outside = {\n      x: _constants.REAL_ESTATE.width / 2 - minXPoint,\n      y: 0\n    };\n  }\n\n  return outside;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/detectBoundary.js\n// module id = 18\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/detectBoundary.js?");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _checkStickPosition = __webpack_require__(20);\n\nvar _checkStickPosition2 = _interopRequireDefault(_checkStickPosition);\n\nvar _DrawMerge = __webpack_require__(16);\n\nvar _rotation = __webpack_require__(22);\n\nvar _rotation2 = _interopRequireDefault(_rotation);\n\nvar _threeManger = __webpack_require__(4);\n\nvar _constants = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (refer, target) {\n  if (refer && (refer.name === 'bgMatch1' || refer.name === 'bgMatch2')) {\n    refer = refer.parent;\n  }\n  if (target && (target.name === 'bgMatch1' || target.name === 'bgMatch2')) {\n    target = target.parent;\n  }\n  // 与refer连接的另一个端点\n  var referConnectMatch = refer.parent.getObjectById(refer.userData.connectId);\n  // 与target连接的另一个端点\n  var targetConnectMatch = target.parent.getObjectById(target.userData.connectId);\n  // refer所在棍子与target所在棍子之间的夹角\n  var angle = (0, _GetAngle.getAngle)(targetConnectMatch.position, refer.position, referConnectMatch.position);\n  // 该组合的父对象\n  var parent = refer.parent.parent;\n\n  rotation(target, targetConnectMatch, refer, referConnectMatch, angle);\n  var close = parent.userData.close;\n  // 闭合图形转为非闭合\n  if (parent.userData.close) {\n    parent.userData.close = false;\n    (0, _DrawMerge.removeMergeIcon)(parent);\n  } else {\n    // 各自端点是否有链接点\n    if (referConnectMatch.userData.linkState && targetConnectMatch.userData.linkState) {\n      var extraStick = parent.getObjectById(targetConnectMatch.userData.linkId).parent;\n      var emptyCollection = new THREE.Object3D();\n\n      emptyCollection.name = 'collection';\n      emptyCollection.userData.stick = 2;\n      emptyCollection.add(target.parent);\n      emptyCollection.add(extraStick);\n      emptyCollection.position.z = parent.position.z;\n      parent.userData.stick--;\n      parent.userData.stick--;\n      _threeManger.scene.add(emptyCollection);\n    } else if (referConnectMatch.userData.linkState || targetConnectMatch.userData.linkState) {\n      !referConnectMatch.userData.linkState ? (_threeManger.scene.add(refer.parent), parent.remove(refer.parent), refer.parent.position.z = parent.position.z) : (_threeManger.scene.add(target.parent), parent.remove(target.parent), target.parent.position.z = parent.position.z);\n      parent.userData.stick--;\n    } else {\n      refer.parent.position.z = parent.position.z;\n      target.parent.position.z = parent.position.z;\n      _threeManger.scene.add(refer.parent);\n      _threeManger.scene.add(target.parent);\n      _threeManger.scene.remove(parent);\n    }\n  }\n  refer.userData.linkState = !refer.userData.linkState;\n  refer.userData.linkId = null;\n  target.userData.linkState = !target.userData.linkState;\n  target.userData.linkId = null;\n  if (!close) {\n    var targetStick = target.parent.parent.name === 'collection' ? target.parent.parent : target.parent;\n    var referStick = refer.parent.parent.name === 'collection' ? refer.parent.parent : refer.parent;\n    (0, _checkStickPosition2.default)(targetStick);\n    (0, _checkStickPosition2.default)(referStick);\n  }\n};\n\nfunction rotation(target, targetConnectMatch, refer, referConnectMatch, angle) {\n  'use strict';\n\n  if (new THREE.Vector2().subVectors(target.position, refer.position).length() > _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS * 2 + 2) return;\n  angle.angleValue = 3;\n  (0, _rotation2.default)(target.parent, targetConnectMatch.position, angle);\n  angle.clockWise = !angle.clockWise;\n  (0, _rotation2.default)(refer.parent, referConnectMatch.position, angle);\n\n  angle.clockWise = !angle.clockWise;\n  rotation(target, targetConnectMatch, refer, referConnectMatch, angle);\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/split.js\n// module id = 19\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/split.js?");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (object) {\n  var arr = [];\n  if (object.name === 'collection') {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = object.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var unit = _step.value;\n\n        var match1 = unit.getObjectByName('match1');\n        var match2 = unit.getObjectByName('match2');\n        arr.push(match1.position);\n        arr.push(match2.position);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n  if (object.name === 'unit') {\n    var _match = object.getObjectByName('match1');\n    var _match2 = object.getObjectByName('match2');\n    arr.push(_match.position);\n    arr.push(_match2.position);\n  }\n  var outside = (0, _detectBoundary.checkInWindow)(arr);\n  if (outside !== '') {\n    (0, _removeShape2.default)(object);\n    // const distance = new THREE.Vector2(0, 0)\n    // switch (outside) {\n    //   case 'left':\n    //     distance.x = match1.position.x > match2.position.x ? -REAL_ESTATE.width / 2 - match1.position.x : -REAL_ESTATE.width / 2 - match2.position.x\n    //     move(object, distance)\n    //     break\n    //   case 'top':\n    //     distance.y = match1.position.y > match2.position.y ? REAL_ESTATE.height / 2 - match2.position.y : REAL_ESTATE.height / 2 - match1.position.y\n    //     move(object, distance)\n    //     break\n    //   case 'right':\n    //     distance.x = match1.position.x > match2.position.x ? REAL_ESTATE.width / 2 - match2.position.x : REAL_ESTATE.width / 2 - match1.position.x\n    //     move(object, distance)\n    //     break\n    //   case 'bottom':\n    //     distance.y = match1.position.y > match2.position.y ? -REAL_ESTATE.height / 2 - match1.position.y : -REAL_ESTATE.height / 2 - match2.position.y\n    //     move(object, distance)\n    //     break\n    //   default:\n    //     break\n    // }\n  }\n};\n\nvar _detectBoundary = __webpack_require__(18);\n\nvar _removeShape = __webpack_require__(21);\n\nvar _removeShape2 = _interopRequireDefault(_removeShape);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/checkStickPosition.js\n// module id = 20\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/checkStickPosition.js?");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _threeManger = __webpack_require__(4);\n\nvar _destroyThreeObject = __webpack_require__(17);\n\nvar _destroyThreeObject2 = _interopRequireDefault(_destroyThreeObject);\n\nvar _DocumentEvent = __webpack_require__(10);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (object) {\n  if (object) {\n    _presenter2.default.maxStick = object.userData.stick ? _presenter2.default.maxStick - object.userData.stick : _presenter2.default.maxStick - 1;\n    _threeManger.scene.remove(object);\n    spliceIntersect(object);\n    (0, _destroyThreeObject2.default)(object);\n    return;\n  }\n  if (!_DocumentEvent.selectedShape) {\n    return;\n  }\n  var group = _DocumentEvent.selectedShape.parent.parent.name === 'collection' ? _DocumentEvent.selectedShape.parent.parent : _DocumentEvent.selectedShape.parent;\n  _presenter2.default.maxStick = group.userData.stick ? _presenter2.default.maxStick - group.userData.stick : _presenter2.default.maxStick - 1;\n  _threeManger.scene.remove(group);\n  spliceIntersect(group);\n  (0, _destroyThreeObject2.default)(group);\n  (0, _DocumentEvent.setSelectedShape)(null);\n  (0, _DocumentEvent.setActivedObj)(null);\n};\n\nfunction spliceIntersect(shape) {\n  'use strict';\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = shape.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      spliceIntersect(child);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var pos = _threeManger.intersectObjs.indexOf(shape);\n  if (pos > -1) {\n    _threeManger.intersectObjs.splice(pos, 1);\n  }\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/removeShape.js\n// module id = 21\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/removeShape.js?");

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rotation;\n\nvar _updateVertices = __webpack_require__(8);\n\nvar _updateVertices2 = _interopRequireDefault(_updateVertices);\n\nvar _GetAngle = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Created by Administrator on 2015/12/11.\r\n */\nfunction rotation(object, center, angle) {\n  'use strict';\n\n  if (object.name === 'unit') {\n    var match1 = object.getObjectByName('match1');\n    var match2 = object.getObjectByName('match2');\n    match1.userData.position = (0, _GetAngle.rotationAngleVector)(match1.position, center, angle.angleValue, angle.clockWise).point;\n    match2.userData.position = (0, _GetAngle.rotationAngleVector)(match2.position, center, angle.angleValue, angle.clockWise).point;\n    (0, _updateVertices2.default)(object);\n  } else if (object.name === 'collection') {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = object.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var stick = _step.value;\n\n        rotation(stick, center, angle);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (object.name === 'moveImage' || object.name === 'rotationImage') {\n    var position = (0, _GetAngle.rotationAngleVector)(object.position, center, angle.angleValue, angle.clockWise).point;\n    object.position.x = position.x;\n    object.position.y = position.y;\n  }\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/rotation.js\n// module id = 22\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/rotation.js?");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _move = __webpack_require__(7);\n\nvar _move2 = _interopRequireDefault(_move);\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _rotation = __webpack_require__(22);\n\nvar _rotation2 = _interopRequireDefault(_rotation);\n\nvar _threeManger = __webpack_require__(4);\n\nvar _messages = __webpack_require__(24);\n\nvar _messages2 = _interopRequireDefault(_messages);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (refer, opera) {\n  'use strict';\n\n  var referGroup = refer.parent.parent.name === 'collection' ? refer.parent.parent : null;\n  var operaGroup = opera.parent.parent.name === 'collection' ? opera.parent.parent : null;\n\n  var stickNum = referGroup ? referGroup.userData.stick : 1;\n  stickNum += operaGroup ? operaGroup.userData.stick : 1;\n\n  if (stickNum > 4) {\n    (0, _messages2.default)('maxStickNumError');\n    return 'error';\n  } // 合成后小棒数量大于等于4返回\n\n  var group = referGroup || operaGroup || new THREE.Object3D();\n\n  var disVector = new THREE.Vector2().subVectors(refer.position, opera.position);\n\n  // 获取移动的小棒在目标小棒的方向\n  var match1 = refer.parent.getObjectById(refer.userData.connectId);\n  var point1 = match1.position;\n  var match2 = opera.parent.getObjectById(opera.userData.connectId);\n  var point2 = match2.position;\n\n  var orgAngle = (0, _GetAngle.getAngle)(point1, refer.position, point2);\n\n  // 移动小棒\n  (0, _move2.default)(operaGroup || opera.parent, disVector);\n\n  // 重叠\n  var angle = (0, _GetAngle.getAngle)(point1, refer.position, point2);\n  if (angle.angleValue < 5) {\n    (0, _rotation2.default)(operaGroup || opera.parent, refer.position, { angleValue: 10, clockWise: orgAngle.clockWise });\n  }\n\n  var adjustAngle = 90 - angle.angleValue;\n  // 垂直感应\n  if (Math.abs(adjustAngle) < 5 && adjustAngle !== 0) {\n    var clockWise = adjustAngle > 0 ? angle.clockWise : !angle.clockWise;\n    (0, _rotation2.default)(operaGroup || opera.parent, refer.position, { angleValue: Math.abs(adjustAngle), clockWise: clockWise });\n  }\n\n  // 平行感应\n  if (match1.userData.linkState) {\n    var oppositeMatch1 = group.getObjectById(match1.userData.linkId);\n    var oppositeMatch2 = group.getObjectById(oppositeMatch1.userData.connectId);\n\n    angle = (0, _GetAngle.getVectorAngle)(new THREE.Vector2().subVectors(match2.position, opera.position), new THREE.Vector2().subVectors(oppositeMatch2.position, oppositeMatch1.position));\n    if (angle.angleValue < 5) {\n      (0, _rotation2.default)(operaGroup || opera.parent, opera.position, angle);\n    }\n\n    if (180 - angle.angleValue < 5) {\n      angle.angleValue = 180 - angle.angleValue;\n      angle.clockWise = !angle.clockWise;\n      (0, _rotation2.default)(operaGroup || opera.parent, opera.position, angle);\n    }\n  }\n\n  // 更新连接数据\n  refer.userData.linkState = !refer.userData.linkState;\n  refer.userData.linkId = opera.id;\n  opera.userData.linkState = !opera.userData.linkState;\n  opera.userData.linkId = refer.id;\n\n  // 更新组合情况\n  if (group === referGroup) {\n    if (operaGroup) {\n      while (operaGroup.children.length > 0) {\n        operaGroup.children[0].position.z = 0;\n        group.add(operaGroup.children[0]);\n      }\n      group.userData.stick += operaGroup.userData.stick;\n      _threeManger.scene.remove(operaGroup);\n    } else {\n      group.add(opera.parent);\n      opera.parent.position.z = 0;\n      group.userData.stick++;\n    }\n  } else if (group === operaGroup) {\n    refer.parent.position.z = 0;\n    group.add(refer.parent);\n    group.userData.stick++;\n  } else {\n    group.name = 'collection';\n    group.userData.stick = 2;\n    refer.parent.position.z = 0;\n    opera.parent.position.z = 0;\n    group.add(refer.parent);\n    group.add(opera.parent);\n    _threeManger.scene.add(group);\n  }\n}; /**\r\n    * Created by Administrator on 2015/12/14.\r\n    */\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/mergeStick.js\n// module id = 23\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/mergeStick.js?");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar messages = {\n  // lengthError: '不满足两边之和大于第三边，无法组成图形',\n  // targetError: '同一线段的两点无法再连接',\n  // maxStickNumError: '最多只能连接四根小棒',\n  // fourLengthError:'两边之和小于两固定端点的距离无法连接',\n  // maxMatchNumError: '最多只能添加5个小棒!',\n  // addSameLengthError: '不能重复添加相同规格的小棒',\n  // maxStickLengthError: '最多只能添加15个小棒'\n};\n\nexports.default = function (options) {\n  if (!options) {\n    return;\n  }\n  if (messages && !messages.lengthError) {\n    messages = {\n      lengthError: _presenter2.default.i18n.puzzle_lengthError,\n      targetError: _presenter2.default.i18n.puzzle_targetError,\n      maxStickNumError: _presenter2.default.i18n.puzzle_maxStickNumError,\n      fourLengthError: _presenter2.default.i18n.puzzle_fourLengthError,\n      maxMatchNumError: _presenter2.default.i18n.puzzle_maxMatchNumError,\n      addSameLengthError: _presenter2.default.i18n.puzzle_addSameLengthError,\n      maxStickLengthError: _presenter2.default.i18n.puzzle_maxStickLengthError\n    };\n  }\n  var $field = $(_presenter2.default.view).find('.three2DPuzzle-tips');\n  $field.find('.tip-text').html(messages[options]);\n  if (!$field.is(':visible')) {\n    $field.show(150).delay(2000).hide(200);\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/messages.js\n// module id = 24\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/messages.js?");

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _rotation = __webpack_require__(22);\n\nvar _rotation2 = _interopRequireDefault(_rotation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Created by Administrator on 2015/12/15.\r\n */\nexports.default = function (staticMatch) {\n  'use strict';\n\n  var group = staticMatch.parent.parent;\n  var match1 = group.getObjectById(staticMatch.userData.linkId);\n  var match2 = group.getObjectById(match1.userData.connectId);\n  var selectedMatch = group.getObjectById(staticMatch.userData.connectId);\n  var angle = (0, _GetAngle.getAngle)(match2.position, staticMatch.position, selectedMatch.position);\n  var adjustAngle = 90 - angle.angleValue;\n  // 垂直感应\n  if (Math.abs(adjustAngle) < 5 && adjustAngle !== 0) {\n    var clockWise = adjustAngle > 0 ? angle.clockWise : !angle.clockWise;\n    (0, _rotation2.default)(staticMatch.parent, staticMatch.position, { angleValue: Math.abs(adjustAngle), clockWise: clockWise });\n    return;\n  }\n\n  // 平行感应\n  if (match2.userData.linkState) {\n    var oppositeMatch1 = group.getObjectById(match2.userData.linkId);\n    var oppositeMatch2 = group.getObjectById(oppositeMatch1.userData.connectId);\n\n    angle = (0, _GetAngle.getVectorAngle)(new THREE.Vector2().subVectors(selectedMatch.position, staticMatch.position), new THREE.Vector2().subVectors(oppositeMatch2.position, oppositeMatch1.position));\n    if (angle.angleValue < 5) {\n      (0, _rotation2.default)(staticMatch.parent, staticMatch.position, angle);\n      return;\n    }\n\n    if (180 - angle.angleValue < 5) {\n      angle.angleValue = 180 - angle.angleValue;\n      angle.clockWise = !angle.clockWise;\n      (0, _rotation2.default)(staticMatch.parent, staticMatch.position, angle);\n    }\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/adjustAngle.js\n// module id = 25\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/adjustAngle.js?");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _updateVertices = __webpack_require__(8);\n\nvar _updateVertices2 = _interopRequireDefault(_updateVertices);\n\nvar _messages = __webpack_require__(24);\n\nvar _messages2 = _interopRequireDefault(_messages);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import rotation from './rotation.js'\nexports.default = function (refer, opera) {\n  'use strict';\n\n  var group = refer.parent.parent;\n  if (group.userData.stick < 3) {\n    (0, _messages2.default)('targetError');\n    return 'error';\n  }\n\n  var referOther = refer.parent.getObjectById(refer.userData.connectId);\n  var operaOther = opera.parent.getObjectById(opera.userData.connectId);\n\n  if (group.userData.stick === 3) {\n    var newpoint = (0, _GetAngle.triangleCombinedPoint)(refer.position, referOther.position, operaOther.position, opera.position);\n    if (!newpoint) {\n      (0, _messages2.default)('lengthError');\n      return 'error';\n    }\n    refer.userData.position = newpoint;\n    opera.userData.position = newpoint;\n    (0, _updateVertices2.default)(refer.parent);\n    (0, _updateVertices2.default)(opera.parent);\n  } else {\n    var oppositeMatch1 = group.getObjectById(referOther.userData.linkId);\n    var oppositeMatch2 = group.getObjectById(oppositeMatch1.userData.connectId);\n\n    var _newpoint = (0, _GetAngle.quadrilateralCombinedPoint)(refer.position, referOther.position, operaOther.position, opera.position, oppositeMatch2.position);\n    if (!_newpoint) {\n      (0, _messages2.default)('fourLengthError');\n      return 'error';\n    }\n    refer.userData.position = _newpoint;\n    opera.userData.position = _newpoint;\n    (0, _updateVertices2.default)(refer.parent);\n    (0, _updateVertices2.default)(opera.parent);\n  }\n\n  refer.userData.linkState = !refer.userData.linkState;\n  refer.userData.linkId = opera.id;\n  opera.userData.linkState = !opera.userData.linkState;\n  opera.userData.linkId = refer.id;\n  group.userData.close = true;\n}; /**\r\n    * Created by Administrator on 2015/12/15.\r\n    */\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/closeShape.js\n// module id = 26\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/closeShape.js?");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _DrawMerge = __webpack_require__(16);\n\nvar _detectBoundary = __webpack_require__(18);\n\nvar _detectBoundary2 = _interopRequireDefault(_detectBoundary);\n\nvar _updateVertices = __webpack_require__(8);\n\nvar _updateVertices2 = _interopRequireDefault(_updateVertices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Created by Administrator on 2015/12/15.\r\n */\nexports.default = function (match, mousePoint) {\n  'use strict';\n\n  var group = match.parent.parent;\n  var match1 = group.getObjectById(match.userData.connectId);\n  var match2 = group.getObjectById(match1.userData.linkId);\n  var match3 = group.getObjectById(match2.userData.connectId);\n  var match4 = group.getObjectById(match3.userData.linkId);\n  var match5 = group.getObjectById(match4.userData.connectId);\n  var match6 = group.getObjectById(match5.userData.linkId);\n  var match7 = group.getObjectById(match6.userData.connectId);\n\n  var result = (0, _GetAngle.quadrilateralDiagonalMove)(match1.position, match3.position, match5.position, match7.position, mousePoint, match2.parent.userData.width, match4.parent.userData.width, match6.parent.userData.width, match.parent.userData.width);\n  if (!result) return;\n  var points = [result.combinLeftPoint, result.diagonalPoint, result.combinRightPoint];\n  if ((0, _detectBoundary2.default)(points)) {\n    return;\n  }\n  match1.userData.position = result.combinLeftPoint;\n  match2.userData.position = result.combinLeftPoint;\n  match5.userData.position = result.combinRightPoint;\n  match6.userData.position = result.combinRightPoint;\n  match7.userData.position = result.diagonalPoint;\n  match.userData.position = result.diagonalPoint;\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = group.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var stick = _step.value;\n\n      (0, _updateVertices2.default)(stick);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  (0, _DrawMerge.updateMergeIcon)(group);\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/angleDistortion.js\n// module id = 27\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/angleDistortion.js?");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _GetAngle = __webpack_require__(9);\n\nvar _DrawMerge = __webpack_require__(16);\n\nvar _detectBoundary = __webpack_require__(18);\n\nvar _detectBoundary2 = _interopRequireDefault(_detectBoundary);\n\nvar _updateVertices = __webpack_require__(8);\n\nvar _updateVertices2 = _interopRequireDefault(_updateVertices);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Created by Administrator on 2015/12/15.\r\n */\nexports.default = function (stick, startPoint, mousePoint) {\n  'use strict';\n\n  var group = stick.parent;\n  var match1 = stick.getObjectByName('match1');\n  var match2 = stick.getObjectByName('match2');\n  var match3 = group.getObjectById(match1.userData.linkId);\n  var match4 = group.getObjectById(match3.userData.connectId);\n  var match5 = group.getObjectById(match4.userData.linkId);\n  var match6 = group.getObjectById(match5.userData.connectId);\n  var match7 = group.getObjectById(match6.userData.linkId);\n  var match8 = group.getObjectById(match7.userData.connectId);\n\n  var result = (0, _GetAngle.quadrilateralOppositeMove)(match1.position, match2.position, match5.position, match6.position, startPoint, mousePoint, match1.parent.userData.width, match3.parent.userData.width, match7.parent.userData.width);\n\n  if (!result) return;\n\n  var points = [result.leftPoint, result.rightPoint];\n  if ((0, _detectBoundary2.default)(points)) {\n    return;\n  }\n  match1.userData.position = result.leftPoint;\n  match3.userData.position = result.leftPoint;\n  match2.userData.position = result.rightPoint;\n  match8.userData.position = result.rightPoint;\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = group.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _stick = _step.value;\n\n      (0, _updateVertices2.default)(_stick);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  (0, _DrawMerge.updateMergeIcon)(group);\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/sideDistortion.js\n// module id = 28\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/sideDistortion.js?");

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _threeManger = __webpack_require__(4);\n\n// import presenter from '../../presenter'\nexports.default = function (shape, preShape) {\n  'use strict';\n\n  if (preShape) {\n    var preGroup = preShape.parent.parent && preShape.parent.parent.name === 'collection' ? preShape.parent.parent : preShape.parent;\n    unSelectStick(preGroup);\n    // preGroup.position.z = 0;\n  }\n  if (shape) {\n    var group = shape.parent.parent && shape.parent.parent.name === 'collection' ? shape.parent.parent : shape.parent;\n    selectStick(group);\n    // group.position.z = 1;\n  }\n\n  if (shape && shape.name.indexOf('match') >= 0) {\n    if (!shape.userData.linkState) {\n      shape.material = _threeManger.matchstick.getOMatchFaceMaterial();\n      for (var i = 0, len = shape.children.length; i < len; i++) {\n        if (shape.children[i].name === 'line1' || shape.children[i].name === 'line2') {\n          shape.children[i].visible = true;\n        }\n        if (shape.children[i].name === 'bgMatch1' || shape.children[i].name === 'bgMatch2') {\n          shape.children[i].material = _threeManger.matchstick.getOMatchFaceMaterial();\n        }\n      }\n    }\n  }\n}; /**\r\n    * Created by Administrator on 2015/12/22.\r\n    */\n\n\nfunction selectStick(shape) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = shape.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _shape = _step.value;\n\n      selectStick(_shape);\n    }\n    // if(shape.name === 'stick') shape.material.color = new THREE.Color(0xE6BB7B);\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  if (shape.name === 'match1' || shape.name === 'match2') {\n    shape.material = _threeManger.matchstick.getSMatchFaceMaterial();\n  }\n  if (shape.name === 'stick') {\n    shape.visible = true;\n  }\n}\n\nfunction unSelectStick(shape) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = shape.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _shape2 = _step2.value;\n\n      unSelectStick(_shape2);\n    }\n    // if(shape.name === 'stick') shape.material.color = new THREE.Color(0xE7B265);\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  if (shape.name === 'match1' || shape.name === 'match2') {\n    shape.material = _threeManger.matchstick.getMatchFaceMaterial();\n    for (var i = 0, len = shape.children.length; i < len; i++) {\n      if (shape.children[i].name === 'line1' || shape.children[i].name === 'line2') {\n        shape.children[i].visible = false;\n      }\n      if (shape.children[i].name === 'bgMatch1' || shape.children[i].name === 'bgMatch2') {\n        shape.children[i].material = _threeManger.matchstick.getBgMatchFaceMaterial();\n      }\n    }\n    // shape.children[0].visible = false;\n  }\n  if (shape.name === 'stick') {\n    shape.visible = false;\n  }\n  // if(shape.name === 'unit') {\n  // shape.position.z = 0;\n  // }\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/selectStick.js\n// module id = 29\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Event/selectStick.js?");

/***/ }),
/* 30 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction autoDetectRenderer(options, noWebGL) {\n  if (!noWebGL && isWebGLSupported()) {\n    return new THREE.WebGLRenderer(options);\n  }\n  return new THREE.CanvasRenderer(options);\n}\n\nfunction isWebGLSupported() {\n  var contextOptions = { stencil: true };\n  try {\n    if (!window.WebGLRenderingContext) {\n      return false;\n    }\n    var canvas = document.createElement('canvas');\n    var gl = canvas.getContext('webgl', contextOptions) || canvas.getContext('experimental-webgl', contextOptions);\n    return !!(gl && gl.getContextAttributes().stencil);\n  } catch (e) {\n    return false;\n  }\n}\nexports.isWebGLSupported = isWebGLSupported;\nexports.autoDetectRenderer = autoDetectRenderer;\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/autoDetectRenderer.js\n// module id = 30\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/Utils/autoDetectRenderer.js?");

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _threeManger = __webpack_require__(4);\n\nvar _getCurrentState = __webpack_require__(32);\n\nvar _getCurrentState2 = _interopRequireDefault(_getCurrentState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  var $view = $(_presenter2.default.view);\n  var puzzleState = {};\n  puzzleState.val = $view.find('.dw-sel').attr('data-val');\n  puzzleState.datas = (0, _getCurrentState2.default)(_threeManger.scene);\n  var matchs = $view.find('.area_lf .match');\n  var lengthArray = [];\n  if (matchs.length > 0) {\n    for (var i = 0; i < matchs.length; i++) {\n      var stickLen = parseInt($(matchs[i]).children('span')[1].innerHTML);\n      lengthArray.push(stickLen);\n    }\n  }\n  puzzleState.w = $view.find('canvas').width();\n  puzzleState.h = $view.find('canvas').height();\n  puzzleState.lengthArray = lengthArray;\n  return puzzleState;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/getExtendData.js\n// module id = 31\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/getExtendData.js?");

/***/ }),
/* 32 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (scene) {\n  var datas = [];\n  for (var i = 0; i < scene.children.length; i++) {\n    var child = scene.children[i];\n    if (child.name === 'unit') {\n      datas.push(implementData(child));\n    }\n    if (child.name === 'collection') {\n      var data = {\n        'c': {\n          'l': child.userData.stick,\n          's': child.userData.close,\n          'z': child.position.z,\n          'c': []\n        }\n      };\n      for (var _i = 0; _i < child.userData.stick; _i++) {\n        data.c.c.push(implementData(child.children[_i]));\n      }\n      datas.push(data);\n    }\n  }\n  console.log(datas);\n  return datas;\n};\n\n;\n\nfunction implementData(unit) {\n  // let collection = mesh.parent.parent.name ==== 'collection' ? mesh.parent.parent : null,\n  // \tunit = mesh.parent;\n  // if (collection) {\n  // \tif (datas.ids.indexOf(collection.id) === -1) {\n  // \t\tdatas.ids.push(collection.id);\n  // \t\tlet data = {\n  // \t\t\t'collection': {\n  // \t\t\t\t'userData': collection.userData,\n  // \t\t\t\t'zindex': collection.position.z\n  // \t\t\t}\n  // \t\t};\n  // \t\tfor (let i = 0; i < collection.userData.stick; i++) {\n  // \t\t\tlet match1 = collection.children[i].getObjectByName('match1');\n  // \t\t\tlet match2 = collection.children[i].getObjectByName('match2');\n  // \t\t\tdata.collection.children[i] = {\n  // \t\t\t\t'unit': {\n  // \t\t\t\t\t'zindex': collection.children[i].position.z,\n  // \t\t\t\t\t'match1': {\n  // \t\t\t\t\t\t'id': match1.id,\n  // \t\t\t\t\t\t'position': match1.position,\n  // \t\t\t\t\t\t'userData': match1.userData\n  // \t\t\t\t\t},\n  // \t\t\t\t\t'match2': {\n  // \t\t\t\t\t\t'id': match2.id,\n  // \t\t\t\t\t\t'position': match2.position,\n  // \t\t\t\t\t\t'userData': match2.userData\n  // \t\t\t\t\t}\n  // \t\t\t\t}\n  // \t\t\t}\n  // \t\t}\n  // \t\tdatas.unshift(data);\n  // \t}\n  // } else {\n  var match1 = unit.getObjectByName('match1');\n  var match2 = unit.getObjectByName('match2');\n  var pos1 = {\n    x: Math.round(match1.position.x),\n    y: Math.round(match1.position.y),\n    z: match1.position.z\n  };\n  var pos2 = {\n    x: Math.round(match2.position.x),\n    y: Math.round(match2.position.y),\n    z: match2.position.z\n  };\n  var userData = {\n    w: unit.userData.width,\n    h: unit.userData.height\n  };\n  var userData1 = {};\n  var userData2 = {};\n  if (match1.userData.linkState) {\n    userData1.s = match1.userData.linkState;\n    userData1.i = match1.userData.linkId;\n  }\n  if (match2.userData.linkState) {\n    userData2.s = match2.userData.linkState;\n    userData2.i = match2.userData.linkId;\n  }\n  var data = {\n    'u': {\n      'd': userData,\n      'z': unit.position.z,\n      'm1': {\n        'id': match1.id,\n        'p': pos1,\n        'd': userData1\n      },\n      'm2': {\n        'id': match2.id,\n        'p': pos2,\n        'd': userData2\n      }\n    }\n  };\n  return data;\n  // }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/getCurrentState.js\n// module id = 32\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/getCurrentState.js?");

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (view, model) {\n  if (_presenter2.default._renderDone) {\n    return;\n  }\n  model._ZoomIcon = 1;\n  var gridWidth = 39 / 1561 * _constants.REAL_ESTATE.width;\n  // if(gridWidth/2 < REAL_ESTATE.ROTATE_HANDLER_RADIUS){\n  _constants.REAL_ESTATE.ROTATE_HANDLER_RADIUS = gridWidth < 10 ? 5 : Math.round(gridWidth * 0.5 * 10000) / 10000;\n  // }\n  if (model.__ExtendModel && !$.isEmptyObject(model.__ExtendModel)) {\n    _constants.REAL_ESTATE.scaleX = Math.round(_constants.REAL_ESTATE.width / model.__ExtendModel.w * 1000) / 1000;\n    // REAL_ESTATE.scaleY = Math.round(REAL_ESTATE.height/model.__ExtendModel.h*1000)/1000;\n    _constants.REAL_ESTATE.scaleY = _constants.REAL_ESTATE.scaleX;\n    console.log(_constants.REAL_ESTATE.scaleX, _constants.REAL_ESTATE.scaleY);\n    // if(REAL_ESTATE.scaleX > REAL_ESTATE.scaleY){\n    // \tREAL_ESTATE.scaleX = REAL_ESTATE.scaleX >= 1 ? REAL_ESTATE.scaleX :  REAL_ESTATE.scaleY;\n    // }else{\n    // \tREAL_ESTATE.scaleY = REAL_ESTATE.scaleX;\n    // }\n\n    // REAL_ESTATE.scaleX >= 1 ?\n    // REAL_ESTATE.scaleX > REAL_ESTATE.scaleY ? REAL_ESTATE.scaleY = REAL_ESTATE.scaleX : REAL_ESTATE.scaleX = REAL_ESTATE.scaleY\n    // : REAL_ESTATE.scaleX < REAL_ESTATE.scaleY ? REAL_ESTATE.scaleX = REAL_ESTATE.scaleY : REAL_ESTATE.scaleY = REAL_ESTATE.scaleX;\n\n    var data = model.__ExtendModel.datas;\n    model._ZoomIcon = 1.5;\n    (0, _drawBydata2.default)(data);\n  }\n  (0, _initViewDepends2.default)(model, view);\n  _presenter2.default._renderDone = true;\n};\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _initViewDepends = __webpack_require__(34);\n\nvar _initViewDepends2 = _interopRequireDefault(_initViewDepends);\n\nvar _constants = __webpack_require__(5);\n\nvar _drawBydata = __webpack_require__(35);\n\nvar _drawBydata2 = _interopRequireDefault(_drawBydata);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/pageShow.js\n// module id = 33\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/pageShow.js?");

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (model, view) {\n  $view = $(view);\n  $dragMatch = $view.find('#dragMatch');\n  bindSelectChange();\n  // bindStyle();\n  if (model.__ExtendModel && model.__ExtendModel.lengthArray) {\n    var val = model.__ExtendModel.val;\n    initMatch(model.__ExtendModel.lengthArray);\n    initSelect(val);\n    $view.find('.numbox>input').val(val);\n    $view.find('.matchCount').val(model.__ExtendModel.lengthArray.length);\n    $view.find('#pic_text b').html(val);\n  } else {\n    initMatch([5, 7, 9]);\n    initSelect(3);\n    $view.find('.numbox>input').val(3);\n    $view.find('.matchCount').val(3);\n  }\n  bindMouseDown();\n  bindMatchAdd();\n  bindMatchRemove();\n\n  bindRemove();\n  bindReSize();\n  if (!model.question_url) {\n    return;\n  }\n  // let lengthArray = model.question_url.content.lengthArray;\n  if (_presenter2.default.isTeacherMobile) {\n    bindStop(model);\n  } else if (_presenter2.default.isStudentMobile) {\n    $view.find('.twobox').remove();\n    $view.find('.match_add').remove();\n    $view.find('.js-stop-sync-button').remove();\n    $view.find('.jigsaw_fd').css('bottom', 0);\n  }\n};\n\nexports.unbindAll = unbindAll;\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _removeShape = __webpack_require__(21);\n\nvar _removeShape2 = _interopRequireDefault(_removeShape);\n\nvar _DocumentEvent = __webpack_require__(10);\n\nvar _messages = __webpack_require__(24);\n\nvar _messages2 = _interopRequireDefault(_messages);\n\nvar _threeManger = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import { initType } from './constants'\nvar $view = null;\n// import stateService from './Utils/stateService'\n/**\r\n * Created by Administrator on 2015/12/8.\r\n */\n\nvar $dragMatch = void 0;\n\n// function bindStyle(){\n//     let selectorDiv=presenter.view.getElementsByClassName('dwc')[0];//选择框位置调整\n//     selectorDiv.setAttribute(\"style\",\"padding: 0px 0px 0px 0px;display: block;\");\n//     let selectorSize=presenter.view.getElementsByClassName('dwi')[0];\n//     selectorSize.setAttribute('style','width: 62px;');\n//     let selectorItems=presenter.view.getElementsByClassName('dw-bf')[0];//选择框样式\n//     selectorItems.setAttribute('style','width: 30px;position: absolute;top: -70px;left: 6px;;');\n//     let sizeDiv=presenter.view.getElementsByClassName('dww')[0];//选择框可见内容\n//     sizeDiv.id='sizeDiv';\n//     sizeDiv.setAttribute(\"style\", \"height: 53px;\");\n// }\n\nfunction bindMatchAdd() {\n  var matcjAdd = $view.find('.match_add');\n  matcjAdd.bind('click', function () {\n    var count = $view.find('.matchCount').val();\n    if (count < 5) {\n      var Length = parseInt($view.find('.numbox>input').val());\n      for (var i = 0; i < count; i++) {\n        var temp = $view.find('.match_' + i).children('span')[1].innerHTML;\n        if (Length + 'CM' === temp) {\n          (0, _messages2.default)('addSameLengthError');\n          return;\n        }\n      }\n      var p = document.createElement('p');\n      var a = document.createElement('a');\n      a.className = 'match match_' + count;\n      var spanP = document.createElement('span');\n      var spanL = document.createElement('span');\n      var b = document.createElement('b');\n      // let line = document.createElement('span');\n      // line.className = 'line';\n      // if (Length >= 2 && Length <= 7) {\n      // \tcondition = 'match_pic match_s';\n      // } else if (Length >= 8 && Length <= 13) {\n      // \tcondition = 'match_pic match_m';\n      // } else if (Length >= 14 && Length <= 20) {\n      // \tcondition = 'match_pic match_l';\n      // }\n      var condition = 'pic';\n      spanP.className = condition;\n      spanL.innerHTML = Length + 'CM';\n      spanL.className = 'num match_wit';\n      b.innerHTML = Length;\n      spanP.appendChild(b);\n      a.appendChild(spanP);\n      a.appendChild(spanL);\n      p.appendChild(a);\n      var threeBox = $view.find('.threebox')[0];\n      threeBox.appendChild(p);\n      // threeBox.appendChild(line);\n      // bindClick(count);\n      $view.find('.matchCount').val(++count);\n    } else {\n      (0, _messages2.default)('maxMatchNumError');\n    }\n    bindMouseDown();\n  });\n}\nfunction bindMatchRemove() {\n  $view.find('.btn_del').on('click.matchRemove', function () {\n    var count = $view.find('.matchCount').val();\n    if (count === 0) {\n      return;\n    }\n    // let deleteIndex = $('.selectedMatch').val();\n    // if (deleteIndex === \"\" || deleteIndex === undefined) {\n    // \treturn;\n    // }\n    var deleteIndex = $view.find('.selectedMatch').val();\n    if (deleteIndex === '' || deleteIndex === undefined) {\n      return;\n    }\n    var threeBox = $view.find('.threebox')[0];\n    var deleteMatch = $view.find('.match_' + deleteIndex)[0];\n    if (deleteMatch.className.indexOf('selMatch') === -1) {\n      return;\n    }\n    // let line=document.getElementsByClassName('line')[deleteIndex];\n    threeBox.removeChild(deleteMatch.parentNode);\n    // threeBox.removeChild(line);\n    for (var i = deleteIndex; i < count - 1; i++) {\n      var movemMatch = $view.find('.match_' + (parseInt(i) + 1))[0];\n      movemMatch.className = 'match match_' + i;\n      // bindClick(i);\n    }\n    $view.find('.selectedMatch').val('');\n    $view.find('.matchCount').val(parseInt(count) - 1);\n    return;\n  });\n}\nfunction bindRemove() {\n  $view.find('.btn_del').on('click.shapeRemove', function () {\n    (0, _removeShape2.default)();\n    _presenter2.default.render();\n  });\n}\n// function bindChange () {\n//   const selector = $view.find('.numbox>input')\n//   let value = selector.val()\n//   let temp = value\n//   value = selector.val()\n//   if (temp != value) {\n//     temp = value\n//     const Length = value\n//     let condition\n//     const spanL = document.createElement('span')\n//     spanL.innerHTML = Length + 'CM'\n//     spanL.className = 'num match_wit'\n//     spanL.style = 'display:none'\n// \t\t// if (Length >= 2 && Length <= 7) {\n// \t\t// \tcondition = 'match_pic match_s';\n// \t\t// } else if (Length >= 8 && Length <= 13) {\n// \t\t// \tcondition = 'match_pic match_m';\n// \t\t// } else if (Length >= 14 && Length <= 20) {\n// \t\t// \tcondition = 'match_pic match_l';\n// \t\t// }\n//     condition = 'pic'\n//     $view.find('.match_two').children('span')[0].className = condition\n//     if ($view.find('.match_two').children('span')[1] !== undefined) {\n//       $view.find('.match_two').children('span')[1].remove()\n//     }\n//     $view.find('.match_two').append(spanL)\n//   }\n// }\nfunction initMatch(lengthArray) {\n  for (var i = 0; i < lengthArray.length; i++) {\n    var Length = lengthArray[i];\n    var p = document.createElement('p');\n    var a = document.createElement('a');\n    var b = document.createElement('b');\n    a.className = 'match match_' + i;\n    var spanP = document.createElement('span');\n    var spanL = document.createElement('span');\n    // let line = document.createElement('span');\n    // line.className = 'line';\n    // if (Length >= 2 && Length <= 7) {\n    // \tcondition = 'match_pic match_s';\n    // } else if (Length >= 8 && Length <= 13) {\n    // \tcondition = 'match_pic match_m';\n    // } else if (Length >= 14 && Length <= 20) {\n    // \tcondition = 'match_pic match_l';\n    // }\n    var condition = 'pic';\n    spanP.className = condition;\n    spanL.innerHTML = Length + 'CM';\n    spanL.className = 'num match_wit';\n    b.innerHTML = Length;\n    spanP.appendChild(b);\n    a.appendChild(spanP);\n    a.appendChild(spanL);\n    p.appendChild(a);\n    var threeBox = $view.find('.threebox')[0];\n    threeBox.appendChild(p);\n    // threeBox.appendChild(line);\n    bindMouseDown();\n  }\n}\nvar mousex = 0;\nvar mousey = 0;\n// const mouseData = {}\nvar divLeft = void 0,\n    divTop = void 0;\nfunction bindMouseDown() {\n  $view.find('.match').bind('mousedown', mouseDownEven);\n  $view.find('.match').bind('touchstart', mouseDownEven);\n  $view.find('.match').bind('mousedown', mouseDownDrag);\n  $view.find('.match').bind('touchstart', mouseDownDrag);\n}\nvar $selectMatch = void 0;\nfunction mouseDownEven(event) {\n  // let e=event.originalEvent.changedTouches ? event.originalEvent.changedTouches[0] : event;\n  if ($(this)[0].className.indexOf('match_input') >= 0) {\n    return;\n  }\n  var selItem = $view.find('.selMatch');\n  selItem.removeClass('selMatch');\n  _presenter2.default.selectDeleteMatch = false;\n  if (!$(this).hasClass('match_custom')) {\n    $(this).addClass('selMatch');\n    _presenter2.default.selectDeleteMatch = true;\n    var selectItem = this.className.substr(12, 1);\n    $('.selectedMatch').val(parseInt(selectItem));\n  }\n}\nfunction mouseDownDrag(event) {\n  var e = event.originalEvent.changedTouches ? event.originalEvent.changedTouches[0] : event;\n  if ($(this).hasClass('match_input')) {\n    return;\n  }\n  var offset1 = $(this).offset();\n  var offset2 = $view.find('.jigsaw_content').offset();\n  divLeft = parseInt(offset1.left - offset2.left, 10);\n  divTop = parseInt(offset1.top - offset2.top, 10);\n  mousey = e.clientY;\n  mousex = e.clientX;\n  $selectMatch = $(this);\n  $view[0].addEventListener('mousemove', dragElement, false);\n  $view[0].addEventListener('touchmove', dragElement, false);\n  $view.find('.jigsaw_content')[0].addEventListener('mouseleave', dragElement, false);\n  $view.find('.jigsaw_content')[0].addEventListener('touchleave', dragElement, false);\n  $view[0].addEventListener('mouseup', mouseUpEvent, false);\n  $view[0].addEventListener('touchend', mouseUpEvent, false);\n  event.preventDefault();\n}\nfunction dragElement(event) {\n  var e = event.changedTouches ? event.changedTouches[0] : event;\n  var left = divLeft + (e.clientX - mousex);\n  var top = divTop + (e.clientY - mousey);\n  var boundary = $view.find('.jigsaw_content');\n  var paddingLeft = parseFloat(boundary.css('paddingLeft'));\n  var paddingTop = parseFloat(boundary.css('paddingTop'));\n  if (left <= paddingLeft || top <= paddingTop || left >= boundary.innerWidth() - paddingLeft - $dragMatch.width() || top >= boundary.innerHeight() - $dragMatch.height()) {\n    /* left = left + $selectMatch.width()/2;\r\n    top = top;*/\n    // var eev = new Event('mouseup', {clientX: left, clientY: top, bubbles: true, cancelable: false});\n    // $view[0].dispatchEvent(eev);\n    var x = e.clientX;\n    var y = e.clientY;\n\n    if (x > boundary.innerWidth() + boundary.offset().left) {\n      x = boundary.innerWidth() + boundary.offset().left - 5;\n    }\n    if (x < boundary.offset().left) {\n      x = boundary.offset().left + 5;\n    }\n    if (y > boundary.innerHeight() + boundary.offset().top) {\n      y = boundary.innerHeight() + boundary.offset().top - 5;\n    }\n    if (y < boundary.offset().top) {\n      y = boundary.offset().top + 5;\n    }\n    var target = $selectMatch;\n    mouseUpEvent({ clientX: x, clientY: y, target: $selectMatch });\n    (0, _DocumentEvent.checkMatchInView)({ clientX: x, clientY: y, target: target });\n    event.preventDefault();\n    _presenter2.default._notStateChanged = true;\n    return;\n  } else {\n    _presenter2.default._notStateChanged = false;\n    $dragMatch.css({\n      'top': top + 'px',\n      'left': left + 'px'\n    });\n    if ($selectMatch && $dragMatch.css('display') === 'none') {\n      $dragMatch.show();\n      var val = $selectMatch.find('.match_wit').html();\n      if (!val || val === '') val = $view.find('.numbox>input').val();\n      var length = parseInt(val);\n      _presenter2.default._stickLength = length;\n    }\n    event.preventDefault();\n  }\n}\n\nfunction mouseUpEvent(e) {\n  if (Math.abs(e.clientX - mousex) > 1 || Math.abs(e.clientY - mousey) > 1) {\n    $selectMatch && $selectMatch.removeClass('selMatch');\n    _presenter2.default.selectDeleteMatch = false;\n  }\n  $dragMatch.hide();\n  $view[0].removeEventListener('mousemove', dragElement, false);\n  $view[0].removeEventListener('touchmove', dragElement, false);\n  $view.find('.jigsaw_content')[0].removeEventListener('mouseleave', dragElement, false);\n  $view.find('.jigsaw_content')[0].removeEventListener('touchleave', dragElement, false);\n  $view[0].removeEventListener('mouseup', mouseUpEvent, false);\n  $view[0].removeEventListener('touchend', mouseUpEvent, false);\n  $selectMatch = null;\n  event.preventDefault();\n}\nfunction bindStop(model) {\n  var btn = $view.find('.js-stop-sync-button');\n  btn.style = 'display:block';\n  btn.bind('click', function (e) {\n    _presenter2.default.eventBus.sendEvent('Sync', {\n      source: model.ID,\n      type: 'cancel',\n      value: {\n        syncId: _presenter2.default.syncId\n      }\n    });\n  });\n}\nfunction bindReSize() {\n  var $view = $(_presenter2.default.view);\n  $view.bind('resize', _threeManger.resizeThree);\n}\n\nfunction bindSelectChange() {\n  $view.find('.selector').bind('change', function () {\n    $view.find('#pic_text b').html($view.find('.numbox>input').val());\n  });\n}\nfunction unbindAll() {\n  'use strict';\n\n  if ($view) {\n    $view.find('.match').unbind('mousedown', mouseDownEven);\n    $view.find('.match').unbind('touchstart', mouseDownEven);\n    $view.find('.match').unbind('mousedown', mouseDownDrag);\n    $view.find('.match').unbind('touchstart', mouseDownDrag);\n    $view.unbind('resize', _threeManger.resizeThree);\n    $view.find('.match_add').unbind('click');\n    $view.find('.js-stop-sync-button').unbind('click');\n    $view.find('.selector').unbind('change');\n    $view.find('.btn_del').off('click.matchRemove');\n    $view.find('.btn_del').off('click.shapeRemove');\n    $view = null;\n    $dragMatch = null;\n  }\n}\nfunction initSelect(val) {\n  var h = 3.41667;\n  var fontSize = parseFloat($view.find('.graphstable_add_handle').css('fontSize'));\n  var opt = {};\n  opt.select = { preset: 'select' };\n  $view.find('.selector').val('').scroller('destroy').scroller($.extend(opt['select'], {\n    theme: 'android-ics light', mode: 'scroller', height: h * fontSize - 0.5, display: 'inline', lang: '',\n    onCancel: function onCancel(event, inst) {\n      console.log(event);\n      console.log(inst);\n      inst.setValue(event);\n    }\n  }));\n  $view.find('.android-ics.light .dw-ul').css('margin-top', -2 * h * fontSize);\n  $view.find('.android-ics.light .dw-sel').css('fontSize', h / 2 * fontSize);\n  $view.find('.numbox>input').val(val);\n  var scroll = $view.find('.selector').scroller('getInst');\n  scroll.setValue(val);\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/initViewDepends.js\n// module id = 34\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/initViewDepends.js?");

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (datas) {\n  if (!datas || datas.length === 0) {\n    return;\n  }\n  var zValue = 0;\n  for (var i = 0; i < datas.length; i++) {\n    if (datas[i].c) {\n      var collection = datas[i].c;\n      var group = new THREE.Object3D();\n      group.name = 'collection';\n      group.userData.close = collection.s;\n      group.userData.stick = collection.l;\n      group.position.z = collection.z;\n      if (zValue < group.position.z) {\n        zValue = group.position.z;\n      }\n      for (var j = 0; j < collection.l; j++) {\n        var data = collection.c[j];\n        group.add(createUnit(data));\n      }\n      justifyLinkState(group);\n      if (group.userData.close) {\n        (0, _DrawMerge.addMergeIcon)(group);\n      }\n      _threeManger.scene.add(group);\n    }\n    if (datas[i].u) {\n      var unit = createUnit(datas[i]);\n      _threeManger.scene.add(unit);\n      if (zValue < unit.position.z) {\n        zValue = unit.position.z;\n      }\n    }\n  }\n  (0, _setZPosition.setZPositionValue)(zValue);\n  _presenter2.default.render();\n};\n\nvar _threeManger = __webpack_require__(4);\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nvar _constants = __webpack_require__(5);\n\nvar _updateVertices = __webpack_require__(8);\n\nvar _updateVertices2 = _interopRequireDefault(_updateVertices);\n\nvar _DrawMerge = __webpack_require__(16);\n\nvar _setZPosition = __webpack_require__(15);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createUnit(data) {\n  _presenter2.default.maxStick++;\n  var unitData = data.u;\n  var pos = new THREE.Vector3(0, 0, 0);\n  var unit = _threeManger.matchstick.createShape(3, pos, true);\n  var match1 = unit.getObjectByName('match1');\n  var match2 = unit.getObjectByName('match2');\n  unit.position.z = unitData.z;\n  unit.userData.width = unitData.d.w * _constants.REAL_ESTATE.scaleX;\n  match1.userData.position = unitData.m1.p;\n  match2.userData.position = unitData.m2.p;\n  match1.userData.position.x *= _constants.REAL_ESTATE.scaleX;\n  match1.userData.position.y *= _constants.REAL_ESTATE.scaleY;\n  match2.userData.position.x *= _constants.REAL_ESTATE.scaleX;\n  match2.userData.position.y *= _constants.REAL_ESTATE.scaleY;\n  if (unitData.m1.d.s) {\n    match1.userData.linkState = unitData.m1.d.s;\n    match1.userData.linkId = unitData.m1.d.i;\n  }\n  if (unitData.m2.d.s) {\n    match2.userData.linkState = unitData.m2.d.s;\n    match2.userData.linkId = unitData.m2.d.i;\n  }\n\n  match1.userData.copyId = unitData.m1.id;\n  match2.userData.copyId = unitData.m2.id;\n  (0, _updateVertices2.default)(unit);\n  return unit;\n}\n// import { selectedShape } from './Event/selectStick'\n\n\nfunction justifyLinkState(collection) {\n  for (var i = 0; i < collection.children.length; i++) {\n    var child = collection.children[i];\n    var match1 = child.getObjectByName('match1');\n    var match2 = child.getObjectByName('match2');\n    justify(match1);\n    justify(match2);\n  }\n  function justify(mesh) {\n    if (mesh.userData.linkState && mesh.userData.copyId) {\n      var linkId = mesh.userData.linkId;\n      var linkMesh = getObjectByCopyId.call(collection, 'copyId', linkId);\n      if (linkMesh) {\n        linkMesh.userData.linkId = mesh.id;\n        mesh.userData.linkId = linkMesh.id;\n        linkMesh.userData.copyId = false;\n      }\n    }\n  }\n  function getObjectByCopyId(name, value) {\n    if (this.userData && this.userData[name] === value) {\n      return this;\n    }\n    for (var _i = 0, l = this.children.length; _i < l; _i++) {\n      var _child = this.children[_i];\n      var object = getObjectByCopyId.call(_child, name, value);\n\n      if (object !== undefined) {\n        return object;\n      }\n    }\n\n    return undefined;\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/drawBydata.js\n// module id = 35\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/drawBydata.js?");

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _DocumentEvent = __webpack_require__(10);\n\nvar _initViewDepends = __webpack_require__(34);\n\nvar _threeManger = __webpack_require__(4);\n\nexports.default = function () {\n  'use strict';\n\n  (0, _DocumentEvent.removeEventListerner)();\n  (0, _threeManger.destroyThree)();\n  (0, _initViewDepends.unbindAll)();\n}; // 销毁 module 占用的内存\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/destroy.js\n// module id = 36\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/destroy.js?");

/***/ }),
/* 37 */
/***/ (function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (state) {\n  if (state) {\n    // let currentState = JSON.parse(state)\n    // ToDo:处理Module的状态恢复\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/setState.js\n// module id = 37\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/setState.js?");

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  // TODO: 添加符合Module需求的状态对象\n  var moduleState = JSON.stringify({\n    module_id: _presenter2.default.model.ID\n  });\n  return moduleState;\n};\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/getState.js\n// module id = 38\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/getState.js?");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (path) {\n  _presenter2.default.path = path;\n};\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/setBasePath.js\n// module id = 39\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/setBasePath.js?");

/***/ }),
/* 40 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (scope) {\n  var h = 64;\n  var fontSize = 24;\n  var opt = {};\n  opt.select = { preset: 'select' };\n  $('#selector').val('').scroller('destroy').scroller($.extend(opt['select'], {\n    theme: 'android-ics light', mode: 'scroller', height: h * fontSize, display: 'inline', lang: ''\n  }));\n  $('#selector_dummy').val(3);\n  $('.android-ics.light .dw-ul').css('margin-top', -2 * h * fontSize);\n\n  // bindStyle();\n  bindAdd(scope);\n  bindRemove();\n  bindMouseDown();\n  // bindInput();\n};\n\nexports.getLengthArray = getLengthArray;\nexports.initViewPre = initViewPre;\n\nfunction initMatch(lengthArray) {\n  for (var i = 0; i < lengthArray.length; i++) {\n    var Length = lengthArray[i];\n    var a = document.createElement('a');\n    var p = document.createElement('p');\n    a.className = 'match match_' + i;\n    var spanP = document.createElement('span');\n    var spanL = document.createElement('span');\n    var b = document.createElement('b');\n    // let line=document.createElement('span');\n    // let condition;\n    // line.className='line';\n    // if(Length>=2&&Length<=7) {\n    // \tcondition='match_pic match_s';\n    // }else if(Length>=8&&Length<=13) {\n    // \tcondition='match_pic match_m';\n    // }else if(Length>=14&&Length<=20) {\n    // \tcondition='match_pic match_l';\n    // }\n    var condition = 'pic';\n    spanP.className = condition;\n    spanL.innerHTML = Length + 'CM';\n    spanL.className = 'num match_wit';\n    b.innerHTML = Length;\n    spanP.appendChild(b);\n    a.appendChild(spanP);\n    a.appendChild(spanL);\n    p.appendChild(a);\n    var threeBox = document.getElementsByClassName('threebox')[0];\n    threeBox.appendChild(p);\n    // threeBox.appendChild(line);\n    bindMouseDown();\n    // bindClick(i);\n  }\n}\n// function bindStyle(){\n//     let selectorDiv=document.getElementsByClassName('dwc')[0];//选择框位置调整\n//     selectorDiv.setAttribute(\"style\",\"padding: 0px 0px 0px 0px;display: block;\");\n//     let selectorSize=document.getElementsByClassName('dwi')[0];\n//     selectorSize.setAttribute('style','width: 62px;');\n//     let selectorItems=document.getElementsByClassName('dw-bf')[0];//选择框样式\n//     selectorItems.setAttribute('style','width: 30px;position: absolute;top: -70px;left: 6px;;');\n//     let sizeDiv=document.getElementsByClassName('dww')[0];//选择框可见内容\n//     sizeDiv.id='sizeDiv'\n//     sizeDiv.setAttribute(\"style\", \"height: 33px;\");\n// }\n/**\r\n * Created by Administrator on 2015/12/7.\r\n */\nfunction bindAdd(scope) {\n  var matcjAdd = $('.match_add');\n  matcjAdd.bind('click', function () {\n    var count = $('.matchCount').val();\n    if (count < 5) {\n      var Length = parseInt($('#selector_dummy').val());\n      for (var i = 0; i < count; i++) {\n        var temp = $('.match_' + i).children('span')[1].innerHTML;\n        if (Length + 'CM' === temp) {\n          scope.$apply(function (scope) {\n            scope.errorModel.errorText = '不能重复添加相同规格的小棒!';\n          });\n          return;\n        }\n      }\n      var p = document.createElement('p');\n      var a = document.createElement('a');\n      a.className = 'match match_' + count;\n      var spanP = document.createElement('span');\n      var spanL = document.createElement('span');\n      var b = document.createElement('b');\n      var condition = 'pic';\n      spanP.className = condition;\n      spanL.innerHTML = Length + 'CM';\n      spanL.className = 'num match_wit';\n      b.innerHTML = Length;\n      spanP.appendChild(b);\n      a.appendChild(spanP);\n      a.appendChild(spanL);\n      p.appendChild(a);\n      var threeBox = document.getElementsByClassName('threebox')[0];\n      threeBox.appendChild(p);\n      // bindClick(count);\n      $('.matchCount').val(++count);\n    } else {\n      scope.$apply(function (scope) {\n        scope.errorModel.errorText = '最多只能添加5个小棒!';\n      });\n    }\n    bindMouseDown();\n  });\n}\nfunction bindRemove() {\n  $('.btn_del').bind('click', function () {\n    var count = $('.matchCount').val();\n    if (count === 0) {\n      return;\n    }\n    var deleteIndex = $('.selectedMatch').val();\n    if (deleteIndex === '' || deleteIndex === undefined) {\n      return;\n    }\n    var threeBox = document.getElementsByClassName('threebox')[0];\n    var deleteMatch = document.getElementsByClassName('match_' + deleteIndex)[0];\n    // let line=document.getElementsByClassName('line')[deleteIndex];\n    threeBox.removeChild(deleteMatch.parentNode);\n    // threeBox.removeChild(line);\n    for (var i = deleteIndex; i < count - 1; i++) {\n      var movemMatch = document.getElementsByClassName('match_' + (parseInt(i) + 1))[0];\n      movemMatch.className = 'match match_' + i;\n      // bindClick(i);\n      bindMouseDown();\n    }\n    $('.selectedMatch').val('');\n    $('.matchCount').val(parseInt(count) - 1);\n    return;\n  });\n}\nfunction getLengthArray() {\n  var lengthArray = [];\n  var count = $('.matchCount').val();\n  for (var i = 0; i < count; i++) {\n    var match = $('.match_' + i);\n    var length = match.children('.match_wit');\n    if (length.text().length === 3) {\n      lengthArray.push(length.text().substr(0, 1));\n    } else if (length.text().length === 4) {\n      lengthArray.push(length.text().substr(0, 2));\n    }\n  }\n  return lengthArray;\n}\n// let mousex = 0\n// let mousey = 0\n// let divLeft, divTop\nfunction bindMouseDown() {\n  $(document).unbind('mouseup');\n  $('.matchbox').unbind('mousedown');\n  $('.match').mousedown(function (e) {\n    if ($(this)[0].className.indexOf('match_input') >= 0) {\n      return;\n    }\n    var selItem = $('.selMatch');\n    selItem.removeClass('selMatch');\n    $(this).addClass('selMatch');\n    // const offset = $(this).position()\n    // divLeft = parseInt(offset.left, 10)\n    // divTop = parseInt(offset.top, 10)\n    // mousey = e.pageY\n    // mousex = e.pageX\n    var selectItem = this.className.substr(12, 1);\n    $('.selectedMatch').val(parseInt(selectItem));\n    // $(this).bind('mousemove', dragElement);\n  });\n  // function dragElement (event) {\n  //   if ($('.dragMatch')[0] === undefined) {\n  //     $(this).clone(true).appendTo($('.jigsaw_fd')).addClass('dragMatch')\n  //   }\n  //   const left = divLeft + (event.pageX - mousex)\n  //   const top = divTop + (event.pageY - mousey)\n  //   $('.dragMatch').css({\n  //     'top': top + 'px',\n  //     'left': left + 'px',\n  //     'position': 'absolute'\n  //   })\n  //   return true\n  // }\n  $(document).mouseup(function (e) {\n    $('.match').unbind('mousemove');\n    $('.dragMatch').remove();\n    return true;\n  });\n}\nfunction initViewPre(lengthArray) {\n  if (lengthArray !== undefined) {\n    initMatch(lengthArray);\n    $('.matchCount').val(lengthArray.length);\n  } else if (lengthArray) {\n    return;\n  }\n}\nvar index = void 0;\n// function bindInput () {\n//   $('.dw-li').bind('mousedown', function () {\n//     $('.dw-li').unbind('mousemove', dragInput)\n//     $('.dw-li').bind('mousemove', dragInput)\n//   })\n// }\nfunction dragInput() {\n  console.log('move');\n  if (index === undefined) {\n    index = parseInt($(this).find('div').text());\n    console.log(index);\n  }\n  $('.dw-li').bind('mouseup', mouseupInput);\n}\nfunction mouseupInput() {\n  $('.dw-li').unbind('mousemove', dragInput);\n  index = undefined;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/initViewPrepareLessons.js\n// module id = 40\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/initViewPrepareLessons.js?");

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (controller) {\n  _presenter2.default.controller = controller;\n  _presenter2.default.eventBus = controller.getEventBus();\n  _presenter2.default.eventBus.addEventListener('SyncCallback', _presenter2.default);\n  _presenter2.default.eventBus.addEventListener('PageLoaded', _presenter2.default);\n}; /**\r\n    * Created by Administrator on 2015/12/15.\r\n    */\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/setPlayerController.js\n// module id = 41\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/setPlayerController.js?");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (eventName, eventData) {\n  switch (eventName) {\n    case 'SyncCallback':\n      syncCallback(eventData);\n      break;\n    case 'PageLoaded':\n      // console.log('PageLoaded');\n      break;\n    default:\n    // console.log nothing\n  }\n};\n\nvar syncCallback = function syncCallback(eventData) {\n  var type = eventData.type,\n      value = eventData.value;\n\n  var $button = $(_presenter2.default.view).find('.js-stop-sync-button');\n  switch (type) {\n    case 'request':\n      // 发送任务\n      _presenter2.default.syncId = value.syncId;\n      if (value.result) {\n        // 成功\n        $button.show();\n      } else {\n        window.ClassroomUtils.showTipMessageBox('同步题目失败');\n      }\n      break;\n    case 'cancel':\n      // 结束同步\n      if (value.result) {\n        $button.hide();\n      } else {\n        window.ClassroomUtils.showMessageBox([{\n          html: '关闭'\n        }, {\n          html: '重试',\n          target: 'h5',\n          callback: {\n            eventName: 'Three2DPuzzle',\n            eventData: {\n              source: _presenter2.default.model.ID,\n              item: 'retry'\n            }\n          }\n        }], '结束任务失败！');\n      }\n      break;\n  }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/onEventReceived.js\n// module id = 42\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/onEventReceived.js?");

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _getExtendData = __webpack_require__(31);\n\nvar _getExtendData2 = _interopRequireDefault(_getExtendData);\n\nvar _getQuestionInfo = __webpack_require__(44);\n\nvar _getQuestionInfo2 = _interopRequireDefault(_getQuestionInfo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return {\n    getQuestionInfo: _getQuestionInfo2.default,\n    getExtendData: _getExtendData2.default\n  };\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/getService.js\n// module id = 43\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/getService.js?");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var question_id = '';\n  var question_url = '';\n  if (_presenter2.default.model !== undefined) {\n    try {\n      question_id = _presenter2.default.model.question_id;\n      question_url = JSON.stringify(_presenter2.default.model.question_url);\n    } catch (e) {}\n  }\n\n  return {\n    id: question_id,\n    dispatchOnly: true,\n    type_code: 'Three2DPuzzle',\n    type_name: '图形稳定性',\n    url: question_url,\n    notExistStatistics: true,\n    noNeedQuizProgress: true\n  };\n};\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/getQuestionInfo.js\n// module id = 44\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/getQuestionInfo.js?");

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  var currentRuntime = player.getPlayerServices().getRuntime();\n  switch (currentRuntime) {\n    case icCreatePlayer.RUNTIME.TEACHER_MOBILE:\n      _presenter2.default.isTeacherMobile = true;\n      _presenter2.default.isApp = true;\n      break;\n    case icCreatePlayer.RUNTIME.STUDENT_MOBILE:\n      _presenter2.default.isStudentMobile = true;\n      _presenter2.default.isApp = true;\n      break;\n    case icCreatePlayer.RUNTIME.PROJECTION_MOBILE:\n      _presenter2.default.isProjectionMobile = true;\n      _presenter2.default.isApp = true;\n      break;\n    case icCreatePlayer.RUNTIME.WEB:\n      _presenter2.default.isWeb = true;\n      break;\n    case icCreatePlayer.RUNTIME.TEACHER_PC:\n      _presenter2.default.isTeacherPc = true;\n      break;\n    default:\n      _presenter2.default.isTeacherPc = false;\n      _presenter2.default.isWeb = false;\n      _presenter2.default.isApp = false;\n  }\n};\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/runtime.js\n// module id = 45\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/runtime.js?");

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _presenter = __webpack_require__(1);\n\nvar _presenter2 = _interopRequireDefault(_presenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj) {\n  _presenter2.default.langType = obj._lang_;\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/setLangType.js\n// module id = 46\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/setLangType.js?");

/***/ }),
/* 47 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Three2DPuzzle',\n  type: PresenterType.PRESENTER_COMPONENT\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./ref/presenters/Three2DPuzzle/libs/app/presenter/metaInfo.js\n// module id = 47\n// module chunks = 0\n//# sourceURL=webpack:///./ref/presenters/Three2DPuzzle/libs/app/presenter/metaInfo.js?");

/***/ })
/******/ ]);]]></presenter><resources><file src="./resources/bg_boardtit.jpg"/><file src="./resources/bg_bot.png"/><file src="./resources/bg_botleft.png"/><file src="./resources/bg_botright.png"/><file src="./resources/bg_btn01.png"/><file src="./resources/bg_btn02.png"/><file src="./resources/bg_btn03.png"/><file src="./resources/bg_del_press.png"/><file src="./resources/bg_del.png"/><file src="./resources/bg_grid.png"/><file src="./resources/bg_left.png"/><file src="./resources/bg_mainboard_shadow.png"/><file src="./resources/bg_mainboard.jpg"/><file src="./resources/bg_right.png"/><file src="./resources/bg_top.png"/><file src="./resources/bg_topleft.png"/><file src="./resources/bg_topright.png"/><file src="./resources/bigmatch.png"/><file src="./resources/btn1_hover.png"/><file src="./resources/btn1_normal.png"/><file src="./resources/btn1_press.png"/><file src="./resources/hand_icon.png"/><file src="./resources/icon_add_press.png"/><file src="./resources/icon_add.png"/><file src="./resources/icon_del_active.png"/><file src="./resources/icon_del.png"/><file src="./resources/icon_pad.png"/><file src="./resources/icon_ppt.png"/><file src="./resources/line_bg.png"/><file src="./resources/main_line_bg.png"/><file src="./resources/match_l.png"/><file src="./resources/match_m.png"/><file src="./resources/match_s_active.png"/><file src="./resources/match_s.png"/><file src="./resources/move_active.png"/><file src="./resources/move.png"/><file src="./resources/numbox.png"/><file src="./resources/pattern1.png"/><file src="./resources/rotation_active.png"/><file src="./resources/rotation.png"/><file src="./resources/round.png"/><file src="./resources/wholebg_wood_shadow.png"/><file src="./resources/wholebg_wood.jpg"/></resources></addon>