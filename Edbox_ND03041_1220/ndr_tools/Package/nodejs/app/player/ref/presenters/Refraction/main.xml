<?xml version='1.0' encoding='UTF-8'?>
<addon id="templateid"><properties><property name="question_id" displayName="题目ID" type="string" isLocalized="false"/></properties><dependencies><jsDependency><javaScript name="out_frame" version="1.0.8"/><javaScript name="common_css" version="1.0.0"/><javaScript name="knockout" version="3.3.0"/><javaScript name="lightRefractor" version="1.0.3"/></jsDependency></dependencies><css><![CDATA[.exam_skin_wood .refraction{position:relative;width:100%;height:100%;background:#bfd3e2;text-align:center;overflow:hidden}.exam_skin_wood .refraction .refraction_middle{position:absolute;width:72.5em;height:37.5em;left:50%;top:50%;margin-left:-36.25em;margin-top:-19.91667em}.exam_skin_wood .refraction .refraction_middle.refraction_bg_water{background:url(resources/wood/images/bg_sky.png) no-repeat 50%;background-size:100% auto}.exam_skin_wood .refraction .refraction_mid_container{width:72.5em;height:37.5em}.exam_skin_wood .refraction .refraction_aside,.exam_skin_wood .refraction .refraction_main{vertical-align:top}.exam_skin_wood .refraction .refraction_main{position:relative;float:left;width:63.33333em;height:100%;border-radius:.33333em}.exam_skin_wood .refraction .svg_container{position:relative;float:right;margin-right:2.25em;width:59.16667em;height:100%}.exam_skin_wood .refraction .svg_container_l{position:relative;float:right;width:100%;height:100%}.exam_skin_wood .refraction .refraction_aside{position:relative;float:left;margin-top:3.5em;width:5.83333em;height:31.25em;background:rgba(91,146,186,.15);border-radius:.33333em;overflow:hidden}.exam_skin_wood .refraction .refraction_foot{position:absolute;left:0;right:0;bottom:0;padding:0 4.16667em;height:4.91667em;background:#cfdee9}.exam_skin_wood .refraction .refraction_btm_left{float:right;padding-right:5.5em;height:100%}.exam_skin_wood .refraction .refraction_left_btn_a{display:block;height:100%}.exam_skin_wood .refraction .refraction_left_btn{position:relative;display:inline-block;float:left;min-width:5.41667em;height:100%;margin:0 2.33333em;text-align:center}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghq_normal.png) no-repeat bottom;background-size:2.54167em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.active .refraction_lbtn_icon,.exam_skin_wood .refraction .refraction_left_btn.btn_ghq:active .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghq_active.png) no-repeat bottom;background-size:2.54167em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.active .refraction_lbtn_text,.exam_skin_wood .refraction .refraction_left_btn.btn_ghq:active .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.click_disabled .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghq_dis.png) no-repeat bottom;background-size:2.54167em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.click_disabled .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghqha_normal.png) no-repeat bottom;background-size:2.41667em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle.active .refraction_lbtn_icon,.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle:active .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghqha_active.png) no-repeat bottom;background-size:2.41667em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle.active .refraction_lbtn_text,.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle:active .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle.click_disabled .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghqha_dis.png) no-repeat bottom;background-size:2.41667em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_ghq.hide_angle.click_disabled .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghfx_normal.png) no-repeat bottom;background-size:2.20833em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.active .refraction_lbtn_icon,.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj:active .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghfx_active.png) no-repeat bottom;background-size:2.20833em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.active .refraction_lbtn_text,.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj:active .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.click_disabled .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghfx_dis.png) no-repeat bottom;background-size:2.20833em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.click_disabled .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghfxha_normal.png) no-repeat bottom;background-size:2.20833em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle.active .refraction_lbtn_icon,.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle:active .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghfxha_active.png) no-repeat bottom;background-size:2.20833em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle.active .refraction_lbtn_text,.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle:active .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle.click_disabled .refraction_lbtn_icon{background:url(resources/wood/images/icon_ghfxha_dis.png) no-repeat bottom;background-size:2.20833em auto}.exam_skin_wood .refraction .refraction_left_btn.btn_rfsj.hide_angle.click_disabled .refraction_lbtn_text{color:#292525}.exam_skin_wood .refraction .refraction_left_btn.btn_reset .refraction_lbtn_icon{background:url(resources/wood/images/icon_reset.png);background-size:auto 100%;background-position:0 100%}.exam_skin_wood .refraction .refraction_left_btn.btn_reset:active .refraction_lbtn_icon{background-position:bottom}.exam_skin_wood .refraction .refraction_left_btn.btn_reset.click_disabled .refraction_lbtn_icon{background-position:100% 100%}.exam_skin_wood .refraction .refraction_lbtn_icon{display:block;width:4.16667em;margin:0 auto;height:2.91667em}.exam_skin_wood .refraction .refraction_lbtn_text{display:block;font-size:1.16667em;line-height:1;margin-top:.41667em;color:#292525}.exam_skin_wood .refraction .btn_switch{display:block;width:100%;height:2.91667em;padding-top:.5em}.exam_skin_wood .refraction .applicationset-switch{background:#e8edf0;border-radius:1.04167em;display:inline-block;width:4.16667em;height:2.08333em;border:1px solid #989fa5;line-height:normal;position:relative;cursor:pointer}.exam_skin_wood .refraction .applicationset-switch:before{content:"";width:2.08333em;height:2.08333em;border:1px solid #a3a9ae;position:absolute;left:-2px;top:-2px;border-radius:100%;background:#f2f2f2}.exam_skin_wood .refraction .applicationset-switch.checked{background:#6a9ea1}.exam_skin_wood .refraction .applicationset-switch.checked:before{top:-2px;left:2.08333em;background:#f5f5f5}.exam_skin_wood .refraction .applicationset-switch input[type=checkbox]{cursor:pointer;position:relative;-webkit-appearance:none;opacity:0;width:4.16667em;height:2.08333em}.exam_skin_wood .refraction .refraction_btm_right{position:relative;float:right;height:100%;min-width:27.5em;padding:1.04167em 0 0 1.875em}.exam_skin_wood .refraction .refraction_btm_right:before{content:"";position:absolute;left:0;top:0;display:block;float:left;width:0;height:100%;border-left:1px solid #e7f3fc;border-right:1px solid #b3c1cb}.exam_skin_wood .refraction .refraction_brbtn_lay{float:left;margin:0 1.04167em}.exam_skin_wood .refraction .refraction_brbtn_lay.click_disabled .refraction_brbtn{border-color:#93989a;background:-webkit-linear-gradient(top,#c8d1d7,#c1c8cc);background:linear-gradient(180deg,#c8d1d7 0,#c1c8cc)}.exam_skin_wood .refraction .refraction_brbtn_lay.click_disabled .refraction_brbtn .text{color:#97a0a6}.exam_skin_wood .refraction .refraction_brbtn{display:block;padding:0 .75em;min-width:6.25em;height:2.83333em;line-height:2.75em;background:-webkit-linear-gradient(top,#fff,#e9e9e9);background:linear-gradient(180deg,#fff 0,#e9e9e9);border:1px solid #397274;border-radius:.33333em;color:#333;text-align:center}.exam_skin_wood .refraction .refraction_brbtn .text{font-size:1.16667em}.exam_skin_wood .refraction .refraction_brbtn:active{background:-webkit-linear-gradient(top,#89c5c7,#77b8ba);background:linear-gradient(180deg,#89c5c7 0,#77b8ba);color:#fff}.exam_skin_wood .refraction .refraction_mode_list{position:relative;height:100%}.exam_skin_wood .refraction .refraction_mode{position:relative;float:left;width:100%;height:6.25em;cursor:pointer;background:url(resources/wood/images/icon_preset.png) no-repeat;background-size:3.91667em auto}.exam_skin_wood .refraction .refraction_mode.kqys{background-position:center 0}.exam_skin_wood .refraction .refraction_mode.kqybl{background-position:center -6.25em}.exam_skin_wood .refraction .refraction_mode.kqyslj{background-position:center -12.5em}.exam_skin_wood .refraction .refraction_mode.asksl{background-position:center -18.75em}.exam_skin_wood .refraction .refraction_mode.slkas{background-position:center -25em}.exam_skin_wood .refraction .refraction_mode.on:after{content:"";display:block;position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(91,146,186,.3)}.exam_skin_wood .refraction .tab_container{position:absolute;left:48.54167em;top:15.16667em;width:14.45833em}.exam_skin_wood .refraction .tab_container.under_water .tab_content{background:rgba(0,12,21,.4)}.exam_skin_wood .refraction .tab_container.under_water:before{border-right:.70833em solid rgba(0,12,21,.4)}.exam_skin_wood .refraction .tab_container.under_water:after{border-left:.70833em solid rgba(0,12,21,.4)}.exam_skin_wood .refraction .tab_container:before{border-right:.70833em solid rgba(0,12,21,.72)}.exam_skin_wood .refraction .tab_container:after,.exam_skin_wood .refraction .tab_container:before{content:"";float:left;margin-top:1.54167em;display:block;width:0;height:0;border-top:.5625em solid transparent;border-bottom:.5625em solid transparent}.exam_skin_wood .refraction .tab_container:after{border-left:.70833em solid rgba(0,12,21,.72)}.exam_skin_wood .refraction .tab_container.arrow_left:before{display:block}.exam_skin_wood .refraction .tab_container.arrow_left:after,.exam_skin_wood .refraction .tab_container.arrow_right:before{display:none}.exam_skin_wood .refraction .tab_container.arrow_right:after{display:block}.exam_skin_wood .refraction .tab_content{float:left;max-width:13.66667em;white-space:nowrap;padding:0 .625em;background:rgba(0,12,21,.72);border-radius:.41667em}.exam_skin_wood .refraction .tab_list{float:left;width:4.08333em;height:4.25em;cursor:pointer;background:url(resources/wood/images/things.png) no-repeat;background-size:37.5em 33.33333em}.exam_skin_wood .refraction .tab_list.icon_tree{background-position:0 0;opacity:.46}.exam_skin_wood .refraction .tab_list.icon_human{background-position:-8.33333em 0;opacity:.41}.exam_skin_wood .refraction .tab_list.icon_lighthouse{background-position:-4.16667em 0;opacity:.36}.exam_skin_wood .refraction .tab_list.icon_fish{background-position:-12.5em 0;opacity:.25}.exam_skin_wood .refraction .tab_list.icon_coin{background-position:-16.66667em 0;opacity:.31}.exam_skin_wood .refraction .tab_list.icon_chopsticks{background-position:-20.83333em 0;opacity:.5}.exam_skin_wood .refraction .tab_list.on{opacity:1!important}.exam_skin_wood .refraction .refraction_tip{position:absolute;top:.5em;left:2em;padding:.5em 1em .5em .95833em;background:rgba(106,159,201,.37);border-radius:.33333em;white-space:nowrap}.exam_skin_wood .refraction .refraction_tip_word{display:inline-block;text-align:left;vertical-align:top;font-weight:700}.exam_skin_wood .refraction .refraction_tip_word .faxian,.exam_skin_wood .refraction .refraction_tip_word .rushedian,.exam_skin_wood .refraction .refraction_tip_word .rusheguangxian,.exam_skin_wood .refraction .refraction_tip_word .rushejiao,.exam_skin_wood .refraction .refraction_tip_word .zheshejiao,.exam_skin_wood .refraction .refraction_tip_word .zheshiguangxian{height:2.33333em;line-height:2.33333em}.exam_skin_wood .refraction .refraction_tip_word .faxian .text,.exam_skin_wood .refraction .refraction_tip_word .rushedian .text,.exam_skin_wood .refraction .refraction_tip_word .rusheguangxian .text,.exam_skin_wood .refraction .refraction_tip_word .rushejiao .text,.exam_skin_wood .refraction .refraction_tip_word .zheshejiao .text,.exam_skin_wood .refraction .refraction_tip_word .zheshiguangxian .text{font-size:1.75em}.exam_skin_wood .refraction .refraction_tip_word .faxian .text{color:#4d4d4d}.exam_skin_wood .refraction .refraction_tip_word .rushedian .text{color:#ffe434}.exam_skin_wood .refraction .refraction_tip_word .zheshejiao .text{color:#04740b}.exam_skin_wood .refraction .refraction_tip_word .rushejiao .text{color:#8300de}.exam_skin_wood .refraction .refraction_tip_word .rusheguangxian .text{color:#005798}.exam_skin_wood .refraction .refraction_tip_word .zheshiguangxian .text{color:#cb1f1f}.exam_skin_wood .refraction .refraction_tip_pic{display:inline-block;margin-left:1.41667em;width:3.04167em;text-align:center;vertical-align:top}.exam_skin_wood .refraction .refraction_tip_pic li{width:100%;height:2.33333em;background:url(resources/wood/images/tips.png) no-repeat;background-size:100% auto}.exam_skin_wood .refraction .refraction_tip_pic .faxian{background-position:0 0}.exam_skin_wood .refraction .refraction_tip_pic .rushedian{background-position:0 -2.66667em}.exam_skin_wood .refraction .refraction_tip_pic .zheshejiao{background-position:0 -5.5em}.exam_skin_wood .refraction .refraction_tip_pic .rushejiao{background-position:0 -8.25em}.exam_skin_wood .refraction .refraction_tip_pic .rusheguangxian{background-position:0 -11.16667em}.exam_skin_wood .refraction .refraction_tip_pic .zheshiguangxian{background-position:0 -14em}.exam_skin_wood .refraction .refraction_static_txt{z-index:1;position:absolute;top:0;left:0;width:100%;height:100%;background:0 0;pointer-events:none}.exam_skin_wood .refraction .text_kq{font-size:2.5em;font-weight:700;color:#4d4d4d}.exam_skin_wood .refraction .text_water{font-size:2.5em;font-weight:700;color:#dffbff}.exam_skin_wood .refraction .text_glass{font-size:2.5em;font-weight:700;color:#6a9ea1}.exam_skin_wood .refraction .refra_preset_01{position:relative}.exam_skin_wood .refraction .refra_preset_01 .pos_1{position:absolute;right:5.20833em;top:5.58333em}.exam_skin_wood .refraction .refra_preset_01 .pos_2{position:absolute;right:7.91667em;top:21.20833em}.exam_skin_wood .refraction .refra_preset_02{position:relative}.exam_skin_wood .refraction .refra_preset_02 .pos_1{position:absolute;right:8em;top:3.29167em}.exam_skin_wood .refraction .refra_preset_02 .pos_2{position:absolute;right:15em;top:13.875em}.exam_skin_wood .refraction .refra_preset_03{position:relative}.exam_skin_wood .refraction .refra_preset_03 .pos_1{position:absolute;right:8em;top:3.29167em}.exam_skin_wood .refraction .refra_preset_03 .pos_2{position:absolute;right:16.58333em;top:24.41667em;width:24em}.exam_skin_wood .refraction .refra_preset_04{position:relative}.exam_skin_wood .refraction .refra_preset_04 .pos_1{position:absolute;right:3.29167em;top:11.875em}.exam_skin_wood .refraction .refra_preset_04 .pos_2{position:absolute;right:5.70833em;top:21.20833em}.exam_skin_wood .refraction .refra_preset_05{position:relative}.exam_skin_wood .refraction .refra_preset_05 .pos_1{position:absolute;right:.79167em;top:4.29167em}.exam_skin_wood .refraction .refra_preset_05 .pos_2{position:absolute;left:5.875em;top:27.58333em}.exam_skin_wood .lightMovement .bg_blue{fill:#005798}.exam_skin_wood .lightMovement .bg_red{fill:#cb1f1f}.exam_skin_wood .lightMovement .bg_purple{fill:#775176}.exam_skin_wood .hide_dom{display:none}.exam_skin_wood .lightMovement .svg_text.color_purple{fill:#8300de}.exam_skin_wood .lightMovement div.fm{height:100%}.lightMovement div{-webkit-tap-highlight-color:rgba(255,255,255,0)}.lightMovement .arrow_blue,.lightMovement .arrow_purple,.lightMovement .arrow_red,.lightMovement .btn_openlist,.lightMovement .btn_rotate,.lightMovement .btn_translate{background:url(resources/wood/images/icon_movelight.png) no-repeat;background-size:600px 150px}.lightMovement .icon_eye,.lightMovement .real_chopsticks,.lightMovement .real_coin,.lightMovement .real_fish,.lightMovement .real_human,.lightMovement .real_lighthouse,.lightMovement .real_tree{background:url(resources/wood/images/things.png) no-repeat;background-size:900px 800px}.lightMovement .point_circle{fill:#ffe013}.lightMovement .arrow_blue{width:34px;height:45px;background-position:0 0}.lightMovement .arrow_blue.on{background-position:-50px 0}.lightMovement .arrow_red{width:34px;height:45px;background-position:-200px 0}.lightMovement .arrow_red.on{background-position:-250px 0}.lightMovement .arrow_purple{width:34px;height:45px;background-position:-100px 0}.lightMovement .arrow_purple.on{background-position:-150px 0}.lightMovement .btn_rotate{width:64px;height:64px;background-position:0 -70px;cursor:pointer}.lightMovement .btn_rotate.on{background-position:-100px -70px}.lightMovement .btn_translate{width:64px;height:64px;background-position:-200px -70px;cursor:pointer}.lightMovement .btn_translate.on{background-position:-300px -70px}.lightMovement .btn_openlist{width:64px;height:64px;background-position:-400px -70px;cursor:pointer}.lightMovement .btn_openlist.on{background-position:-500px -70px}.lightMovement .svg_text{font-family:Times New Roman;font-size:72px;font-weight:400}.lightMovement .svg_text.color_orange{fill:#d58b22}.lightMovement .svg_text.color_blue{fill:#2383cc}.lightMovement .svg_text.color_green{fill:#3c8f41}.lightMovement .svg_text.color_red{fill:#cb1f1f}.lightMovement .svg_text.color_black{fill:#4d4d4d}.lightMovement .svg_text_l{font-size:85px;font-weight:700}.lightMovement .svg_text_l.color_black{fill:#4d4d4d}.lightMovement .svg_text_l.color_white{fill:#dffbff}.lightMovement .svg_text_l.color_glass{fill:#6a9ea1}.lightMovement .line_normal{stroke:#4d4d4d;stroke-width:4;stroke-dasharray:14}.lightMovement .line_dashred{stroke:#cb1f1f;stroke-width:4;stroke-dasharray:14}.lightMovement .bg_water{width:1420px;height:396px;background:url(resources/wood/images/bg_water.png) no-repeat 50%;background-size:100% 100%}.lightMovement .bg_waterground{width:1520px;height:474px;background:url(resources/wood/images/bg_waterground.png) no-repeat 100% 100%;background-size:100% 100%}.lightMovement .bg_glassrect{width:905px;height:453px;background:url(resources/wood/images/glass_rect.png) no-repeat 100% 100%;background-size:100% 100%}.lightMovement .bg_glasstria{width:771px;height:635px;background:url(resources/wood/images/glass_tria.png) no-repeat 100% 100%;background-size:100% 100%}.lightMovement .icon_eye{width:64px;height:44px;background-position:-596px 4px}.lightMovement .real_fish{width:90px;height:78px;background-position:-696px 4px}.lightMovement .real_coin{width:85px;height:82px;background-position:-796px 4px}.lightMovement .real_chopsticks{width:558px;height:27px;background-position:0 -120px}.lightMovement .fake_chopsticks,.lightMovement .fake_coin,.lightMovement .fake_fish{opacity:.6}.lightMovement .real_tree{width:383px;height:252px;background-position:0 -200px}.lightMovement .real_lighthouse{width:383px;height:252px;background-position:-400px -200px}.lightMovement .real_human{width:383px;height:252px;background-position:0 -500px}.lightMovement .fake_tree{opacity:.42}.lightMovement .fake_lighthouse{opacity:.37}.lightMovement .fake_human{opacity:.32}.typefaces_long .exam_skin_wood .refraction .refraction_tip_word .faxian .text,.typefaces_long .exam_skin_wood .refraction .refraction_tip_word .rushedian .text,.typefaces_long .exam_skin_wood .refraction .refraction_tip_word .rusheguangxian .text,.typefaces_long .exam_skin_wood .refraction .refraction_tip_word .rushejiao .text,.typefaces_long .exam_skin_wood .refraction .refraction_tip_word .zheshejiao .text,.typefaces_long .exam_skin_wood .refraction .refraction_tip_word .zheshiguangxian .text{display:inline-block;font-size:1.41667em;white-space:normal;max-width:7.5em;line-height:.9}.typefaces_long .exam_skin_wood .refraction .refraction_tip{padding:.5em 1em 1em .95833em}.typefaces_long .exam_skin_wood .refraction .refraction_tip_word li{margin:.20833em 0 0}.typefaces_long .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(3),.typefaces_long .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(6){margin-top:.5em}.typefaces_long .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(2),.typefaces_long .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(5){margin-top:0}.typefaces_long .exam_skin_wood .refraction .refraction_tip_pic{margin-left:1em}.typefaces_long .exam_skin_wood .refraction .refraction_tip_pic li{margin:.16667em 0}.typefaces_long .exam_skin_wood .refraction .refraction_brbtn{max-width:11.04167em;line-height:1.2em;height:2.83333em}.typefaces_long .exam_skin_wood .refraction .refraction_brbtn .text{font-size:1.08333em}.typefaces_long .exam_skin_wood .refraction_btm_right{padding-right:1.9em}.typefaces_long .exam_skin_wood .refraction_btm_right .refraction_brbtn_lay{margin:0 .5em}.typefaces_long .exam_skin_wood .refraction_btm_right .refraction_brbtn_lay .text{width:auto;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}.typefaces_long .exam_skin_wood .refraction_btm_left{padding-right:3em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn{margin:0 .83333em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(2){margin-left:1.04167em;margin-right:4.58333em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(2) .refraction_left_btn_a{max-width:11.66667em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(2) .refraction_left_btn_a .refraction_lbtn_text{font-size:1.08333em;line-height:1;margin-top:-.3em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:first-of-type{margin:0 1.45833em 0 4.41667em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:first-of-type .refraction_lbtn_text{display:none}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:first-of-type .refraction_lbtn_icon{margin-top:.5em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(3){padding-top:.4em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(3) .btn_switch{padding-top:.2em}.typefaces_long .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(3) .refraction_lbtn_text{margin-top:0;font-size:1.08333em;line-height:1;white-space:nowrap}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word .faxian .text,.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word .rushedian .text,.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word .rusheguangxian .text,.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word .rushejiao .text,.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word .zheshejiao .text,.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word .zheshiguangxian .text{display:inline-block;font-size:1.41667em;white-space:normal;max-width:7.5em;line-height:.9}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip{padding:.5em 1em 1em .95833em}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word li{margin:.20833em 0 0}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(3),.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(6){margin-top:.5em}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(2),.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_word li:nth-of-type(5){margin-top:0}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_pic{margin-left:1em}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_tip_pic li{margin:.16667em 0}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_brbtn{max-width:11.04167em;line-height:1.2em;height:2.83333em}.typefaces_ru_RU .exam_skin_wood .refraction .refraction_brbtn .text{font-size:1.08333em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_right{padding-right:1.9em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_right .refraction_brbtn_lay{margin:0 .5em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_right .refraction_brbtn_lay .text{width:auto;display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left{padding-right:3em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn{margin:0 .83333em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(2){margin-left:1.04167em;margin-right:4.58333em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(2) .refraction_left_btn_a{max-width:11.66667em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(2) .refraction_left_btn_a .refraction_lbtn_text{font-size:1.08333em;line-height:1;margin-top:-.3em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:first-of-type{margin:0 1.45833em 0 4.41667em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:first-of-type .refraction_lbtn_text{display:none}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:first-of-type .refraction_lbtn_icon{margin-top:.5em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(3){padding-top:.4em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(3) .btn_switch{padding-top:.2em}.typefaces_ru_RU .exam_skin_wood .refraction_btm_left .refraction_left_btn:nth-of-type(3) .refraction_lbtn_text{margin-top:0;font-size:1.08333em;line-height:1;white-space:nowrap}]]></css><view><![CDATA[<div class="exam_skin_wood"><div class="refraction lightMovement _refraction"><div class="refraction_middle refraction_bg_water"><div class="refraction_mid_container"><div class="refraction_main"><div class="refraction_tip"><ul class="refraction_tip_word"><li class="faxian"><span class="text" data-bind="text:refraction_normal_line">法线</span></li><li class="rushedian"><span class="text" data-bind="text:refraction_incidence_point">入射点</span></li><li class="zheshejiao"><span class="text" data-bind="text:refraction_refraction_angle">折射角</span></li><li class="rushejiao"><span class="text" data-bind="text:refraction_incidence_angle">入射角</span></li><li class="rusheguangxian"><span class="text" data-bind="text:refraction_incidence_line">入射光线</span></li><li class="zheshiguangxian"><span class="text" data-bind="text:refraction_refraction_line">折射光线</span></li></ul><ul class="refraction_tip_pic"><li class="faxian"></li><li class="rushedian"></li><li class="zheshejiao"></li><li class="rushejiao"></li><li class="rusheguangxian"></li><li class="zheshiguangxian"></li></ul></div><div class="svg_container _refraction_main_svg"></div><div class="tab_container under_water arrow_right hide_dom _refraction_tab_container4" style="left: 6em;top: 28.9583em"><ul class="tab_content clearfix _tab_content"><li class="tab_list icon_fish on" data-name="Fish"></li><li class="tab_list icon_coin" data-name="GoldCoin"></li><li class="tab_list icon_chopsticks" data-name="Chopsticks"></li></ul></div><div class="tab_container arrow_left hide_dom _refraction_tab_container5" style="left: 48.54167em;top: 15.16667em"><ul class="tab_content clearfix _tab_content"><li class="tab_list icon_tree on" data-name="Tree"></li><li class="tab_list icon_human" data-name="Human"></li><li class="tab_list icon_lighthouse" data-name="LightHouse"></li></ul></div></div><div class="refraction_aside"><ul class="refraction_mode_list _refraction_mode_list"><li class="refraction_mode kqys on" data-scene="1"></li><li class="refraction_mode kqybl" data-scene="2"></li><li class="refraction_mode kqyslj" data-scene="3"></li><li class="refraction_mode asksl" data-scene="4"></li><li class="refraction_mode slkas" data-scene="5"></li></ul></div></div></div><div class="refraction_foot"><ul class="refraction_btm_right clearfix"><li class="refraction_brbtn_lay _btn_one_key_done"><a href="javaScript:;" class="refraction_brbtn"><em class="text" data-bind="text:refraction_one_key_complete">一键完成</em></a></li><li class="refraction_brbtn_lay _btn_step_draw"><a href="javaScript:;" class="refraction_brbtn"><em class="text" data-bind="text:refraction_step_draw">逐步画</em></a></li></ul><ul class="refraction_btm_left clearfix"><li class="refraction_left_btn btn_reset _btn_reset click_disabled"><a href="javascript:;" class="refraction_left_btn_a"><i class="refraction_lbtn_icon"></i> <em class="refraction_lbtn_text" data-bind="text:refraction_reset">重置</em></a></li><li class="refraction_left_btn btn_rfsj _btn_incidence"><a href="javascript:;" class="refraction_left_btn_a"><i class="refraction_lbtn_icon"></i> <em class="refraction_lbtn_text" data-bind="text:refraction_incidence_refraction_angle">入/折射角</em></a></li></ul></div></div></div>]]></view><presenter><![CDATA['use strict';

(function () {
    var helper = {
        currentScene: 1, //当前的预设场景
        stepCount: 0, //逐步画的步骤索引
        materialObjectName4: '', //实体的名字
        materialObjectName5: '', //实体的名字
        domObj: {} //所有用到的dom对象
    };
    var Presenter = BasicPresenter.extend({
        metaInfo: {
            name: "Refraction",
            type: PresenterType.PRESENTER_COMPONENT,
            subtype: ""
        },
        /**
         * Presenter的初始化方法
         * @private
         */
        $init: function $init() {
            this._super();
        },
        /**
         * Presenter对外暴露的方法
         */
        _service_: {
            constructor: function constructor(parent) {
                this.parent = parent;
            },
            setLocationProperties: function setLocationProperties(properties) {
                helper.i18n = properties;
            },
            getExtendData: function getExtendData() {
                var options = {};
                options = {
                    value: this.parent.refractor.getData(),
                    scene: helper.domObj.sceneContainer.find('li.on').data('scene'),
                    //stepCount: helper.stepCount,
                    btnIncidenceDisabled: helper.domObj.btnIncidence.hasClass('hide_angle'),
                    //btnShowNameChecked: helper.domObj.btnShowName.find('label').hasClass('checked'),
                    //btnOneKeyDoneDisabled: helper.domObj.btnOneKeyDone.hasClass('click_disabled'),
                    //btnStepDrawDisabled: helper.domObj.btnStepDraw.hasClass('click_disabled'),
                    materialObjectName4: helper.materialObjectName4,
                    materialObjectName5: helper.materialObjectName5
                };

                return options;
            },
            getQuestionInfo: function getQuestionInfo() {
                var url = '';
                try {
                    url = JSON.stringify(ctrl.url);
                } catch (e) {

                    console.log('json stringify failed');
                }
                return {
                    'id': ctrl.questionId,
                    'type_code': 'Refraction',
                    'type_name': helper.i18n['Refraction_Refraction_tool'],
                    'url': '"' + url + '"',
                    'notExistStatistics': true,
                    'noNeedQuizProgress': true
                };
            }

        },
        getService: function getService() {
            this._service_.constructor(this);
            return this._service_;
        },
        /****以下开始为icPlayer的生命周期方法*****/
        run: function run(view, model) {
            var that = this;
            this.$view = $(view);
            this.model = model;
            var offset = this.$view.offset();
            //  LightRefractor.setLang(helper.i18n);
            var langData = {
                'rf_incidence_line_name': '入射光线',
                'rf_incidence_angle': '入射角',
                'rf_incidence_point': '入射点O',
                'rf_normal_name': '法线N',
                'rf_refraction_line_name': '折射光线',
                'rf_refraction_angle': '折射角',
                'rf_refraction_surface': '折射面',
                'rf_equal_angle_name': '折射角=入射角=0°',
                "refraction_air": "空气",
                "refraction_water": "水",
                "refraction_glass": "玻璃",
                "refraction_prism": "三棱镜"
            };
            langData.refraction_air = helper.i18n.refraction_air;
            langData.refraction_water = helper.i18n.refraction_water;
            langData.refraction_glass = helper.i18n.refraction_glass;
            langData.refraction_prism = helper.i18n.refraction_prism;

            this.refractor = LightRefractor.create({
                refractorType: [1, 2, 3, 4, 5],
                nameVisible: false,
                surfaceAngleVisible: false,
                normalAngleVisible: true,
                langData: langData
                //langData: helper.i18n
            });

            LightRefractor.setLogLevel('debug');
            that.refractor.on('change', function (type) {
                console.log('change', type);
                if (that.refractor.hasNext()) {
                    $('._btn_one_key_done').removeClass('click_disabled');
                    $('._btn_step_draw').removeClass('click_disabled');
                } else {
                    $('._btn_one_key_done').addClass('click_disabled');
                    $('._btn_step_draw').addClass('click_disabled');
                }
                /*改变状态*/
                if (that.refractor.getCurRefResetState()) {
                    $("._btn_reset").removeClass('click_disabled');
                } else {
                    $('._btn_reset').addClass('click_disabled');
                }
            });
        },
        pageShow: function pageShow(view, model) {
            var self = this;
            self._initComponent();
            self._bindEvent();
            self.refractor.render(self.$view.find('._refraction_main_svg'));
            ko.applyBindings(helper.i18n, view);
            var extendData = model['__ExtendModel'];
            if (!$.isEmptyObject(extendData)) {
                $('.refraction_mode_list li').removeClass('on');
                $('.refraction_mode_list li[data-scene="' + extendData.scene + '"]').addClass('on');
                extendData.btnIncidenceDisabled && helper.domObj.btnIncidence.addClass('hide_angle');
                //   !extendData.btnShowNameChecked && helper.domObj.btnShowName.trigger('click');
                //   if (extendData.btnOneKeyDoneDisabled && extendData.btnStepDrawDisabled) {
                //       helper.domObj.btnOneKeyDone.trigger('click');
                //   } else {
                //       for (var i = 0; i < extendData.stepCount; i++) {
                //           helper.domObj.btnStepDraw.trigger('click');
                //       }
                //   }
                //   extendData.btnOneKeyDoneDisabled && helper.domObj.btnOneKeyDone.addClass('click_disabled');
                //   extendData.btnStepDrawDisabled && helper.domObj.btnStepDraw.addClass('click_disabled');
                //this.refractor.setData(extendData.value);
                self.refractor.setData(extendData.value);
                self.refractor.render(self.$view.find('._refraction_main_svg'));
                //预设4
                helper.materialObjectName4 = extendData.materialObjectName4;
                if (helper.materialObjectName4) {
                    //点亮实物对象
                    self.$view.find('#materialObjectGroup4 g').hide();
                    self.$view.find('#real' + helper.materialObjectName4 + 'Group').show();

                    //点亮实物成像对象
                    self.$view.find('#materialObjectImagingGroup4 g').hide();
                    self.$view.find('#imaging' + helper.materialObjectName4 + 'Group').show();

                    self.$view.find('._refraction_tab_container4 ._tab_content li').removeClass('on');
                    self.$view.find('._refraction_tab_container4 ._tab_content li[data-name="' + helper.materialObjectName4 + '"]').addClass('on');
                    self.$view.find('#arrowButtonGroup4').show();
                }
                //预设5
                helper.materialObjectName5 = extendData.materialObjectName5;
                if (helper.materialObjectName5) {
                    //点亮实物对象
                    self.$view.find('#materialObjectGroup5 g').hide();
                    self.$view.find('#real' + helper.materialObjectName5 + 'Group').show();

                    //点亮实物成像对象
                    self.$view.find('#materialObjectImagingGroup5 g').hide();
                    self.$view.find('#imaging' + helper.materialObjectName5 + 'Group').show();

                    self.$view.find('._refraction_tab_container5 ._tab_content li').removeClass('on');
                    self.$view.find('._refraction_tab_container5 ._tab_content li[data-name="' + helper.materialObjectName4 + '"]').addClass('on');
                    self.$view.find('#arrowButtonGroup5').show();
                }
            }
        },
        pageLeave: function pageLeave() {
            this._unbindEvent();
        },
        destroy: function destroy() {

            this.refractor.destroy();
        },
        /**如果不需要处理icplayer的状态恢复事件, 请将以下两个方法删除掉**/
        getState: function getState() {
            //var data = this.refractor.getData();
            //console.log(data);
            //return data;


        },
        setState: function setState(state, options) {
            var that = this;
            //设置数据
            //var data = {
            //    "version": "1.0.0",
            //    "data": [{
            //        "type": 1,
            //        "lightComplex": {
            //            "incidenceAngle": 62.33558433766709
            //        },
            //        "surfaceAngle": -20.027878556757944
            //    }]
            //};
            //this.reflector.setData(data);
            //this.reflector.render(that.$view.find('.reflection_main_svg'));
        },
        /****以下开始为Presenter的私有方法*****/
        _initComponent: function _initComponent() {
            var self = this;
            //svg的容器
            helper.domObj.svgContainer = self.$view.find('._refraction_main_svg');
            //重置按钮
            helper.domObj.btnReset = self.$view.find('._btn_reset');
            //入/折射角按钮
            helper.domObj.btnIncidence = self.$view.find('._btn_incidence');
            //显示按钮按钮
            helper.domObj.btnShowName = self.$view.find('._btn_show_name');
            //一键完成按钮
            helper.domObj.btnOneKeyDone = self.$view.find('._btn_one_key_done');
            //逐步画按钮
            helper.domObj.btnStepDraw = self.$view.find('._btn_step_draw');
            //所有预设场景窗口
            helper.domObj.sceneContainer = self.$view.find('._refraction_mode_list');
            //所有预设场景
            helper.domObj.scenes = self.$view.find('._refraction_mode_list li');
            //预设1
            helper.domObj.scene1 = self.$view.find('._refraction_mode_list li[data-scene="1"]');
            //预设2
            helper.domObj.scene2 = self.$view.find('._refraction_mode_list li[data-scene="2"]');
            //预设3
            helper.domObj.scene3 = self.$view.find('._refraction_mode_list li[data-scene="3"]');
            //预设4
            helper.domObj.scene4 = self.$view.find('._refraction_mode_list li[data-scene="4"]');
            //预设5
            helper.domObj.scene5 = self.$view.find('._refraction_mode_list li[data-scene="5"]');
        },
        _bindEvent: function _bindEvent() {
            var self = this;

            //窗体内容的点击
            self.$view.click(function (e) {
                self.$view.find('._refraction_tab_container4').addClass('hide_dom');
                self.$view.find('._refraction_tab_container5').addClass('hide_dom');
                self.$view.find('#arrowButtonGroup4').show();
                self.$view.find('#arrowButtonGroup5').show();
            });

            //预设场景4实物的切换
            self.$view.find('._refraction_tab_container4 ._tab_content li').click(function (e) {
                self.$view.find('._refraction_tab_container4 ._tab_content li').removeClass('on');
                $(this).addClass('on');

                //点亮实物对象
                self.$view.find('#materialObjectGroup4 g').hide();
                self.$view.find('#real' + $(this).data('name') + 'Group').show();

                //点亮实物成像对象
                self.$view.find('#materialObjectImagingGroup4 g').hide();
                self.$view.find('#imaging' + $(this).data('name') + 'Group').show();

                helper.materialObjectName4 = $(this).data('name');

                if ($(this).index() != 0 && !self.refractor.getCurRefResetState()) {
                    self.refractor.setCurRefResetState(true);
                }
            });

            //预设场景5实物的切换
            self.$view.find('._refraction_tab_container5 ._tab_content li').click(function (e) {
                self.$view.find('._refraction_tab_container5 ._tab_content li').removeClass('on');
                $(this).addClass('on');

                //点亮实物对象
                self.$view.find('#materialObjectGroup5 g').hide();
                self.$view.find('#real' + $(this).data('name') + 'Group').show();

                //点亮实物成像对象
                self.$view.find('#materialObjectImagingGroup5 g').hide();
                self.$view.find('#imaging' + $(this).data('name') + 'Group').show();

                helper.materialObjectName5 = $(this).data('name');
                if ($(this).index() != 0 && !self.refractor.getCurRefResetState()) {
                    self.refractor.setCurRefResetState(true);
                }
            });

            //重置按钮点击
            helper.domObj.btnReset.on('click', function (e) {
                if (helper.domObj.btnReset.hasClass('click_disabled')) {
                    return;
                }
                //self.refractor.reset(helper.currentScene - 1);
                //helper.domObj.btnReset.addClass('click_disabled');
                //
                //helper.domObj.btnOneKeyDone.removeClass('click_disabled');
                //helper.domObj.btnStepDraw.removeClass('click_disabled');
                self.refractor.reset();
            });
            //入射角、折射角显示隐藏点击
            helper.domObj.btnIncidence.on('click', function (e) {
                self.refractor.setNormalAngleVisible(!self.refractor.getNormalAngleVisible());
                helper.domObj.btnIncidence.toggleClass('hide_angle');

                if (self.refractor.getNormalAngleVisible()) {
                    //预设4入射角
                    self.$view.find('#angle42Group4 text,#angle32Group4 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                    //预设4折射角
                    self.$view.find('#angle63Group4 text,#angle45Group4 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                    //预设5入射角
                    self.$view.find('#angle45Group5 text,#angle63Group5 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                    //预设5折射角
                    self.$view.find('#angle32Group5 text,#angle42Group5 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                } else {
                    //预设4入射角
                    self.$view.find('#angle42Group4 text,#angle32Group4 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                    //预设4折射角
                    self.$view.find('#angle63Group4 text,#angle45Group4 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                    //预设5入射角
                    self.$view.find('#angle45Group5 text,#angle63Group5 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                    //预设5折射角
                    self.$view.find('#angle32Group5 text,#angle42Group5 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                }
            });
            //显示隐藏名称点击
            helper.domObj.btnShowName.on('click', function (e) {
                var $this = $(this);
                var $label = $this.find('label');
                $label.toggleClass('checked');
                //显示或隐藏名称
                self.refractor.setNameVisible(!self.refractor.getNameVisible());

                if (self.refractor.getNameVisible()) {
                    //预设4入射线
                    self.$view.find('#incidenceLineGroup4 text')[0].classList.remove('hide_dom');
                    //预设4入射点
                    self.$view.find('#incidencePointGroup4 text')[0].classList.remove('hide_dom');
                    //预设4折射光线
                    self.$view.find('#refractionLineGroup4 text')[0].classList.remove('hide_dom');
                    //预设4入射角
                    self.$view.find('#incidenceAngle42Group4 text,#incidenceAngle32Group4 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                    //预设4折射角
                    self.$view.find('#refractionAngle63Group4 text,#refractionAngle45Group4 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                    //预设5入射线
                    self.$view.find('#incidenceLineGroup5 text')[0].classList.remove('hide_dom');
                    //预设5入射点
                    self.$view.find('#incidencePointGroup5 text')[0].classList.remove('hide_dom');
                    //预设5折射光线
                    self.$view.find('#refractionLineGroup5 text')[0].classList.remove('hide_dom');
                    //预设5入射角
                    self.$view.find('#incidenceAngle45Group5 text,#incidenceAngle63Group5 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                    //预设5折射角
                    self.$view.find('#refractionAngle32Group5 text,#refractionAngle42Group5 text').attr('class', function (index, classes) {
                        return classes.replace(/hide_dom/g, '');
                    });
                } else {
                    //预设4入射线
                    self.$view.find('#incidenceLineGroup4 text')[0].classList.add('hide_dom');
                    //预设4入射点
                    self.$view.find('#incidencePointGroup4 text')[0].classList.add('hide_dom');
                    //预设4折射光线
                    self.$view.find('#refractionLineGroup4 text')[0].classList.add('hide_dom');
                    //预设4入射角
                    self.$view.find('#incidenceAngle42Group4 text,#incidenceAngle32Group4 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                    //预设4折射角
                    self.$view.find('#refractionAngle63Group4 text,#refractionAngle45Group4 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                    //预设5入射线
                    self.$view.find('#incidenceLineGroup5 text')[0].classList.add('hide_dom');
                    //预设5入射点
                    self.$view.find('#incidencePointGroup5 text')[0].classList.add('hide_dom');
                    //预设5折射光线
                    self.$view.find('#refractionLineGroup5 text')[0].classList.add('hide_dom');
                    //预设5入射角
                    self.$view.find('#incidenceAngle45Group5 text,#incidenceAngle63Group5 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                    //预设5折射角
                    self.$view.find('#refractionAngle32Group5 text,#refractionAngle42Group5 text').attr('class', function (index, classes) {
                        return classes + ' hide_dom';
                    });
                }
            });
            //点击一键完成
            helper.domObj.btnOneKeyDone.on('click', function (e) {
                helper.domObj.btnReset.removeClass('click_disabled');
                self.refractor.drawAll();
                helper.domObj.btnOneKeyDone.addClass('click_disabled');
                helper.domObj.btnStepDraw.addClass('click_disabled');
            });
            //点击逐步画
            helper.domObj.btnStepDraw.on('click', function (e) {
                if (helper.domObj.btnStepDraw.hasClass('click_disabled')) {
                    return;
                }
                helper.domObj.btnReset.removeClass('click_disabled');
                helper.stepCount++;
                self.refractor.drawNext();
                if (self.refractor.hasNext()) {
                    helper.domObj.btnOneKeyDone.removeClass('click_disabled');
                    helper.domObj.btnStepDraw.removeClass('click_disabled');
                } else {
                    helper.domObj.btnOneKeyDone.addClass('click_disabled');
                    helper.domObj.btnStepDraw.addClass('click_disabled');
                }
            });

            //切换预设场景的点击
            helper.domObj.scenes.click(function (e) {
                var $this = $(this);
                helper.currentScene = $this.data('scene');
                self.refractor.show(helper.currentScene - 1);
                $this.addClass('on').siblings('li').removeClass('on');
                switch (helper.currentScene) {
                    case 1:
                    case 4:
                        helper.domObj.svgContainer.removeClass('svg_container_l').addClass('svg_container');
                        break;
                    default:
                        helper.domObj.svgContainer.removeClass('svg_container').addClass('svg_container_l');
                }

                if (self.refractor.hasNext()) {
                    helper.domObj.btnOneKeyDone.removeClass('click_disabled');
                    helper.domObj.btnStepDraw.removeClass('click_disabled');
                } else {
                    helper.domObj.btnOneKeyDone.addClass('click_disabled');
                    helper.domObj.btnStepDraw.addClass('click_disabled');
                }
            });
        },
        _unbindEvent: function _unbindEvent() {}
    });

    window.AddonRefraction_create = function () {
        return new Presenter('Refraction');
    };
})();]]></presenter><resources><file src="./resources/wood/images/bg_sky.png"/><file src="./resources/wood/images/bg_water.png"/><file src="./resources/wood/images/bg_waterground.png"/><file src="./resources/wood/images/glass_rect.png"/><file src="./resources/wood/images/glass_tria.png"/><file src="./resources/wood/images/icon_ghfx_active.png"/><file src="./resources/wood/images/icon_ghfx_dis.png"/><file src="./resources/wood/images/icon_ghfx_normal.png"/><file src="./resources/wood/images/icon_ghfxha_active.png"/><file src="./resources/wood/images/icon_ghfxha_normal.png"/><file src="./resources/wood/images/icon_movelight.png"/><file src="./resources/wood/images/icon_preset.png"/><file src="./resources/wood/images/icon_reset_active.png"/><file src="./resources/wood/images/icon_reset_dis.png"/><file src="./resources/wood/images/icon_reset_normal.png"/><file src="./resources/wood/images/icon_reset.png"/><file src="./resources/wood/images/things.png"/><file src="./resources/wood/images/tips.png"/></resources></addon>