!function(){CKEDITOR.plugins.add("textEntryInteraction",{lang:["zh"],getPlaceholderCss:function(){return"img.cke_textEntryInteraction{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border-bottom: 1px solid #555555;width: 100px;height: 30px;}"},onLoad:function(){CKEDITOR.addCss&&CKEDITOR.addCss(this.getPlaceholderCss())},init:function(editor){var lang=editor.lang.textEntryInteraction;editor.addCommand("textEntryInteraction",new CKEDITOR.command(editor,{exec:function(editor){textEntryNode=CKEDITOR.dom.element.createFromHtml("<cke:textEntryInteraction></cke:textEntryInteraction>",editor.document),textEntryNode.setAttributes({responseIdentifier:auto_id()});var newFakeImage=editor.createFakeElement(textEntryNode,"cke_textEntryInteraction","textEntryInteraction",!1);editor.insertElement(newFakeImage);var span=CKEDITOR.dom.element.createFromHtml("<span></span>");editor.insertElement(span),editor.getSelection().selectElement(span)},allowedContent:"textentryinteraction[*]"})),editor.ui.addButton("textEntryInteraction",{label:lang.toolbar,command:"textEntryInteraction",icon:this.path+"images/icon.png"}),editor.addCss&&editor.addCss(this.getPlaceholderCss()),editor.lang.fakeobjects.textEntryInteraction=lang.fakeObject;this.path;editor.on("change",function(){setTextEntrySequence(editor)})},afterInit:function(editor){var dataProcessor=editor.dataProcessor;dataProcessor&&dataProcessor.htmlFilter;(dataProcessor&&dataProcessor.dataFilter).addRules({elements:{$:function(realElement){if("textEntryInteraction"==realElement.name||"textentryinteraction"==realElement.name){realElement.name="cke:textEntryInteraction";var fakeElement=editor.createFakeParserElement(realElement,"cke_textEntryInteraction","textEntryInteraction",!1),fakeStyle=fakeElement.attributes.style||"",width=realElement.attributes.width,height=realElement.attributes.height;return void 0!==width&&(fakeStyle=fakeElement.attributes.style=fakeStyle+"width:"+CKEDITOR.tools.cssLength(width)+";"),void 0!==height&&(fakeStyle=fakeElement.attributes.style=fakeStyle+"height:"+CKEDITOR.tools.cssLength(height)+";"),fakeElement}}}})}});var zh={toolbar:"插入填空项"};CKEDITOR.plugins.setLang("textEntryInteraction","zh",zh)}();