"use strict";CKEDITOR.plugins.add("ndknowledgekey",{requires:"widget",icons:"ndknowledgekey",init:function(editor){CKEDITOR.dialog.add("ndknowledgekey",this.path+"dialogs/ndknowledgekey.js"),editor.widgets.add("ndknowledgekey",{allowedContent:"span(*){width}[*];",inline:!0,dialog:"ndknowledgekey",requiredContent:"span(ndknowledgekey)",draggable:!1,editables:{},defaults:function(){var innerText=editor.getSelection()?editor.getSelection().getSelectedText():"";return innerText||(innerText=""),{content:innerText}},template:'<span class="ndknowledgekey">{content}</span>',button:"创建关键字",upcast:function(element){return"span"==element.name&&element.hasClass("ndknowledgekey")},init:function(){console.log("in keyword ",$(this.element.$).attr("data-json"));var json=$(this.element.$).data("json")||{};json.keyword||(json.keyword=$(this.element.$).text()),this.setData("keyword",json.keyword||""),this.setData("synonym",json.synonym||""),this.setData("confusion",json.confusion||"")},data:function(){var json={};json.keyword=this.data.keyword||"",json.synonym=this.data.synonym||"",json.confusion=this.data.confusion||"",$(this.element.$).attr("data-json",JSON.stringify(json))}})}});