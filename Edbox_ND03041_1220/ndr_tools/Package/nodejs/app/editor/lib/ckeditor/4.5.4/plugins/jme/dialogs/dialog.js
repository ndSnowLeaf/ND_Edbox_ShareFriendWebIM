function mathHtml(obj){for(var html="<div class='mathIcon'>",i=0;i<obj.count;i++)html+="<li onclick=\"insert('"+jmeMath[obj.groupid][i]+'\')" style="background-position:-'+(obj.x+34*Math.floor(i%8))+"px -"+(obj.y+34*Math.floor(i/8))+'px;"></li>';return html+="</div>",obj.count>16&&(html+="<div class='more' mrows='"+Math.floor((obj.count+8-1)/8)+"' isOpen='0'>更多</div>"),html}function insert(q){$("#jme-math").focus().mathquill("write",q.replace("{/}","\\"))}function jmeInit(){$(".tabContent div.mathBox").hide(),$(".tabTitle li").click(function(){$(".tabContent div.mathBox").hide();var n=0,obj=this;$(".tabTitle li").each(function(i,o){obj==o&&(n=i)}),$(".tabTitle li").removeClass("current"),$(obj).addClass("current"),$(".tabContent div.mathBox:eq("+n+")").show()}),$(".tabTitle li:eq(0)").click(),$(".tabContent div.mathBox:eq(0)").html(mathHtml({groupid:0,x:0,y:272,count:14})),$(".tabContent div.mathBox:eq(2)").html(mathHtml({groupid:2,x:0,y:0,count:36})),$(".tabContent div.mathBox:eq(1)").html(mathHtml({groupid:1,x:0,y:170,count:22})),$(".tabContent div.mathBox div.more").click(function(){var mi=$(this).parent().find(".mathIcon");"0"==$(this).attr("isOpen")?(mi.animate({height:40*Number($(this).attr("mrows"))+"px"}),$(this).html("↑ 收起"),$(this).attr("isOpen","1")):(mi.animate({height:"80px"}),$(this).html("更多"),$(this).attr("isOpen","0"))}),$("#jme-math").html("").css("font-size",JMEditor.defaultFontSize).mathquill("editable").mathquill("write",""),JMEditor.versionCode>0&&JME_TOP_VERSION>0&&JMEditor.versionCode<JME_TOP_VERSION&&$(".ad").html(JME_VERSION_MSG)}var JMEditor=parent.JMEditor||{},JME_TOP_VERSION=0,JME_VERSION_MSG="";document.write('<link href="/lib/mathquill-0.9.4/mathquill.css" rel="stylesheet" type="text/css" /><script type="text/javascript" src="/lib/jquery/1.11.2/jquery.js"><\/script><script type="text/javascript" src="/lib/mathquill-0.9.4/mathquill.js"><\/script><script type="text/javascript" src="/lib/ckeditor/4.4.7/ckeditor.js"><\/script><script type="text/javascript">function callJmeInit(){if(window.jQuery){jmeInit();}else{setTimeout(callJmeInit,50);}} callJmeInit(); <\/script>');var jmeMath=[["{/}frac{}{}","^{}/_{}","x^{}","x_{}","x^{}_{}","{/}bar{}","{/}sqrt{}","{/}nthroot{}{}","{/}sum^{}_{n=}","{/}sum","{/}log_{}","{/}ln","{/}int_{}^{}","{/}oint_{}^{}"],["{/}alpha","{/}beta","{/}gamma","{/}delta","{/}varepsilon","{/}varphi","{/}lambda","{/}mu","{/}rho","{/}sigma","{/}omega","{/}Gamma","{/}Delta","{/}Theta","{/}Lambda","{/}Xi","{/}Pi","{/}Sigma","{/}Upsilon","{/}Phi","{/}Psi","{/}Omega"],["+","-","{/}pm","{/}times","{/}ast","{/}div","/","{/}bigtriangleup","=","{/}ne","{/}approx",">","<","{/}ge","{/}le","{/}infty","{/}cap","{/}cup","{/}because","{/}therefore","{/}subset","{/}supset","{/}subseteq","{/}supseteq","{/}nsubseteq","{/}nsupseteq","{/}in","{/}ni","{/}notin","{/}mapsto","{/}leftarrow","{/}rightarrow","{/}Leftarrow","{/}Rightarrow","{/}leftrightarrow","{/}Leftrightarrow"]];