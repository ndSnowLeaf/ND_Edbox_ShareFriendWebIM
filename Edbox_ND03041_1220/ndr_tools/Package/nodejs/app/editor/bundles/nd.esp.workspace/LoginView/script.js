define(["jquery","espSecurity","angular","i18n!","angular-prompter","angular-slides","css!./style.css"],function($,espSecurity,angular,i18n){return function(){return{name:"nd.esp.workspace.LoginView",title:i18n.translate("login.label.title"),render:function(view,viewConfig){angular.quickstart(view.element,{templateUrl:"bundles/nd.esp.workspace/LoginView/template.html",controller:["$scope","$prompter","$q","$timeout",function($scope,$prompter,$q,$timeout){$scope.username,$scope.password,$scope.login=function(){return $scope.username?$scope.password?void $q.proxy(espSecurity.login($scope.username,$scope.password)).then(function(authInfo){view.workbench.switchPerspective("nd.esp.workspace")},$prompter.messageIf("message")).finally($prompter.wait(i18n.translate("login.label.login.now"))):void $prompter.message(i18n.translate("login.login.password.empty")):void $prompter.message(i18n.translate("login.login.account.empty"))},$scope.keydown=function($event){console.log($event.keyCode)}}]},["slides","prompter",{translate:i18n}])}}}});