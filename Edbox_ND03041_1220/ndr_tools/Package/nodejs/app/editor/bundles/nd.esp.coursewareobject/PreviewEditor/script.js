define(["jquery","i18n!","espEnvironment","prompter","css!./style.css"],function($,i18n,espEnvironment,prompter){var templates={preview:'<div class="slides-coursewareobject-preview-preview"><iframe></iframe></div>'},embedUrl=espEnvironment.url.coursewareobjectPreview();return window.addEventListener("message",function(event){0==embedUrl.indexOf(event.origin)&&(console.debug("proxy message send for interaction question editor(preview): ",event.data),window.parent!=window&&window.parent.postMessage(event.data,"*"))}),function(){this.name="nd.esp.coursewareobject.PreviewEditor",this.supportTypes=["coursewareobject"],this.render=function(editor,resource,config){this.title=resource.data.title;var previewEl=$(templates.preview).appendTo(editor.element),params=$.extend({isPreview:!1},espEnvironment.location.params);delete params.sys,previewEl.children("iframe").attr("src",espEnvironment.url.coursewareobjectPreview(resource.data.identifier,config&&config.playerCode,params))}}});