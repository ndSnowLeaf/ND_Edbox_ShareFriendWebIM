define("platform/platform.js",["require","jlang","jquery"],function(require,jlang,$){function toArray(){for(var result=[],i=0;i<arguments.length;i++){var item=arguments[i];$.isArray(item)?result.push.apply(result,item):void 0!==item&&result.push(item)}return result}function rejectError(msg){throw msg}function Bundle(manifest){this.name=manifest.name,this.requires=toArray(manifest.requires),this.state=0;var activator=manifest.activator;activator=activator?$.isFunction(activator)?{start:activator,stop:$.noop}:{start:activator.start||$.noop,stop:activator.stop||$.noop}:{start:$.noop,stop:$.noop},this.activator=activator,this.extensionPoints=toArray(manifest.extensionPoints),this.extensions=manifest.extensions}function BundleContext(){this._services={}}function Platform(){function getBundlePath(name){return"bundles/"+name+"/bundle.js"}function getBundleManifest(name){for(var i=0;i<bundleManifests.length;i++)if(bundleManifests[i].name==name)return bundleManifests[i]}function installBundle(name){name&&(getBundleManifest(name)||require([getBundlePath(name)],function(manifest){if(manifest&&!getBundleManifest(name)){$.isFunction(manifest)&&(manifest=new manifest),manifest.name=name,bundleManifests.push(manifest);var bundle=new Bundle(manifest);bundles.push(bundle),bundleMap[bundle.name]=bundle,startAllBundle();for(var i=0;i<bundle.requires.length;i++)installBundle(bundle.requires[i])}}))}function getBundle(name){return bundleMap[name]}function startAllBundle(){for(var i=0;i<bundles.length;i++){var bundle=bundles[i];if(startBundle(bundle)===!0){startAllBundle();break}}}function startBundle(bundle){if(1!=bundle.state){for(var resolved=!0,i=0;i<bundle.requires.length;i++){var name=bundle.requires[i],requireBundle=getBundle(name);if(!requireBundle||0==requireBundle.state){resolved=!1;break}}if(resolved){bundle.state=1,bundle.activator.start(bundleContext);var extensions=bundle.extensions;$.isFunction(extensions)&&(extensions=extensions(bundleContext)),extensions=toArray(extensions);for(var i=0;i<extensions.length;i++){var extension=extensions[i];$.isFunction(extension)&&(extension=extension(bundleContext)),extension.bundle=bundle.name,processExtension(extension)}return processWaitingExtensions(bundle),checkBootstrap(),!0}}}function processExtension(extension){var targetBundle=getBundle(extension.targetBundle||extension.bundle);if(targetBundle)if(1==targetBundle.state)processExtensionPoint(targetBundle,extension);else{var e=waitingExtensions[extension.targetBundle];e||(e=waitingExtensions[extension.targetBundle]=[]),e.push(extension)}}function processWaitingExtensions(bundle){var extensions=waitingExtensions[bundle.name];if(extensions&&extensions.length)for(var i=0;i<extensions.length;i++)processExtensionPoint(bundle,extensions[i]);delete waitingExtensions[bundle.name]}function processExtensionPoint(bundle,extension){for(var extensionPoints=bundle.extensionPoints,i=0;i<extensionPoints.length;i++){var ep=extensionPoints[i];ep.point===extension.point&&(ep.resolve||$.noop)(extension.config)}}function checkBootstrap(b){if(!started&&(b===!0&&(bootstrap=b),bootstrap)){for(var ready=!0,i=0;i<mainBundleNames.length;i++){var bundle=getBundle(mainBundleNames[i]);if(!bundle||1!=bundle.state){ready=!1;break}}ready&&(started=!0,eventManager.trigger("ready",bundleContext))}}var bundleManifests=[],bundles=[],bundleMap={},eventManager=jlang.EventManager(["ready"]),_platform=this;this.ready=function(callback){eventManager.on("ready",callback)};var bundleContext=new BundleContext,waitingExtensions={},mainBundleNames=[],bootstrap=!1,started=!1;this.console={install:function(bundleName){for(var names=toArray.apply(null,arguments),i=0;i<names.length;i++){var name=names[i];mainBundleNames.push(name),installBundle(name)}},bootstrap:function(callback){_platform.ready(callback),checkBootstrap(!0)},exit:function(){}}}return BundleContext.prototype.registerService=function(name,obj){this._services[name]=obj},BundleContext.prototype.getService=function(name){var obj=this._services[name];return obj||rejectError("no service with name:"+name),obj},Platform}),requirejs(["jquery","platform/platform.js","espEnvironment","espSecurity","espService","prompter"],function($,Platform,espEnvironment,espSecurity,espService,prompter){function ready(){var platform=new Platform,bundles=["workbench","pptshell"];platform.console.install(bundles),platform.console.bootstrap(function(bundleContext){var workbench=bundleContext.getService("workbench");workbench.on("afterBootstrap",function(wb){$("#bootstrap-loading").remove(),wb.switchPerspective("nd.esp.resource.coursewareobject")}),workbench.bootstrap(document.body)})}espEnvironment.ready().then(ready,function(e){prompter.error(e)})}),define("question_list.js",function(){});