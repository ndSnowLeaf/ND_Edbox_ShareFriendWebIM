<div class="qti-ed fill-absolute" ng-cloak lang="{{lang}}" ng-class="{'sample':!showSample}"><div id="topSpace" style="display:none"></div><div id="bottomSpace" style="display:none"></div><form name="form" lc-rich-editor-bridge><div class="qti-ed-toolbar" style="display:block"><div lc-rich-editor asset-chapter-ids="metadata.chapter_ids" before-command="beforeCommand(commandName)" show-item-command="{{itemType.name=='specialcomplextext'}}" default-keyword="defaultKeyword"></div></div><p class="qti-paste-tips" translate>common.label.pasteTip</p><div class="qti-ed-assessment-navigator" ng-if="itemType.name=='data'"><p class="qti-ed-complex-tit"><span ng-bind="'qti.newdata.currentinsert_start'|translate"></span> <span class="highlight" ng-bind="assessments.length>0? assessments.length-1 : 0  "></span><span ng-bind="'qti.newdata.currentinsert_end'|translate"></span></p><ul class="qti-ed-complex-type-list clx"><li ng-repeat="assessment in assessments" ng-click="selectAssessment(assessment,$index)" ng-if="$index>0"><span ng-bind="$index"></span></li></ul></div><div class="qti-ed-content" ng-class="{'subitems0':itemType.name=='data'&&assessments.length==1,'subitems1':assessments.length>1&&assessments.length<=11,'subitems2':assessments.length>11}" ng-if="itemType.name!='specialcomplextext'"><div ng-repeat="assessment in assessments"><div class="complex-top" ng-if="assessments.length>1&&$index!=0" id="assessment_{{$index}}"></div><div class="qti-ed-assessment" ng-class="{'qti-ed-assessment-multi':!$first,'qti-ed-assessment-single':$first}"><div class="qti-ed-assessment-header" ng-if="!$first"><div class="qti-ed-assessment-title"><span ng-bind="$index+'.'"></span> <span ng-bind="assessment.type | dict:itemTypes:'name':'label'"></span></div><div class="qti-ed-assessment-tools"><a href="javascript:void(0);" class="qti-ed-complex-btn-up" ng-click="upAssessment(assessment)" translate ng-if="$index>1">qti.newdata.up</a> <a href="javascript:void(0);" class="qti-ed-complex-btn-down" ng-click="downAssessment(assessment)" translate ng-if="$index<assessments.length-1">qti.newdata.down</a> <a href="javascript:void(0);" class="qti-ed-complex-btn-del" ng-click="removeAssessment(assessment)" translate>common.label.delete</a></div></div><div ng-switch="assessment.type" class="qti-ed-assessment-item"><div ng-switch-when="data"><div lc-data-item assessment="assessment"></div></div><div ng-switch-when="choice"><div lc-choice-item assessment="assessment"></div></div><div ng-switch-when="multiplechoice"><div lc-multiplechoice-item assessment="assessment"></div></div><div ng-switch-when="order"><div lc-order-item assessment="assessment" default-keyword="defaultKeyword"></div></div><div ng-switch-when="judge"><div lc-judge-item assessment="assessment"></div></div><div ng-switch-when="match"><div lc-match-item assessment="assessment" default-keyword="defaultKeyword"></div></div><div ng-switch-when="textentry"><div lc-textentry-item assessment="assessment" responses="data.responses"></div></div><div ng-switch-when="textentrymultiple"><div lc-textentrymultiple-item assessment="assessment"></div></div><div ng-switch-when="extendedtext"><div lc-extendedtext-item assessment="assessment"></div></div><div ng-switch-when="graphicgapmatch"><div lc-graphicgapmatch-item assessment="assessment" default-keyword="defaultKeyword"></div></div><div ng-switch-when="drawing"><div lc-drawing-item assessment="assessment" subject="metadata.subject"></div></div><div ng-switch-when="gapmatch"><div lc-gapmatch-item assessment="assessment"></div></div><div ng-switch-when="inlinechoice"><div lc-inlinechoice-item assessment="assessment" responses="data.responses"></div></div><div ng-switch-when="handwrite" ng-if="assessments.length>1"><div lc-handwrite-item assessment="assessment" responses="data.responses" default-keyword="defaultKeyword"></div></div><div ng-switch-when="handwrite" ng-if="assessments.length==1"><div lc-handwrite-item-old assessment="assessment" responses="data.responses" default-keyword="defaultKeyword"></div></div><div ng-switch-when="vote"><div lc-vote-item assessment="assessment"></div></div><div ng-switch-when="subjectivebase"><div lc-subjective-base assessment="assessment"></div></div></div></div></div></div><div class="qti-ed-content qti-ed-custom-content" ng-if="itemType.name=='specialcomplextext'"><div class="qti-ed-custom-area-wrap"><div class="qti-ed-custom-area" ng-style="{'width':areaWidth+'px','height':areaHeight+'px'}" ng-click="selectAssessment()"><div ng-repeat="assessment in assessments" class="qti-ed-assessment" ng-class="{'actvie':assessment==activedAssessment,'editing':assessment==editingAssessment}" ng-switch="assessment.type" style="position: absolute" ng-style="{'width':assessment._width+'px','height':assessment._height+'px','left':assessment._left+'px','top':assessment._top+'px'}" ng-click="$event.stopPropagation()"><div ng-switch-when="data" lc-data-interaction assessment="assessment"></div><div ng-switch-when="textentry" lc-textentry-interaction assessment="assessment" responses="data.responses"></div><div ng-switch-when="handwrite" lc-handwrite-interaction assessment="assessment"></div><div class="qti-ed-custom-item-drag" tabindex="0" ng-mousedown="selectAssessment(assessment)" ng-dblclick="beginEditAssessment(assessment)" ng-keydown="onKeydown(assessment,$event)" nd-drag="onDrag(assessment,$event)" start-drag="onDragStart(assessment,$event)"></div><div class="qti-ed-custom-item-resize" nd-drag="onResize(assessment,$event)" start-drag="onResizeStart(assessment,$event)"></div><div class="qti-ed-custom-item-remove" ng-click="removeAssessment(assessment)">x</div></div></div></div><div class="qti-ed-custom-area-extend" ng-if="editingAssessment"><div ng-switch="editingAssessment.type"></div></div></div><div class="qti-ed-bottombar" ng-hide="!showSample"><div class="qti-ed-bottombar-left" ng-show="itemType.category=='compound'"><div class="qti-ed-complex-type-select open"><a href="javascript:;" class="qti-select-cont" ng-click="showStartAddQuestion($event)" translate>qti.label.add_item</a><ul class="qti-select-bd" ng-show="startAddQuestion"><li ng-repeat="item in itemTypes" ng-click="addAssessment(item.name)" ng-bind="item.label"></li><i class="arrow_down"></i></ul></div><a href="javascript:void(0);" class="qti-ed-complex-btn-default" ng-click="startQuestionSelect()" translate>asset.label.insert.question.start</a></div><div class="qti-ed-bottombar-right"><a href="javascript:void(0);" class="lc-btn lc-btn-default" ng-disabled="form.$invalid||!validData()" ng-class="{disabled:form.$invalid||!validData()}" ng-click="preview()"><b translate>common.label.preview</b></a> <a href="javascript:void(0);" class="lc-btn lc-btn-primary" ng-disabled="form.$invalid||!validData()" ng-class="{disabled:form.$invalid||!validData()}" ng-click="save()"><b translate>common.label.save</b></a> <a href="javascript:void(0);" class="lc-btn lc-btn-primary" ng-disabled="form.$invalid||!validData()" ng-class="{disabled:form.$invalid||!validData()}" ng-if="isEmbed&&(noinsert!='true')" ng-hide="disalbeButtons.insert" ng-click="insert()"><b translate>common.label.insert</b></a></div></div></form><div nd-dialog name="previewDialog" width="1080px" height="700px"><div style="width:100%;height:100%"><iframe width="100%" height="100%" style="border: none"></iframe></div></div><div nd-dialog name="videoPreviewDialog" dialog-title="{{'common.label.preview' | translate}}" height="512px" width="670px"><div style="width:100%;height:100%"><iframe id="previewDialog_iframe" style="border: none" width="99%" height="99%"></iframe></div></div><div nd-dialog name="questionDialog" dialog-title="{{'asset.label.insert.question' | translate}}" width="1080px" height="700px" class="left_title"><div lc-question-select chapter-ids="assetChapterIds" init-chapter-id="initChapterId" selected-questions="assessments" on-select="onQuestionSelect(item)" handler="questionSelector" first-load="false" default-keyword="defaultKeyword"></div></div><input type="text" id="hideInput" style="display:none"></div>